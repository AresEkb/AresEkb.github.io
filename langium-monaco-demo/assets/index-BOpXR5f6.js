import{r as O0,a as z0,b as Se,R as H0,H as U0,N as Ki,c as q0,d as Bi}from"./react-B5nPjNA6.js";import{r as L0}from"./vscode-languageclient-jz2LWQy5.js";import"./monaco-vscode-editor-api-BYa5i2YN.js";import"./monaco-vscode-api-DkhVdw0_.js";import{M as G0,u as j0}from"./monaco-editor-wrapper-CevX1qgl.js";import{r as Qe}from"./vscode-lsp-Cixq1BNr.js";import{g as Vh,s as ht,i as se,d as hn,e as rn,f as rt,h as K0,j as Xh,t as gl,k as Sc,l as B0,L as F0,n as Ot,U as pr,o as ul,p as We,q as Ye,u as at,v as Yt,w as Gc,x as Vt,y as Xt,z as mr,A as pt,B as ot,C as jc,D as Zh,E as qn,F as Ks,G as Wh,H as Ln,I as P0,J as Xm,K as Zm,M as Y0,N as Ne,O as Ih,P as Q0,Q as V0,R as X0,S as Z0,T as W0,V as Gs,W as I0,X as Jh,Y as J0,Z as Fr,_ as ey,$ as Lr,a0 as ty,a1 as Wm,a2 as eT,a3 as ny,a4 as ry,a5 as tT,a6 as nT,a7 as rT,a8 as aT,a9 as Im,aa as ay,ab as Jm,ac as eh,ad as Dc,ae as iT,af as lT,ag as dl,ah as sT,ai as iy,aj as jr,ak as oT,al as th,am as uT,an as nh,ao as cT,ap as fT,aq as dT,ar as pT,as as mT,at as hT,au as ln,av as Yr,aw as yT,ax as ly,ay as sy,az as gT,aA as ja,aB as $c,aC as vT,aD as TT,aE as Ze,aF as Ba,aG as bT,aH as oy,aI as RT,aJ as uy,aK as Kc,aL as Bc,aM as Fc,aN as cy,aO as fy,aP as On,aQ as ST,aR as DT,aS as $T,aT as Bs,aU as AT,aV as CT,aW as rh,aX as _T,aY as mn,aZ as cc,a_ as wT,a$ as NT,b0 as kT,b1 as xT,b2 as ET,b3 as dy}from"./langium-5XF2oqgV.js";import{aR as MT}from"./monaco-vscode-base-service-override-BYqBQsid.js";import"./monaco-vscode-extension-api-D9foA0bl.js";import"./monaco-vscode-configuration-service-override-DGcvGpAH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}})();var fc={exports:{}},Fi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function OT(){if(ah)return Fi;ah=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:o,type:l,key:d,ref:s!==void 0?s:null,props:c}}return Fi.Fragment=n,Fi.jsx=a,Fi.jsxs=a,Fi}var ih;function zT(){return ih||(ih=1,fc.exports=OT()),fc.exports}var ne=zT(),dc={exports:{}},Pi={},pc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function HT(){return lh||(lh=1,function(o){function n(M,Q){var J=M.length;M.push(Q);e:for(;0<J;){var Y=J-1>>>1,O=M[Y];if(0<s(O,Q))M[Y]=Q,M[J]=O,J=Y;else break e}}function a(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var Q=M[0],J=M.pop();if(J!==Q){M[0]=J;e:for(var Y=0,O=M.length,he=O>>>1;Y<he;){var xe=2*(Y+1)-1,Te=M[xe],Le=xe+1,At=M[Le];if(0>s(Te,J))Le<O&&0>s(At,Te)?(M[Y]=At,M[Le]=J,Y=Le):(M[Y]=Te,M[xe]=J,Y=xe);else if(Le<O&&0>s(At,J))M[Y]=At,M[Le]=J,Y=Le;else break e}}return Q}function s(M,Q){var J=M.sortIndex-Q.sortIndex;return J!==0?J:M.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();o.unstable_now=function(){return d.now()-p}}var m=[],y=[],g=1,T=null,R=3,D=!1,U=!1,B=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function W(M){for(var Q=a(y);Q!==null;){if(Q.callback===null)l(y);else if(Q.startTime<=M)l(y),Q.sortIndex=Q.expirationTime,n(m,Q);else break;Q=a(y)}}function oe(M){if(B=!1,W(M),!U)if(a(m)!==null)U=!0,ie||(ie=!0,qe());else{var Q=a(y);Q!==null&&vt(oe,Q.startTime-M)}}var ie=!1,me=-1,fe=5,ze=-1;function ke(){return L?!0:!(o.unstable_now()-ze<fe)}function yt(){if(L=!1,ie){var M=o.unstable_now();ze=M;var Q=!0;try{e:{U=!1,B&&(B=!1,j(me),me=-1),D=!0;var J=R;try{t:{for(W(M),T=a(m);T!==null&&!(T.expirationTime>M&&ke());){var Y=T.callback;if(typeof Y=="function"){T.callback=null,R=T.priorityLevel;var O=Y(T.expirationTime<=M);if(M=o.unstable_now(),typeof O=="function"){T.callback=O,W(M),Q=!0;break t}T===a(m)&&l(m),W(M)}else l(m);T=a(m)}if(T!==null)Q=!0;else{var he=a(y);he!==null&&vt(oe,he.startTime-M),Q=!1}}break e}finally{T=null,R=J,D=!1}Q=void 0}}finally{Q?qe():ie=!1}}}var qe;if(typeof P=="function")qe=function(){P(yt)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,sn=gt.port2;gt.port1.onmessage=yt,qe=function(){sn.postMessage(null)}}else qe=function(){F(yt,0)};function vt(M,Q){me=F(function(){M(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return R},o.unstable_next=function(M){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var J=R;R=Q;try{return M()}finally{R=J}},o.unstable_requestPaint=function(){L=!0},o.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=R;R=M;try{return Q()}finally{R=J}},o.unstable_scheduleCallback=function(M,Q,J){var Y=o.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Y+J:Y):J=Y,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,M={id:g++,callback:Q,priorityLevel:M,startTime:J,expirationTime:O,sortIndex:-1},J>Y?(M.sortIndex=J,n(y,M),a(m)===null&&M===a(y)&&(B?(j(me),me=-1):B=!0,vt(oe,J-Y))):(M.sortIndex=O,n(m,M),U||D||(U=!0,ie||(ie=!0,qe()))),M},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(M){var Q=R;return function(){var J=R;R=Q;try{return M.apply(this,arguments)}finally{R=J}}}}(mc)),mc}var sh;function UT(){return sh||(sh=1,pc.exports=HT()),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function qT(){if(oh)return Pi;oh=1;var o=UT(),n=O0(),a=z0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return p(u),e;if(f===i)return p(u),t;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var h=!1,v=u.child;v;){if(v===r){h=!0,r=u,i=f;break}if(v===i){h=!0,i=u,r=f;break}v=v.sibling}if(!h){for(v=f.child;v;){if(v===r){h=!0,r=f,i=u;break}if(v===i){h=!0,i=f,r=u;break}v=v.sibling}if(!h)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ze=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function sn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case L:return"Profiler";case B:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case P:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return t=e.displayName||null,t!==null?t:sn(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return sn(e(t))}catch{}}return null}var vt=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Y=[],O=-1;function he(e){return{current:e}}function xe(e){0>O||(e.current=Y[O],Y[O]=null,O--)}function Te(e,t){O++,Y[O]=e.current,e.current=t}var Le=he(null),At=he(null),Zt=he(null),yr=he(null);function Qr(e,t){switch(Te(Zt,t),Te(At,e),Te(Le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dm(t),e=$m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(Le),Te(Le,e)}function jn(){xe(Le),xe(At),xe(Zt)}function re(e){e.memoizedState!==null&&Te(yr,e);var t=Le.current,r=$m(t,e.type);t!==r&&(Te(At,e),Te(Le,r))}function w(e){At.current===e&&(xe(Le),xe(At)),yr.current===e&&(xe(yr),Ui._currentValue=J)}var G=Object.prototype.hasOwnProperty,le=o.unstable_scheduleCallback,H=o.unstable_cancelCallback,ut=o.unstable_shouldYield,Wt=o.unstable_requestPaint,ct=o.unstable_now,Tl=o.unstable_getCurrentPriorityLevel,Fa=o.unstable_ImmediatePriority,Pa=o.unstable_UserBlockingPriority,gr=o.unstable_NormalPriority,Vr=o.unstable_LowPriority,bl=o.unstable_IdlePriority,Xr=o.log,Zr=o.unstable_setDisableYieldValue,on=null,Be=null;function E(e){if(typeof Xr=="function"&&Zr(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(on,e)}catch{}}var k=Math.clz32?Math.clz32:zt,V=Math.log,It=Math.LN2;function zt(e){return e>>>=0,e===0?32:31-(V(e)/It|0)|0}var Wr=256,Rl=4194304;function vr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sl(e,t,r){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~f,i!==0?u=vr(i):(h&=v,h!==0?u=vr(h):r||(r=v&~e,r!==0&&(u=vr(r))))):(v=i&~f,v!==0?u=vr(v):h!==0?u=vr(h):r||(r=i&~e,r!==0&&(u=vr(r)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:u}function Ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Rg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function sf(){var e=Rl;return Rl<<=1,(Rl&62914560)===0&&(Rl=4194304),e}function Is(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sg(e,t,r,i,u,f){var h=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,C=e.hiddenUpdates;for(r=h&~r;0<r;){var x=31-k(r),q=1<<x;v[x]=0,b[x]=-1;var _=C[x];if(_!==null)for(C[x]=null,x=0;x<_.length;x++){var N=_[x];N!==null&&(N.lane&=-536870913)}r&=~q}i!==0&&of(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(h&~t))}function of(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-k(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|r&4194090}function uf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-k(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}function Js(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cf(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Bm(e.type))}function Dg(e,t){var r=Q.p;try{return Q.p=e,t()}finally{Q.p=r}}var Kn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Kn,Tt="__reactProps$"+Kn,Ir="__reactContainer$"+Kn,to="__reactEvents$"+Kn,$g="__reactListeners$"+Kn,Ag="__reactHandles$"+Kn,ff="__reactResources$"+Kn,Va="__reactMarker$"+Kn;function no(e){delete e[ft],delete e[Tt],delete e[to],delete e[$g],delete e[Ag]}function Jr(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ir]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wm(e);e!==null;){if(r=e[ft])return r;e=wm(e)}return t}e=r,r=e.parentNode}return null}function ea(e){if(e=e[ft]||e[Ir]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Xa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ta(e){var t=e[ff];return t||(t=e[ff]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Va]=!0}var df=new Set,pf={};function Tr(e,t){na(e,t),na(e+"Capture",t)}function na(e,t){for(pf[e]=t,e=0;e<t.length;e++)df.add(t[e])}var Cg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},hf={};function _g(e){return G.call(hf,e)?!0:G.call(mf,e)?!1:Cg.test(e)?hf[e]=!0:(mf[e]=!0,!1)}function Dl(e,t,r){if(_g(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function $l(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function gn(e,t,r,i){if(i===null)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+i)}}var ro,yf;function ra(e){if(ro===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||"",yf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+e+yf}var ao=!1;function io(e,t){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(N){var _=N}Reflect.construct(e,[],q)}else{try{q.call()}catch(N){_=N}e.call(q.prototype)}}else{try{throw Error()}catch(N){_=N}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(N){if(N&&_&&typeof N.stack=="string")return[N.stack,_.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),h=f[0],v=f[1];if(h&&v){var b=h.split(`
`),C=v.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===C.length)for(i=b.length-1,u=C.length-1;1<=i&&0<=u&&b[i]!==C[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==C[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==C[u]){var x=`
`+b[i].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=i&&0<=u);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ra(r):""}function wg(e){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return io(e.type,!1);case 11:return io(e.type.render,!1);case 1:return io(e.type,!0);case 31:return ra("Activity");default:return""}}function gf(e){try{var t="";do t+=wg(e),e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ng(e){var t=vf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){i=""+h,f.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){e._valueTracker||(e._valueTracker=Ng(e))}function Tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=vf(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kg=/[\n"\\]/g;function Ut(e){return e.replace(kg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lo(e,t,r,i,u,f,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?so(e,h,Ht(t)):r!=null?so(e,h,Ht(r)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ht(v):e.removeAttribute("name")}function bf(e,t,r,i,u,f,h,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;r=r!=null?""+Ht(r):"",t=t!=null?""+Ht(t):r,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function so(e,t,r){t==="number"&&Cl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function aa(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Ht(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Rf(e,t,r){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Ht(r):""}function Sf(e,t,r,i){if(t==null){if(i!=null){if(r!=null)throw Error(l(92));if(vt(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),t=r}r=Ht(t),e.defaultValue=r,i=e.textContent,i===r&&i!==""&&i!==null&&(e.value=i)}function ia(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(e,t,r){var i=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,r):typeof r!="number"||r===0||xg.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function $f(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&r[u]!==i&&Df(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&Df(e,f,t[f])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return Mg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,sa=null;function Af(e){var t=ea(e);if(t&&(e=t.stateNode)){var r=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=i[Tt]||null;if(!u)throw Error(l(90));lo(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<r.length;t++)i=r[t],i.form===e.form&&Tf(i)}break e;case"textarea":Rf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&aa(e,!!r.multiple,t,!1)}}}var fo=!1;function Cf(e,t,r){if(fo)return e(t,r);fo=!0;try{var i=e(t);return i}finally{if(fo=!1,(la!==null||sa!==null)&&(ds(),la&&(t=la,e=sa,sa=la=null,Af(t),e)))for(t=0;t<e.length;t++)Af(e[t])}}function Za(e,t){var r=e.stateNode;if(r===null)return null;var i=r[Tt]||null;if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(vn)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){po=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{po=!1}var Bn=null,mo=null,wl=null;function _f(){if(wl)return wl;var e,t=mo,r=t.length,i,u="value"in Bn?Bn.value:Bn.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var h=r-e;for(i=1;i<=h&&t[r-i]===u[f-i];i++);return wl=u.slice(e,1<i?1-i:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function wf(){return!1}function bt(e){function t(r,i,u,f,h){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kl:wf,this.isPropagationStopped=wf,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=bt(br),Ia=g({},br,{view:0,detail:0}),Og=bt(Ia),ho,yo,Ja,El=g({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(ho=e.screenX-Ja.screenX,yo=e.screenY-Ja.screenY):yo=ho=0,Ja=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),Nf=bt(El),zg=g({},El,{dataTransfer:0}),Hg=bt(zg),Ug=g({},Ia,{relatedTarget:0}),go=bt(Ug),qg=g({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Lg=bt(qg),Gg=g({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jg=bt(Gg),Kg=g({},br,{data:0}),kf=bt(Kg),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pg[e])?!!t[e]:!1}function vo(){return Yg}var Qg=g({},Ia,{key:function(e){if(e.key){var t=Bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vg=bt(Qg),Xg=g({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=bt(Xg),Zg=g({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),Wg=bt(Zg),Ig=g({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jg=bt(Ig),ev=g({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=bt(ev),nv=g({},br,{newState:0,oldState:0}),rv=bt(nv),av=[9,13,27,32],To=vn&&"CompositionEvent"in window,ei=null;vn&&"documentMode"in document&&(ei=document.documentMode);var iv=vn&&"TextEvent"in window&&!ei,Ef=vn&&(!To||ei&&8<ei&&11>=ei),Mf=" ",Of=!1;function zf(e,t){switch(e){case"keyup":return av.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function lv(e,t){switch(e){case"compositionend":return Hf(t);case"keypress":return t.which!==32?null:(Of=!0,Mf);case"textInput":return e=t.data,e===Mf&&Of?null:e;default:return null}}function sv(e,t){if(oa)return e==="compositionend"||!To&&zf(e,t)?(e=_f(),wl=mo=Bn=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ef&&t.locale!=="ko"?null:t.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ov[e.type]:t==="textarea"}function qf(e,t,r,i){la?sa?sa.push(i):sa=[i]:la=i,t=vs(t,"onChange"),0<t.length&&(r=new xl("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ti=null,ni=null;function uv(e){vm(e,0)}function Ml(e){var t=Xa(e);if(Tf(t))return e}function Lf(e,t){if(e==="change")return t}var Gf=!1;if(vn){var bo;if(vn){var Ro="oninput"in document;if(!Ro){var jf=document.createElement("div");jf.setAttribute("oninput","return;"),Ro=typeof jf.oninput=="function"}bo=Ro}else bo=!1;Gf=bo&&(!document.documentMode||9<document.documentMode)}function Kf(){ti&&(ti.detachEvent("onpropertychange",Bf),ni=ti=null)}function Bf(e){if(e.propertyName==="value"&&Ml(ni)){var t=[];qf(t,ni,e,co(e)),Cf(uv,t)}}function cv(e,t,r){e==="focusin"?(Kf(),ti=t,ni=r,ti.attachEvent("onpropertychange",Bf)):e==="focusout"&&Kf()}function fv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(ni)}function dv(e,t){if(e==="click")return Ml(t)}function pv(e,t){if(e==="input"||e==="change")return Ml(t)}function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:mv;function ri(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!G.call(t,u)||!Ct(e[u],t[u]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var r=Ff(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ff(r)}}function Yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cl(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cl(e.document)}return t}function So(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hv=vn&&"documentMode"in document&&11>=document.documentMode,ua=null,Do=null,ai=null,$o=!1;function Vf(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$o||ua==null||ua!==Cl(i)||(i=ua,"selectionStart"in i&&So(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ai&&ri(ai,i)||(ai=i,i=vs(Do,"onSelect"),0<i.length&&(t=new xl("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ua)))}function Rr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ca={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Ao={},Xf={};vn&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Sr(e){if(Ao[e])return Ao[e];if(!ca[e])return e;var t=ca[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xf)return Ao[e]=t[r];return e}var Zf=Sr("animationend"),Wf=Sr("animationiteration"),If=Sr("animationstart"),yv=Sr("transitionrun"),gv=Sr("transitionstart"),vv=Sr("transitioncancel"),Jf=Sr("transitionend"),ed=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Co.push("scrollEnd");function Jt(e,t){ed.set(e,t),Tr(t,[e])}var td=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var r=td.get(e);return r!==void 0?r:(t={value:e,source:t,stack:gf(t)},td.set(e,t),t)}return{value:e,source:t,stack:gf(t)}}var Lt=[],fa=0,_o=0;function Ol(){for(var e=fa,t=_o=fa=0;t<e;){var r=Lt[t];Lt[t++]=null;var i=Lt[t];Lt[t++]=null;var u=Lt[t];Lt[t++]=null;var f=Lt[t];if(Lt[t++]=null,i!==null&&u!==null){var h=i.pending;h===null?u.next=u:(u.next=h.next,h.next=u),i.pending=u}f!==0&&nd(r,u,f)}}function zl(e,t,r,i){Lt[fa++]=e,Lt[fa++]=t,Lt[fa++]=r,Lt[fa++]=i,_o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function wo(e,t,r,i){return zl(e,t,r,i),Hl(e)}function da(e,t){return zl(e,null,null,t),Hl(e)}function nd(e,t,r){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=e.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-k(r),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=r|536870912),f):null}function Hl(e){if(50<Ni)throw Ni=0,Ou=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pa={};function Tv(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,i){return new Tv(e,t,r,i)}function No(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function rd(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,r,i,u,f){var h=0;if(i=e,typeof e=="function")No(e)&&(h=1);else if(typeof e=="string")h=R0(e,r,Le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ze:return e=_t(31,r,t,u),e.elementType=ze,e.lanes=f,e;case U:return Dr(r.children,u,f,t);case B:h=8,u|=24;break;case L:return e=_t(12,r,t,u|2),e.elementType=L,e.lanes=f,e;case oe:return e=_t(13,r,t,u),e.elementType=oe,e.lanes=f,e;case ie:return e=_t(19,r,t,u),e.elementType=ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case P:h=10;break e;case j:h=9;break e;case W:h=11;break e;case me:h=14;break e;case fe:h=16,i=null;break e}h=29,r=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=_t(h,r,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function Dr(e,t,r,i){return e=_t(7,e,i,t),e.lanes=r,e}function ko(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function xo(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ma=[],ha=0,ql=null,Ll=0,Gt=[],jt=0,$r=null,bn=1,Rn="";function Ar(e,t){ma[ha++]=Ll,ma[ha++]=ql,ql=e,Ll=t}function ad(e,t,r){Gt[jt++]=bn,Gt[jt++]=Rn,Gt[jt++]=$r,$r=e;var i=bn;e=Rn;var u=32-k(i)-1;i&=~(1<<u),r+=1;var f=32-k(t)+u;if(30<f){var h=u-u%5;f=(i&(1<<h)-1).toString(32),i>>=h,u-=h,bn=1<<32-k(t)+u|r<<u|i,Rn=f+e}else bn=1<<f|r<<u|i,Rn=e}function Eo(e){e.return!==null&&(Ar(e,1),ad(e,1,0))}function Mo(e){for(;e===ql;)ql=ma[--ha],ma[ha]=null,Ll=ma[--ha],ma[ha]=null;for(;e===$r;)$r=Gt[--jt],Gt[jt]=null,Rn=Gt[--jt],Gt[jt]=null,bn=Gt[--jt],Gt[jt]=null}var mt=null,He=null,be=!1,Cr=null,un=!1,Oo=Error(l(519));function _r(e){var t=Error(l(418,""));throw si(qt(t,e)),Oo}function id(e){var t=e.stateNode,r=e.type,i=e.memoizedProps;switch(t[ft]=e,t[Tt]=i,r){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(r=0;r<xi.length;r++)pe(xi[r],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),bf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Al(t);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Sf(t,i.value,i.defaultValue,i.children),Al(t)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||i.suppressHydrationWarning===!0||Sm(t.textContent,r)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=Ts),t=!0):t=!1,t||_r(e)}function ld(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:mt=mt.return}}function ii(e){if(e!==mt)return!1;if(!be)return ld(e),be=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Zu(e.type,e.memoizedProps)),r=!r),r&&He&&_r(e),ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(t===0){He=tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,ir(e.type)?(e=ec,ec=null,He=e):He=t):He=mt?tn(e.stateNode.nextSibling):null;return!0}function li(){He=mt=null,be=!1}function sd(){var e=Cr;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Cr=null),e}function si(e){Cr===null?Cr=[e]:Cr.push(e)}var zo=he(null),wr=null,Sn=null;function Fn(e,t,r){Te(zo,t._currentValue),t._currentValue=r}function Dn(e){e._currentValue=zo.current,xe(zo)}function Ho(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Uo(e,t,r,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var h=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var b=0;b<t.length;b++)if(v.context===t[b]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),Ho(f.return,r,e),i||(h=null);break e}f=v.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(l(341));h.lanes|=r,f=h.alternate,f!==null&&(f.lanes|=r),Ho(h,r,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function oi(e,t,r,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=u.type;Ct(u.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(u===yr.current){if(h=u.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}u=u.return}e!==null&&Uo(t,e,r,i),t.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){wr=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return od(wr,e)}function jl(e,t){return wr===null&&Nr(e),od(e,t)}function od(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Sn===null){if(e===null)throw Error(l(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return r}var bv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Rv=o.unstable_scheduleCallback,Sv=o.unstable_NormalPriority,Ve={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new bv,data:new Map,refCount:0}}function ui(e){e.refCount--,e.refCount===0&&Rv(Sv,function(){e.controller.abort()})}var ci=null,Lo=0,ya=0,ga=null;function Dv(e,t){if(ci===null){var r=ci=[];Lo=0,ya=ju(),ga={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Lo++,t.then(ud,ud),t}function ud(){if(--Lo===0&&ci!==null){ga!==null&&(ga.status="fulfilled");var e=ci;ci=null,ya=0,ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $v(e,t){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<r.length;u++)(0,r[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var cd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dv(e,t),cd!==null&&cd(e,t)};var kr=he(null);function Go(){var e=kr.current;return e!==null?e:Ee.pooledCache}function Kl(e,t){t===null?Te(kr,kr.current):Te(kr,t.pool)}function fd(){var e=Go();return e===null?null:{parent:Ve._currentValue,pool:e}}var fi=Error(l(460)),dd=Error(l(474)),Bl=Error(l(542)),jo={then:function(){}};function pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fl(){}function md(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Fl,Fl),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e;default:if(typeof t.status=="string")t.then(Fl,Fl);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e}throw di=t,fi}}var di=null;function hd(){if(di===null)throw Error(l(459));var e=di;return di=null,e}function yd(e){if(e===fi||e===Bl)throw Error(l(483))}var Pn=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(De&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Hl(e),nd(e,null,r),t}return zl(e,i,t,r),Hl(e)}function pi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,uf(e,r)}}function Fo(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var h={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=h:f=f.next=h,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Po=!1;function mi(){if(Po){var e=ga;if(e!==null)throw e}}function hi(e,t,r,i){Po=!1;var u=e.updateQueue;Pn=!1;var f=u.firstBaseUpdate,h=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var b=v,C=b.next;b.next=null,h===null?f=C:h.next=C,h=b;var x=e.alternate;x!==null&&(x=x.updateQueue,v=x.lastBaseUpdate,v!==h&&(v===null?x.firstBaseUpdate=C:v.next=C,x.lastBaseUpdate=b))}if(f!==null){var q=u.baseState;h=0,x=C=b=null,v=f;do{var _=v.lane&-536870913,N=_!==v.lane;if(N?(ye&_)===_:(i&_)===_){_!==0&&_===ya&&(Po=!0),x!==null&&(x=x.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=e,I=v;_=t;var _e=r;switch(I.tag){case 1:if(ae=I.payload,typeof ae=="function"){q=ae.call(_e,q,_);break e}q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=I.payload,_=typeof ae=="function"?ae.call(_e,q,_):ae,_==null)break e;q=g({},q,_);break e;case 2:Pn=!0}}_=v.callback,_!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[_]:N.push(_))}else N={lane:_,tag:v.tag,payload:v.payload,callback:v.callback,next:null},x===null?(C=x=N,b=q):x=x.next=N,h|=_;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;N=v,v=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);x===null&&(b=q),u.baseState=b,u.firstBaseUpdate=C,u.lastBaseUpdate=x,f===null&&(u.shared.lanes=0),tr|=h,e.lanes=h,e.memoizedState=q}}function gd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function vd(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)gd(r[e],t)}var va=he(null),Pl=he(0);function Td(e,t){e=kn,Te(Pl,e),Te(va,t),kn=e|t.baseLanes}function Yo(){Te(Pl,kn),Te(va,va.current)}function Qo(){kn=Pl.current,xe(va),xe(Pl)}var Vn=0,ue=null,Ae=null,Fe=null,Yl=!1,Ta=!1,xr=!1,Ql=0,yi=0,ba=null,Av=0;function Ge(){throw Error(l(321))}function Vo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ct(e[r],t[r]))return!1;return!0}function Xo(e,t,r,i,u,f){return Vn=f,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?np:rp,xr=!1,f=r(i,u),xr=!1,Ta&&(f=Rd(t,r,i,u)),bd(e),f}function bd(e){M.H=Jl;var t=Ae!==null&&Ae.next!==null;if(Vn=0,Fe=Ae=ue=null,Yl=!1,yi=0,ba=null,t)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&Gl(e)&&(et=!0))}function Rd(e,t,r,i){ue=e;var u=0;do{if(Ta&&(ba=null),yi=0,Ta=!1,25<=u)throw Error(l(301));if(u+=1,Fe=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Ev,f=t(r,i)}while(Ta);return f}function Cv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?gi(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ue.flags|=1024),t}function Zo(){var e=Ql!==0;return Ql=0,e}function Wo(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Io(e){if(Yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yl=!1}Vn=0,Fe=Ae=ue=null,Ta=!1,yi=Ql=0,ba=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(Ae===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?ue.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gi(e){var t=yi;return yi+=1,ba===null&&(ba=[]),e=md(ba,e,t),t=ue,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?np:rp),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gi(e);if(e.$$typeof===P)return dt(e)}throw Error(l(438,String(e)))}function eu(e){var t=null,r=ue.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Jo(),ue.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),i=0;i<e;i++)r[i]=ke;return t.index++,r}function $n(e,t){return typeof t=="function"?t(e):t}function Xl(e){var t=Pe();return tu(t,Ae,e)}function tu(e,t,r){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var h=u.next;u.next=f.next,f.next=h}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var v=h=null,b=null,C=t,x=!1;do{var q=C.lane&-536870913;if(q!==C.lane?(ye&q)===q:(Vn&q)===q){var _=C.revertLane;if(_===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),q===ya&&(x=!0);else if((Vn&_)===_){C=C.next,_===ya&&(x=!0);continue}else q={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=q,h=f):b=b.next=q,ue.lanes|=_,tr|=_;q=C.action,xr&&r(f,q),f=C.hasEagerState?C.eagerState:r(f,q)}else _={lane:q,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=_,h=f):b=b.next=_,ue.lanes|=q,tr|=q;C=C.next}while(C!==null&&C!==t);if(b===null?h=f:b.next=v,!Ct(f,e.memoizedState)&&(et=!0,x&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=h,e.baseQueue=b,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function nu(e){var t=Pe(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var h=u=u.next;do f=e(f,h.action),h=h.next;while(h!==u);Ct(f,t.memoizedState)||(et=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function Sd(e,t,r){var i=ue,u=Pe(),f=be;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=t();var h=!Ct((Ae||u).memoizedState,r);h&&(u.memoizedState=r,et=!0),u=u.queue;var v=Ad.bind(null,i,u,e);if(vi(2048,8,v,[e]),u.getSnapshot!==t||h||Fe!==null&&Fe.memoizedState.tag&1){if(i.flags|=2048,Ra(9,Zl(),$d.bind(null,i,u,r,t),null),Ee===null)throw Error(l(349));f||(Vn&124)!==0||Dd(i,t,r)}return r}function Dd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t=Jo(),ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $d(e,t,r,i){t.value=r,t.getSnapshot=i,Cd(t)&&_d(e)}function Ad(e,t,r){return r(function(){Cd(t)&&_d(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ct(e,r)}catch{return!0}}function _d(e){var t=da(e,2);t!==null&&Et(t,e,2)}function ru(e){var t=Rt();if(typeof e=="function"){var r=e;if(e=r(),xr){E(!0);try{r()}finally{E(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function wd(e,t,r,i){return e.baseState=r,tu(e,Ae,typeof i=="function"?i:$n)}function _v(e,t,r,i,u){if(Il(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){f.listeners.push(h)}};M.T!==null?r(!0):f.isTransition=!1,i(f),r=t.pending,r===null?(f.next=t.pending=f,Nd(t,f)):(f.next=r.next,t.pending=r.next=f)}}function Nd(e,t){var r=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=M.T,h={};M.T=h;try{var v=r(u,i),b=M.S;b!==null&&b(h,v),kd(e,t,v)}catch(C){au(e,t,C)}finally{M.T=f}}else try{f=r(u,i),kd(e,t,f)}catch(C){au(e,t,C)}}function kd(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){xd(e,t,i)},function(i){return au(e,t,i)}):xd(e,t,r)}function xd(e,t,r){t.status="fulfilled",t.value=r,Ed(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Nd(e,r)))}function au(e,t,r){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=r,Ed(t),t=t.next;while(t!==i)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Md(e,t){return t}function Od(e,t){if(be){var r=Ee.formState;if(r!==null){e:{var i=ue;if(be){if(He){t:{for(var u=He,f=un;u.nodeType!==8;){if(!f){u=null;break t}if(u=tn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){He=tn(u.nextSibling),i=u.data==="F!";break e}}_r(i)}i=!1}i&&(t=r[0])}}return r=Rt(),r.memoizedState=r.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},r.queue=i,r=Jd.bind(null,ue,i),i.dispatch=r,i=ru(!1),f=uu.bind(null,ue,!1,i.queue),i=Rt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,r=_v.bind(null,ue,u,f,r),u.dispatch=r,i.memoizedState=e,[t,r,!1]}function zd(e){var t=Pe();return Hd(t,Ae,e)}function Hd(e,t,r){if(t=tu(e,t,Md)[0],e=Xl($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=gi(t)}catch(h){throw h===fi?Bl:h}else i=t;t=Pe();var u=t.queue,f=u.dispatch;return r!==t.memoizedState&&(ue.flags|=2048,Ra(9,Zl(),wv.bind(null,u,r),null)),[i,f,e]}function wv(e,t){e.action=t}function Ud(e){var t=Pe(),r=Ae;if(r!==null)return Hd(t,r,e);Pe(),t=t.memoizedState,r=Pe();var i=r.queue.dispatch;return r.memoizedState=e,[t,i,!1]}function Ra(e,t,r,i){return e={tag:e,create:r,deps:i,inst:t,next:null},t=ue.updateQueue,t===null&&(t=Jo(),ue.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function Zl(){return{destroy:void 0,resource:void 0}}function qd(){return Pe().memoizedState}function Wl(e,t,r,i){var u=Rt();i=i===void 0?null:i,ue.flags|=e,u.memoizedState=Ra(1|t,Zl(),r,i)}function vi(e,t,r,i){var u=Pe();i=i===void 0?null:i;var f=u.memoizedState.inst;Ae!==null&&i!==null&&Vo(i,Ae.memoizedState.deps)?u.memoizedState=Ra(t,f,r,i):(ue.flags|=e,u.memoizedState=Ra(1|t,f,r,i))}function Ld(e,t){Wl(8390656,8,e,t)}function Gd(e,t){vi(2048,8,e,t)}function jd(e,t){return vi(4,2,e,t)}function Kd(e,t){return vi(4,4,e,t)}function Bd(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,r){r=r!=null?r.concat([e]):null,vi(4,4,Bd.bind(null,t,e),r)}function iu(){}function Pd(e,t){var r=Pe();t=t===void 0?null:t;var i=r.memoizedState;return t!==null&&Vo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Yd(e,t){var r=Pe();t=t===void 0?null:t;var i=r.memoizedState;if(t!==null&&Vo(t,i[1]))return i[0];if(i=e(),xr){E(!0);try{e()}finally{E(!1)}}return r.memoizedState=[i,t],i}function lu(e,t,r){return r===void 0||(Vn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=r,e=Xp(),ue.lanes|=e,tr|=e,r)}function Qd(e,t,r,i){return Ct(r,t)?r:va.current!==null?(e=lu(e,r,i),Ct(e,t)||(et=!0),e):(Vn&42)===0?(et=!0,e.memoizedState=r):(e=Xp(),ue.lanes|=e,tr|=e,t)}function Vd(e,t,r,i,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var h=M.T,v={};M.T=v,uu(e,!1,t,r);try{var b=u(),C=M.S;if(C!==null&&C(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var x=$v(b,i);Ti(e,t,x,xt(e))}else Ti(e,t,i,xt(e))}catch(q){Ti(e,t,{then:function(){},status:"rejected",reason:q},xt())}finally{Q.p=f,M.T=h}}function Nv(){}function su(e,t,r,i){if(e.tag!==5)throw Error(l(476));var u=Xd(e).queue;Vd(e,u,t,J,r===null?Nv:function(){return Zd(e),r(i)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:J},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Xd(e).next.queue;Ti(e,t,{},xt())}function ou(){return dt(Ui)}function Wd(){return Pe().memoizedState}function Id(){return Pe().memoizedState}function kv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=xt();e=Yn(r);var i=Qn(t,e,r);i!==null&&(Et(i,t,r),pi(i,t,r)),t={cache:qo()},e.payload=t;return}t=t.return}}function xv(e,t,r){var i=xt();r={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Il(e)?ep(t,r):(r=wo(e,t,r,i),r!==null&&(Et(r,e,i),tp(r,t,i)))}function Jd(e,t,r){var i=xt();Ti(e,t,r,i)}function Ti(e,t,r,i){var u={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Il(e))ep(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var h=t.lastRenderedState,v=f(h,r);if(u.hasEagerState=!0,u.eagerState=v,Ct(v,h))return zl(e,t,u,0),Ee===null&&Ol(),!1}catch{}finally{}if(r=wo(e,t,u,i),r!==null)return Et(r,e,i),tp(r,t,i),!0}return!1}function uu(e,t,r,i){if(i={lane:2,revertLane:ju(),action:i,hasEagerState:!1,eagerState:null,next:null},Il(e)){if(t)throw Error(l(479))}else t=wo(e,r,i,2),t!==null&&Et(t,e,2)}function Il(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function ep(e,t){Ta=Yl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tp(e,t,r){if((r&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,uf(e,r)}}var Jl={readContext:dt,use:Vl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},np={readContext:dt,use:Vl,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Ld,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Wl(4194308,4,Bd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var r=Rt();t=t===void 0?null:t;var i=e();if(xr){E(!0);try{e()}finally{E(!1)}}return r.memoizedState=[i,t],i},useReducer:function(e,t,r){var i=Rt();if(r!==void 0){var u=r(t);if(xr){E(!0);try{r(t)}finally{E(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=xv.bind(null,ue,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=ru(e);var t=e.queue,r=Jd.bind(null,ue,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:iu,useDeferredValue:function(e,t){var r=Rt();return lu(r,e,t)},useTransition:function(){var e=ru(!1);return e=Vd.bind(null,ue,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var i=ue,u=Rt();if(be){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Ee===null)throw Error(l(349));(ye&124)!==0||Dd(i,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Ld(Ad.bind(null,i,f,e),[e]),i.flags|=2048,Ra(9,Zl(),$d.bind(null,i,f,r,t),null),r},useId:function(){var e=Rt(),t=Ee.identifierPrefix;if(be){var r=Rn,i=bn;r=(i&~(1<<32-k(i)-1)).toString(32)+r,t="«"+t+"R"+r,r=Ql++,0<r&&(t+="H"+r.toString(32)),t+="»"}else r=Av++,t="«"+t+"r"+r.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Od,useActionState:Od,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uu.bind(null,ue,!0,r),r.dispatch=t,[e,t]},useMemoCache:eu,useCacheRefresh:function(){return Rt().memoizedState=kv.bind(null,ue)}},rp={readContext:dt,use:Vl,useCallback:Pd,useContext:dt,useEffect:Gd,useImperativeHandle:Fd,useInsertionEffect:jd,useLayoutEffect:Kd,useMemo:Yd,useReducer:Xl,useRef:qd,useState:function(){return Xl($n)},useDebugValue:iu,useDeferredValue:function(e,t){var r=Pe();return Qd(r,Ae.memoizedState,e,t)},useTransition:function(){var e=Xl($n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:Sd,useId:Wd,useHostTransitionStatus:ou,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var r=Pe();return wd(r,Ae,e,t)},useMemoCache:eu,useCacheRefresh:Id},Ev={readContext:dt,use:Vl,useCallback:Pd,useContext:dt,useEffect:Gd,useImperativeHandle:Fd,useInsertionEffect:jd,useLayoutEffect:Kd,useMemo:Yd,useReducer:nu,useRef:qd,useState:function(){return nu($n)},useDebugValue:iu,useDeferredValue:function(e,t){var r=Pe();return Ae===null?lu(r,e,t):Qd(r,Ae.memoizedState,e,t)},useTransition:function(){var e=nu($n)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:Sd,useId:Wd,useHostTransitionStatus:ou,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var r=Pe();return Ae!==null?wd(r,Ae,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:eu,useCacheRefresh:Id},Sa=null,bi=0;function es(e){var t=bi;return bi+=1,Sa===null&&(Sa=[]),md(Sa,e,t)}function Ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ts(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ap(e){var t=e._init;return t(e._payload)}function ip(e){function t($,S){if(e){var A=$.deletions;A===null?($.deletions=[S],$.flags|=16):A.push(S)}}function r($,S){if(!e)return null;for(;S!==null;)t($,S),S=S.sibling;return null}function i($){for(var S=new Map;$!==null;)$.key!==null?S.set($.key,$):S.set($.index,$),$=$.sibling;return S}function u($,S){return $=Tn($,S),$.index=0,$.sibling=null,$}function f($,S,A){return $.index=A,e?(A=$.alternate,A!==null?(A=A.index,A<S?($.flags|=67108866,S):A):($.flags|=67108866,S)):($.flags|=1048576,S)}function h($){return e&&$.alternate===null&&($.flags|=67108866),$}function v($,S,A,z){return S===null||S.tag!==6?(S=ko(A,$.mode,z),S.return=$,S):(S=u(S,A),S.return=$,S)}function b($,S,A,z){var X=A.type;return X===U?x($,S,A.props.children,z,A.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===fe&&ap(X)===S.type)?(S=u(S,A.props),Ri(S,A),S.return=$,S):(S=Ul(A.type,A.key,A.props,null,$.mode,z),Ri(S,A),S.return=$,S)}function C($,S,A,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=xo(A,$.mode,z),S.return=$,S):(S=u(S,A.children||[]),S.return=$,S)}function x($,S,A,z,X){return S===null||S.tag!==7?(S=Dr(A,$.mode,z,X),S.return=$,S):(S=u(S,A),S.return=$,S)}function q($,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=ko(""+S,$.mode,A),S.return=$,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return A=Ul(S.type,S.key,S.props,null,$.mode,A),Ri(A,S),A.return=$,A;case D:return S=xo(S,$.mode,A),S.return=$,S;case fe:var z=S._init;return S=z(S._payload),q($,S,A)}if(vt(S)||qe(S))return S=Dr(S,$.mode,A,null),S.return=$,S;if(typeof S.then=="function")return q($,es(S),A);if(S.$$typeof===P)return q($,jl($,S),A);ts($,S)}return null}function _($,S,A,z){var X=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:v($,S,""+A,z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===X?b($,S,A,z):null;case D:return A.key===X?C($,S,A,z):null;case fe:return X=A._init,A=X(A._payload),_($,S,A,z)}if(vt(A)||qe(A))return X!==null?null:x($,S,A,z,null);if(typeof A.then=="function")return _($,S,es(A),z);if(A.$$typeof===P)return _($,S,jl($,A),z);ts($,A)}return null}function N($,S,A,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return $=$.get(A)||null,v(S,$,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return $=$.get(z.key===null?A:z.key)||null,b(S,$,z,X);case D:return $=$.get(z.key===null?A:z.key)||null,C(S,$,z,X);case fe:var ce=z._init;return z=ce(z._payload),N($,S,A,z,X)}if(vt(z)||qe(z))return $=$.get(A)||null,x(S,$,z,X,null);if(typeof z.then=="function")return N($,S,A,es(z),X);if(z.$$typeof===P)return N($,S,A,jl(S,z),X);ts(S,z)}return null}function ae($,S,A,z){for(var X=null,ce=null,Z=S,ee=S=0,nt=null;Z!==null&&ee<A.length;ee++){Z.index>ee?(nt=Z,Z=null):nt=Z.sibling;var ve=_($,Z,A[ee],z);if(ve===null){Z===null&&(Z=nt);break}e&&Z&&ve.alternate===null&&t($,Z),S=f(ve,S,ee),ce===null?X=ve:ce.sibling=ve,ce=ve,Z=nt}if(ee===A.length)return r($,Z),be&&Ar($,ee),X;if(Z===null){for(;ee<A.length;ee++)Z=q($,A[ee],z),Z!==null&&(S=f(Z,S,ee),ce===null?X=Z:ce.sibling=Z,ce=Z);return be&&Ar($,ee),X}for(Z=i(Z);ee<A.length;ee++)nt=N(Z,$,ee,A[ee],z),nt!==null&&(e&&nt.alternate!==null&&Z.delete(nt.key===null?ee:nt.key),S=f(nt,S,ee),ce===null?X=nt:ce.sibling=nt,ce=nt);return e&&Z.forEach(function(cr){return t($,cr)}),be&&Ar($,ee),X}function I($,S,A,z){if(A==null)throw Error(l(151));for(var X=null,ce=null,Z=S,ee=S=0,nt=null,ve=A.next();Z!==null&&!ve.done;ee++,ve=A.next()){Z.index>ee?(nt=Z,Z=null):nt=Z.sibling;var cr=_($,Z,ve.value,z);if(cr===null){Z===null&&(Z=nt);break}e&&Z&&cr.alternate===null&&t($,Z),S=f(cr,S,ee),ce===null?X=cr:ce.sibling=cr,ce=cr,Z=nt}if(ve.done)return r($,Z),be&&Ar($,ee),X;if(Z===null){for(;!ve.done;ee++,ve=A.next())ve=q($,ve.value,z),ve!==null&&(S=f(ve,S,ee),ce===null?X=ve:ce.sibling=ve,ce=ve);return be&&Ar($,ee),X}for(Z=i(Z);!ve.done;ee++,ve=A.next())ve=N(Z,$,ee,ve.value,z),ve!==null&&(e&&ve.alternate!==null&&Z.delete(ve.key===null?ee:ve.key),S=f(ve,S,ee),ce===null?X=ve:ce.sibling=ve,ce=ve);return e&&Z.forEach(function(M0){return t($,M0)}),be&&Ar($,ee),X}function _e($,S,A,z){if(typeof A=="object"&&A!==null&&A.type===U&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var X=A.key;S!==null;){if(S.key===X){if(X=A.type,X===U){if(S.tag===7){r($,S.sibling),z=u(S,A.props.children),z.return=$,$=z;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===fe&&ap(X)===S.type){r($,S.sibling),z=u(S,A.props),Ri(z,A),z.return=$,$=z;break e}r($,S);break}else t($,S);S=S.sibling}A.type===U?(z=Dr(A.props.children,$.mode,z,A.key),z.return=$,$=z):(z=Ul(A.type,A.key,A.props,null,$.mode,z),Ri(z,A),z.return=$,$=z)}return h($);case D:e:{for(X=A.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){r($,S.sibling),z=u(S,A.children||[]),z.return=$,$=z;break e}else{r($,S);break}else t($,S);S=S.sibling}z=xo(A,$.mode,z),z.return=$,$=z}return h($);case fe:return X=A._init,A=X(A._payload),_e($,S,A,z)}if(vt(A))return ae($,S,A,z);if(qe(A)){if(X=qe(A),typeof X!="function")throw Error(l(150));return A=X.call(A),I($,S,A,z)}if(typeof A.then=="function")return _e($,S,es(A),z);if(A.$$typeof===P)return _e($,S,jl($,A),z);ts($,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(r($,S.sibling),z=u(S,A),z.return=$,$=z):(r($,S),z=ko(A,$.mode,z),z.return=$,$=z),h($)):r($,S)}return function($,S,A,z){try{bi=0;var X=_e($,S,A,z);return Sa=null,X}catch(Z){if(Z===fi||Z===Bl)throw Z;var ce=_t(29,Z,null,$.mode);return ce.lanes=z,ce.return=$,ce}finally{}}}var Da=ip(!0),lp=ip(!1),Kt=he(null),cn=null;function Xn(e){var t=e.alternate;Te(Xe,Xe.current&1),Te(Kt,e),cn===null&&(t===null||va.current!==null||t.memoizedState!==null)&&(cn=e)}function sp(e){if(e.tag===22){if(Te(Xe,Xe.current),Te(Kt,e),cn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(cn=e)}}else Zn()}function Zn(){Te(Xe,Xe.current),Te(Kt,Kt.current)}function An(e){xe(Kt),cn===e&&(cn=null),xe(Xe)}var Xe=he(0);function ns(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Ju(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function cu(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:g({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fu={enqueueSetState:function(e,t,r){e=e._reactInternals;var i=xt(),u=Yn(i);u.payload=t,r!=null&&(u.callback=r),t=Qn(e,u,i),t!==null&&(Et(t,e,i),pi(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=xt(),u=Yn(i);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Qn(e,u,i),t!==null&&(Et(t,e,i),pi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),i=Yn(r);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,r),t!==null&&(Et(t,e,r),pi(t,e,r))}};function op(e,t,r,i,u,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,h):t.prototype&&t.prototype.isPureReactComponent?!ri(r,i)||!ri(u,f):!0}function up(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function Er(e,t){var r=t;if("ref"in t){r={};for(var i in t)i!=="ref"&&(r[i]=t[i])}if(e=e.defaultProps){r===t&&(r=g({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var rs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){rs(e)}function fp(e){console.error(e)}function dp(e){rs(e)}function as(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function pp(e,t,r){try{var i=e.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function du(e,t,r){return r=Yn(r),r.tag=3,r.payload={element:null},r.callback=function(){as(e,t)},r}function mp(e){return e=Yn(e),e.tag=3,e}function hp(e,t,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){pp(t,r,i)}}var h=r.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){pp(t,r,i),typeof u!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Mv(e,t,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=r.alternate,t!==null&&oi(t,r,u,!0),r=Kt.current,r!==null){switch(r.tag){case 13:return cn===null?Hu():r.alternate===null&&Ue===0&&(Ue=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===jo?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([i]):t.add(i),qu(e,i,u)),!1;case 22:return r.flags|=65536,i===jo?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([i]):r.add(i)),qu(e,i,u)),!1}throw Error(l(435,r.tag))}return qu(e,i,u),Hu(),!1}if(be)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Oo&&(e=Error(l(422),{cause:i}),si(qt(e,r)))):(i!==Oo&&(t=Error(l(423),{cause:i}),si(qt(t,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=qt(i,r),u=du(e.stateNode,i,u),Fo(e,u),Ue!==4&&(Ue=2)),!1;var f=Error(l(520),{cause:i});if(f=qt(f,r),wi===null?wi=[f]:wi.push(f),Ue!==4&&(Ue=2),t===null)return!0;i=qt(i,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=du(r.stateNode,i,e),Fo(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=mp(u),hp(u,e,r,i),Fo(r,u),!1}r=r.return}while(r!==null);return!1}var yp=Error(l(461)),et=!1;function it(e,t,r,i){t.child=e===null?lp(t,null,r,i):Da(t,e.child,r,i)}function gp(e,t,r,i,u){r=r.render;var f=t.ref;if("ref"in i){var h={};for(var v in i)v!=="ref"&&(h[v]=i[v])}else h=i;return Nr(t),i=Xo(e,t,r,h,f,u),v=Zo(),e!==null&&!et?(Wo(e,t,u),Cn(e,t,u)):(be&&v&&Eo(t),t.flags|=1,it(e,t,i,u),t.child)}function vp(e,t,r,i,u){if(e===null){var f=r.type;return typeof f=="function"&&!No(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,Tp(e,t,f,i,u)):(e=Ul(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!bu(e,u)){var h=f.memoizedProps;if(r=r.compare,r=r!==null?r:ri,r(h,i)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=Tn(f,i),e.ref=t.ref,e.return=t,t.child=e}function Tp(e,t,r,i,u){if(e!==null){var f=e.memoizedProps;if(ri(f,i)&&e.ref===t.ref)if(et=!1,t.pendingProps=i=f,bu(e,u))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return pu(e,t,r,i,u)}function bp(e,t,r){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|r:r,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return Rp(e,t,i,r)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kl(t,f!==null?f.cachePool:null),f!==null?Td(t,f):Yo(),sp(t);else return t.lanes=t.childLanes=536870912,Rp(e,t,f!==null?f.baseLanes|r:r,r)}else f!==null?(Kl(t,f.cachePool),Td(t,f),Zn(),t.memoizedState=null):(e!==null&&Kl(t,null),Yo(),Zn());return it(e,t,u,r),t.child}function Rp(e,t,r,i){var u=Go();return u=u===null?null:{parent:Ve._currentValue,pool:u},t.memoizedState={baseLanes:r,cachePool:u},e!==null&&Kl(t,null),Yo(),sp(t),e!==null&&oi(e,t,i,!0),null}function is(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function pu(e,t,r,i,u){return Nr(t),r=Xo(e,t,r,i,void 0,u),i=Zo(),e!==null&&!et?(Wo(e,t,u),Cn(e,t,u)):(be&&i&&Eo(t),t.flags|=1,it(e,t,r,u),t.child)}function Sp(e,t,r,i,u,f){return Nr(t),t.updateQueue=null,r=Rd(t,i,r,u),bd(e),i=Zo(),e!==null&&!et?(Wo(e,t,f),Cn(e,t,f)):(be&&i&&Eo(t),t.flags|=1,it(e,t,r,f),t.child)}function Dp(e,t,r,i,u){if(Nr(t),t.stateNode===null){var f=pa,h=r.contextType;typeof h=="object"&&h!==null&&(f=dt(h)),f=new r(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=fu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},Ko(t),h=r.contextType,f.context=typeof h=="object"&&h!==null?dt(h):pa,f.state=t.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(cu(t,r,h,i),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(h=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),h!==f.state&&fu.enqueueReplaceState(f,f.state,null),hi(t,i,f,u),mi(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,b=Er(r,v);f.props=b;var C=f.context,x=r.contextType;h=pa,typeof x=="object"&&x!==null&&(h=dt(x));var q=r.getDerivedStateFromProps;x=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,x||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||C!==h)&&up(t,f,i,h),Pn=!1;var _=t.memoizedState;f.state=_,hi(t,i,f,u),mi(),C=t.memoizedState,v||_!==C||Pn?(typeof q=="function"&&(cu(t,r,q,i),C=t.memoizedState),(b=Pn||op(t,r,b,i,_,C,h))?(x||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),f.props=i,f.state=C,f.context=h,i=b):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Bo(e,t),h=t.memoizedProps,x=Er(r,h),f.props=x,q=t.pendingProps,_=f.context,C=r.contextType,b=pa,typeof C=="object"&&C!==null&&(b=dt(C)),v=r.getDerivedStateFromProps,(C=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(h!==q||_!==b)&&up(t,f,i,b),Pn=!1,_=t.memoizedState,f.state=_,hi(t,i,f,u),mi();var N=t.memoizedState;h!==q||_!==N||Pn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof v=="function"&&(cu(t,r,v,i),N=t.memoizedState),(x=Pn||op(t,r,x,i,_,N,b)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,N,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,N,b)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),f.props=i,f.state=N,f.context=b,i=x):(typeof f.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,is(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Da(t,e.child,null,u),t.child=Da(t,null,r,u)):it(e,t,r,u),t.memoizedState=f.state,e=t.child):e=Cn(e,t,u),e}function $p(e,t,r,i){return li(),t.flags|=256,it(e,t,r,i),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:fd()}}function yu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Bt),e}function Ap(e,t,r){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,h;if((h=f)||(h=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Xn(t):Zn(),be){var v=He,b;if(b=v){e:{for(b=v,v=un;b.nodeType!==8;){if(!v){v=null;break e}if(b=tn(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(t.memoizedState={dehydrated:v,treeContext:$r!==null?{id:bn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},b=_t(18,null,null,0),b.stateNode=v,b.return=t,t.child=b,mt=t,He=null,b=!0):b=!1}b||_r(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Ju(v)?t.lanes=32:t.lanes=536870912,null;An(t)}return v=i.children,i=i.fallback,u?(Zn(),u=t.mode,v=ls({mode:"hidden",children:v},u),i=Dr(i,u,r,null),v.return=t,i.return=t,v.sibling=i,t.child=v,u=t.child,u.memoizedState=hu(r),u.childLanes=yu(e,h,r),t.memoizedState=mu,i):(Xn(t),gu(t,v))}if(b=e.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(f)t.flags&256?(Xn(t),t.flags&=-257,t=vu(e,t,r)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),u=i.fallback,v=t.mode,i=ls({mode:"visible",children:i.children},v),u=Dr(u,v,r,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,Da(t,e.child,null,r),i=t.child,i.memoizedState=hu(r),i.childLanes=yu(e,h,r),t.memoizedState=mu,t=u);else if(Xn(t),Ju(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,i=Error(l(419)),i.stack="",i.digest=h,si({value:i,source:null,stack:null}),t=vu(e,t,r)}else if(et||oi(e,t,r,!1),h=(r&e.childLanes)!==0,et||h){if(h=Ee,h!==null&&(i=r&-r,i=(i&42)!==0?1:Js(i),i=(i&(h.suspendedLanes|r))!==0?0:i,i!==0&&i!==b.retryLane))throw b.retryLane=i,da(e,i),Et(h,e,i),yp;v.data==="$?"||Hu(),t=vu(e,t,r)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,He=tn(v.nextSibling),mt=t,be=!0,Cr=null,un=!1,e!==null&&(Gt[jt++]=bn,Gt[jt++]=Rn,Gt[jt++]=$r,bn=e.id,Rn=e.overflow,$r=t),t=gu(t,i.children),t.flags|=4096);return t}return u?(Zn(),u=i.fallback,v=t.mode,b=e.child,C=b.sibling,i=Tn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,C!==null?u=Tn(C,u):(u=Dr(u,v,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,v=e.child.memoizedState,v===null?v=hu(r):(b=v.cachePool,b!==null?(C=Ve._currentValue,b=b.parent!==C?{parent:C,pool:C}:b):b=fd(),v={baseLanes:v.baseLanes|r,cachePool:b}),u.memoizedState=v,u.childLanes=yu(e,h,r),t.memoizedState=mu,i):(Xn(t),r=e.child,e=r.sibling,r=Tn(r,{mode:"visible",children:i.children}),r.return=t,r.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=r,t.memoizedState=null,r)}function gu(e,t){return t=ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ls(e,t){return e=_t(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vu(e,t,r){return Da(t,e.child,null,r),e=gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cp(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ho(e.return,t,r)}function Tu(e,t,r,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=u)}function _p(e,t,r){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(it(e,t,i.children,r),i=Xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,r,t);else if(e.tag===19)Cp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Te(Xe,i),u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&ns(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Tu(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ns(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Tu(t,!0,r,null,f);break;case"together":Tu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(oi(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=Tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function Ov(e,t,r){switch(t.tag){case 3:Qr(t,t.stateNode.containerInfo),Fn(t,Ve,e.memoizedState.cache),li();break;case 27:case 5:re(t);break;case 4:Qr(t,t.stateNode.containerInfo);break;case 10:Fn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Xn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Ap(e,t,r):(Xn(t),e=Cn(e,t,r),e!==null?e.sibling:null);Xn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(r&t.childLanes)!==0,i||(oi(e,t,r,!1),i=(r&t.childLanes)!==0),u){if(i)return _p(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Te(Xe,Xe.current),i)break;return null;case 22:case 23:return t.lanes=0,bp(e,t,r);case 24:Fn(t,Ve,e.memoizedState.cache)}return Cn(e,t,r)}function wp(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!bu(e,r)&&(t.flags&128)===0)return et=!1,Ov(e,t,r);et=(e.flags&131072)!==0}else et=!1,be&&(t.flags&1048576)!==0&&ad(t,Ll,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")No(i)?(e=Er(i,e),t.tag=1,t=Dp(null,t,i,e,r)):(t.tag=0,t=pu(null,t,i,e,r));else{if(i!=null){if(u=i.$$typeof,u===W){t.tag=11,t=gp(null,t,i,e,r);break e}else if(u===me){t.tag=14,t=vp(null,t,i,e,r);break e}}throw t=sn(i)||i,Error(l(306,t,""))}}return t;case 0:return pu(e,t,t.type,t.pendingProps,r);case 1:return i=t.type,u=Er(i,t.pendingProps),Dp(e,t,i,u,r);case 3:e:{if(Qr(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,Bo(e,t),hi(t,i,null,r);var h=t.memoizedState;if(i=h.cache,Fn(t,Ve,i),i!==f.cache&&Uo(t,[Ve],r,!0),mi(),i=h.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=$p(e,t,i,r);break e}else if(i!==u){u=qt(Error(l(424)),t),si(u),t=$p(e,t,i,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=tn(e.firstChild),mt=t,be=!0,Cr=null,un=!0,r=lp(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(li(),i===u){t=Cn(e,t,r);break e}it(e,t,i,r)}t=t.child}return t;case 26:return is(e,t),e===null?(r=Em(t.type,null,t.pendingProps,null))?t.memoizedState=r:be||(r=t.type,e=t.pendingProps,i=bs(Zt.current).createElement(r),i[ft]=t,i[Tt]=e,st(i,r,e),Je(i),t.stateNode=i):t.memoizedState=Em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),e===null&&be&&(i=t.stateNode=Nm(t.type,t.pendingProps,Zt.current),mt=t,un=!0,u=He,ir(t.type)?(ec=u,He=tn(i.firstChild)):He=u),it(e,t,t.pendingProps.children,r),is(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=He)&&(i=o0(i,t.type,t.pendingProps,un),i!==null?(t.stateNode=i,mt=t,He=tn(i.firstChild),un=!1,u=!0):u=!1),u||_r(t)),re(t),u=t.type,f=t.pendingProps,h=e!==null?e.memoizedProps:null,i=f.children,Zu(u,f)?i=null:h!==null&&Zu(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=Xo(e,t,Cv,null,null,r),Ui._currentValue=u),is(e,t),it(e,t,i,r),t.child;case 6:return e===null&&be&&((e=r=He)&&(r=u0(r,t.pendingProps,un),r!==null?(t.stateNode=r,mt=t,He=null,e=!0):e=!1),e||_r(t)),null;case 13:return Ap(e,t,r);case 4:return Qr(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Da(t,null,i,r):it(e,t,i,r),t.child;case 11:return gp(e,t,t.type,t.pendingProps,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:return i=t.pendingProps,Fn(t,t.type,i.value),it(e,t,i.children,r),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,Nr(t),u=dt(u),i=i(u),t.flags|=1,it(e,t,i,r),t.child;case 14:return vp(e,t,t.type,t.pendingProps,r);case 15:return Tp(e,t,t.type,t.pendingProps,r);case 19:return _p(e,t,r);case 31:return i=t.pendingProps,r=t.mode,i={mode:i.mode,children:i.children},e===null?(r=ls(i,r),r.ref=t.ref,t.child=r,r.return=t,t=r):(r=Tn(e.child,i),r.ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return bp(e,t,r);case 24:return Nr(t),i=dt(Ve),e===null?(u=Go(),u===null&&(u=Ee,f=qo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),t.memoizedState={parent:i,cache:u},Ko(t),Fn(t,Ve,u)):((e.lanes&r)!==0&&(Bo(e,t),hi(t,null,null,r),mi()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Fn(t,Ve,i)):(i=f.cache,Fn(t,Ve,i),i!==u.cache&&Uo(t,[Ve],r,!0))),it(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function _n(e){e.flags|=4}function Np(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Um(t)){if(t=Kt.current,t!==null&&((ye&4194048)===ye?cn!==null:(ye&62914560)!==ye&&(ye&536870912)===0||t!==cn))throw di=jo,dd;e.flags|=8192}}function ss(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sf():536870912,e.lanes|=t,_a|=t)}function Si(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function zv(e,t,r){var i=t.pendingProps;switch(Mo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return r=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Dn(Ve),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ii(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,sd())),Oe(t),null;case 26:return r=t.memoizedState,e===null?(_n(t),r!==null?(Oe(t),Np(t,r)):(Oe(t),t.flags&=-16777217)):r?r!==e.memoizedState?(_n(t),Oe(t),Np(t,r)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==i&&_n(t),Oe(t),t.flags&=-16777217),null;case 27:w(t),r=Zt.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&_n(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Oe(t),null}e=Le.current,ii(t)?id(t):(e=Nm(u,i,r),t.stateNode=e,_n(t))}return Oe(t),null;case 5:if(w(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&_n(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Oe(t),null}if(e=Le.current,ii(t))id(t);else{switch(u=bs(Zt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(r,{is:i.is}):u.createElement(r)}}e[ft]=t,e[Tt]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(st(e,r,i),r){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_n(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&_n(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=Zt.current,ii(t)){if(e=t.stateNode,r=t.memoizedProps,i=null,u=mt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ft]=t,e=!!(e.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Sm(e.nodeValue,r)),e||_r(t)}else e=bs(e).createTextNode(i),e[ft]=t,t.stateNode=e}return Oe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ii(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ft]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),u=!1}else u=sd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(An(t),t):(An(t),null)}if(An(t),(t.flags&128)!==0)return t.lanes=r,t;if(r=i!==null,e=e!==null&&e.memoizedState!==null,r){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),ss(t,t.updateQueue),Oe(t),null;case 4:return jn(),e===null&&Pu(t.stateNode.containerInfo),Oe(t),null;case 10:return Dn(t.type),Oe(t),null;case 19:if(xe(Xe),u=t.memoizedState,u===null)return Oe(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)Si(u,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ns(e),f!==null){for(t.flags|=128,Si(u,!1),e=f.updateQueue,t.updateQueue=e,ss(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)rd(r,e),r=r.sibling;return Te(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&ct()>cs&&(t.flags|=128,i=!0,Si(u,!1),t.lanes=4194304)}else{if(!i)if(e=ns(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ss(t,e),Si(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!be)return Oe(t),null}else 2*ct()-u.renderingStartTime>cs&&r!==536870912&&(t.flags|=128,i=!0,Si(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ct(),t.sibling=null,e=Xe.current,Te(Xe,i?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return An(t),Qo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(r&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),r=t.updateQueue,r!==null&&ss(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==r&&(t.flags|=2048),e!==null&&xe(kr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Dn(Ve),Oe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Hv(e,t){switch(Mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(Ve),jn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return w(t),null;case 13:if(An(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Xe),null;case 4:return jn(),null;case 10:return Dn(t.type),null;case 22:case 23:return An(t),Qo(),e!==null&&xe(kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(Ve),null;case 25:return null;default:return null}}function kp(e,t){switch(Mo(t),t.tag){case 3:Dn(Ve),jn();break;case 26:case 27:case 5:w(t);break;case 4:jn();break;case 13:An(t);break;case 19:xe(Xe);break;case 10:Dn(t.type);break;case 22:case 23:An(t),Qo(),e!==null&&xe(kr);break;case 24:Dn(Ve)}}function Di(e,t){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&e)===e){i=void 0;var f=r.create,h=r.inst;i=f(),h.destroy=i}r=r.next}while(r!==u)}}catch(v){we(t,t.return,v)}}function Wn(e,t,r){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var h=i.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,u=t;var b=r,C=v;try{C()}catch(x){we(u,b,x)}}}i=i.next}while(i!==f)}}catch(x){we(t,t.return,x)}}function xp(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{vd(t,r)}catch(i){we(e,e.return,i)}}}function Ep(e,t,r){r.props=Er(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){we(e,t,i)}}function $i(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(u){we(e,t,u)}}function fn(e,t){var r=e.ref,i=e.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){we(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){we(e,t,u)}else r.current=null}function Mp(e){var t=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){we(e,e.return,u)}}function Ru(e,t,r){try{var i=e.stateNode;r0(i,e.type,r,t),i[Tt]=t}catch(u){we(e,e.return,u)}}function Op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ir(e.type)||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ts));else if(i!==4&&(i===27&&ir(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Du(e,t,r),e=e.sibling;e!==null;)Du(e,t,r),e=e.sibling}function os(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(i===27&&ir(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(os(e,t,r),e=e.sibling;e!==null;)os(e,t,r),e=e.sibling}function zp(e){var t=e.stateNode,r=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);st(t,i,r),t[ft]=e,t[Tt]=r}catch(f){we(e,e.return,f)}}var wn=!1,je=!1,$u=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Uv(e,t){if(e=e.containerInfo,Vu=Cs,e=Qf(e),So(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var h=0,v=-1,b=-1,C=0,x=0,q=e,_=null;t:for(;;){for(var N;q!==r||u!==0&&q.nodeType!==3||(v=h+u),q!==f||i!==0&&q.nodeType!==3||(b=h+i),q.nodeType===3&&(h+=q.nodeValue.length),(N=q.firstChild)!==null;)_=q,q=N;for(;;){if(q===e)break t;if(_===r&&++C===u&&(v=h),_===f&&++x===i&&(b=h),(N=q.nextSibling)!==null)break;q=_,_=q.parentNode}q=N}r=v===-1||b===-1?null:{start:v,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xu={focusedElem:e,selectionRange:r},Cs=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var ae=Er(r.type,u,r.elementType===r.type);e=i.getSnapshotBeforeUpdate(ae,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){we(r,r.return,I)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Iu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Up(e,t,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:In(e,r),i&4&&Di(5,r);break;case 1:if(In(e,r),i&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(h){we(r,r.return,h)}else{var u=Er(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){we(r,r.return,h)}}i&64&&xp(r),i&512&&$i(r,r.return);break;case 3:if(In(e,r),i&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{vd(e,t)}catch(h){we(r,r.return,h)}}break;case 27:t===null&&i&4&&zp(r);case 26:case 5:In(e,r),t===null&&i&4&&Mp(r),i&512&&$i(r,r.return);break;case 12:In(e,r);break;case 13:In(e,r),i&4&&Gp(e,r),i&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Yv.bind(null,r),c0(e,r))));break;case 22:if(i=r.memoizedState!==null||wn,!i){t=t!==null&&t.memoizedState!==null||je,u=wn;var f=je;wn=i,(je=t)&&!f?Jn(e,r,(r.subtreeFlags&8772)!==0):In(e,r),wn=u,je=f}break;case 30:break;default:In(e,r)}}function qp(e){var t=e.alternate;t!==null&&(e.alternate=null,qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&no(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,St=!1;function Nn(e,t,r){for(r=r.child;r!==null;)Lp(e,t,r),r=r.sibling}function Lp(e,t,r){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(on,r)}catch{}switch(r.tag){case 26:je||fn(r,t),Nn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||fn(r,t);var i=Me,u=St;ir(r.type)&&(Me=r.stateNode,St=!1),Nn(e,t,r),Mi(r.stateNode),Me=i,St=u;break;case 5:je||fn(r,t);case 6:if(i=Me,u=St,Me=null,Nn(e,t,r),Me=i,St=u,Me!==null)if(St)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(r.stateNode)}catch(f){we(r,t,f)}else try{Me.removeChild(r.stateNode)}catch(f){we(r,t,f)}break;case 18:Me!==null&&(St?(e=Me,_m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ji(e)):_m(Me,r.stateNode));break;case 4:i=Me,u=St,Me=r.stateNode.containerInfo,St=!0,Nn(e,t,r),Me=i,St=u;break;case 0:case 11:case 14:case 15:je||Wn(2,r,t),je||Wn(4,r,t),Nn(e,t,r);break;case 1:je||(fn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"&&Ep(r,t,i)),Nn(e,t,r);break;case 21:Nn(e,t,r);break;case 22:je=(i=je)||r.memoizedState!==null,Nn(e,t,r),je=i;break;default:Nn(e,t,r)}}function Gp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(r){we(t,t.return,r)}}function qv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(l(435,e.tag))}}function Au(e,t){var r=qv(e);t.forEach(function(i){var u=Qv.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}function wt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(ir(v.type)){Me=v.stateNode,St=!1;break e}break;case 5:Me=v.stateNode,St=!1;break e;case 3:case 4:Me=v.stateNode.containerInfo,St=!0;break e}v=v.return}if(Me===null)throw Error(l(160));Lp(f,h,u),Me=null,St=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)jp(t,e),t=t.sibling}var en=null;function jp(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),Nt(e),i&4&&(Wn(3,e,e.return),Di(3,e),Wn(5,e,e.return));break;case 1:wt(t,e),Nt(e),i&512&&(je||r===null||fn(r,r.return)),i&64&&wn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=en;if(wt(t,e),Nt(e),i&512&&(je||r===null||fn(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=e.memoizedState,r===null)if(i===null)if(e.stateNode===null){e:{i=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Va]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),st(f,i,r),f[ft]=e,Je(f),i=f;break e;case"link":var h=zm("link","href",u).get(i+(r.href||""));if(h){for(var v=0;v<h.length;v++)if(f=h[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){h.splice(v,1);break t}}f=u.createElement(i),st(f,i,r),u.head.appendChild(f);break;case"meta":if(h=zm("meta","content",u).get(i+(r.content||""))){for(v=0;v<h.length;v++)if(f=h[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){h.splice(v,1);break t}}f=u.createElement(i),st(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ft]=e,Je(f),i=f}e.stateNode=i}else Hm(u,e.type,e.stateNode);else e.stateNode=Om(u,i,e.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?Hm(u,e.type,e.stateNode):Om(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ru(e,e.memoizedProps,r.memoizedProps)}break;case 27:wt(t,e),Nt(e),i&512&&(je||r===null||fn(r,r.return)),r!==null&&i&4&&Ru(e,e.memoizedProps,r.memoizedProps);break;case 5:if(wt(t,e),Nt(e),i&512&&(je||r===null||fn(r,r.return)),e.flags&32){u=e.stateNode;try{ia(u,"")}catch(N){we(e,e.return,N)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Ru(e,u,r!==null?r.memoizedProps:u)),i&1024&&($u=!0);break;case 6:if(wt(t,e),Nt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(N){we(e,e.return,N)}}break;case 3:if(Ds=null,u=en,en=Rs(t.containerInfo),wt(t,e),en=u,Nt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(N){we(e,e.return,N)}$u&&($u=!1,Kp(e));break;case 4:i=en,en=Rs(e.stateNode.containerInfo),wt(t,e),Nt(e),en=i;break;case 12:wt(t,e),Nt(e);break;case 13:wt(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xu=ct()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Au(e,i)));break;case 22:u=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,C=wn,x=je;if(wn=C||u,je=x||b,wt(t,e),je=x,wn=C,Nt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(r===null||b||wn||je||Mr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){b=r=t;try{if(f=b.stateNode,u)h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=b.stateNode;var q=b.memoizedProps.style,_=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(N){we(b,b.return,N)}}}else if(t.tag===6){if(r===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(N){we(b,b.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Au(e,r))));break;case 19:wt(t,e),Nt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Au(e,i)));break;case 30:break;case 21:break;default:wt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var r,i=e.return;i!==null;){if(Op(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=Su(e);os(e,f,u);break;case 5:var h=r.stateNode;r.flags&32&&(ia(h,""),r.flags&=-33);var v=Su(e);os(e,v,h);break;case 3:case 4:var b=r.stateNode.containerInfo,C=Su(e);Du(e,C,b);break;default:throw Error(l(161))}}catch(x){we(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function In(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Up(e,t.alternate,t),t=t.sibling}function Mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Mr(t);break;case 1:fn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Ep(t,t.return,r),Mr(t);break;case 27:Mi(t.stateNode);case 26:case 5:fn(t,t.return),Mr(t);break;case 22:t.memoizedState===null&&Mr(t);break;case 30:Mr(t);break;default:Mr(t)}e=e.sibling}}function Jn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,h=f.flags;switch(f.tag){case 0:case 11:case 15:Jn(u,f,r),Di(4,f);break;case 1:if(Jn(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){we(i,i.return,C)}if(i=f,u=i.updateQueue,u!==null){var v=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)gd(b[u],v)}catch(C){we(i,i.return,C)}}r&&h&64&&xp(f),$i(f,f.return);break;case 27:zp(f);case 26:case 5:Jn(u,f,r),r&&i===null&&h&4&&Mp(f),$i(f,f.return);break;case 12:Jn(u,f,r);break;case 13:Jn(u,f,r),r&&h&4&&Gp(u,f);break;case 22:f.memoizedState===null&&Jn(u,f,r),$i(f,f.return);break;case 30:break;default:Jn(u,f,r)}t=t.sibling}}function Cu(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ui(r))}function _u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ui(e))}function dn(e,t,r,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bp(e,t,r,i),t=t.sibling}function Bp(e,t,r,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,r,i),u&2048&&Di(9,t);break;case 1:dn(e,t,r,i);break;case 3:dn(e,t,r,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ui(e)));break;case 12:if(u&2048){dn(e,t,r,i),e=t.stateNode;try{var f=t.memoizedProps,h=f.id,v=f.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){we(t,t.return,b)}}else dn(e,t,r,i);break;case 13:dn(e,t,r,i);break;case 23:break;case 22:f=t.stateNode,h=t.alternate,t.memoizedState!==null?f._visibility&2?dn(e,t,r,i):Ai(e,t):f._visibility&2?dn(e,t,r,i):(f._visibility|=2,$a(e,t,r,i,(t.subtreeFlags&10256)!==0)),u&2048&&Cu(h,t);break;case 24:dn(e,t,r,i),u&2048&&_u(t.alternate,t);break;default:dn(e,t,r,i)}}function $a(e,t,r,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,h=t,v=r,b=i,C=h.flags;switch(h.tag){case 0:case 11:case 15:$a(f,h,v,b,u),Di(8,h);break;case 23:break;case 22:var x=h.stateNode;h.memoizedState!==null?x._visibility&2?$a(f,h,v,b,u):Ai(f,h):(x._visibility|=2,$a(f,h,v,b,u)),u&&C&2048&&Cu(h.alternate,h);break;case 24:$a(f,h,v,b,u),u&&C&2048&&_u(h.alternate,h);break;default:$a(f,h,v,b,u)}t=t.sibling}}function Ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,i=t,u=i.flags;switch(i.tag){case 22:Ai(r,i),u&2048&&Cu(i.alternate,i);break;case 24:Ai(r,i),u&2048&&_u(i.alternate,i);break;default:Ai(r,i)}t=t.sibling}}var Ci=8192;function Aa(e){if(e.subtreeFlags&Ci)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 26:Aa(e),e.flags&Ci&&e.memoizedState!==null&&D0(en,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var t=en;en=Rs(e.stateNode.containerInfo),Aa(e),en=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ci,Ci=16777216,Aa(e),Ci=t):Aa(e));break;default:Aa(e)}}function Pp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];tt=i,Qp(i,e)}Pp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:_i(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:_i(e);break;case 12:_i(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,us(e)):_i(e);break;default:_i(e)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];tt=i,Qp(i,e)}Pp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),us(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,us(t));break;default:us(t)}e=e.sibling}}function Qp(e,t){for(;tt!==null;){var r=tt;switch(r.tag){case 0:case 11:case 15:Wn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ui(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,tt=i;else e:for(r=e;tt!==null;){i=tt;var u=i.sibling,f=i.return;if(qp(i),i===r){tt=null;break e}if(u!==null){u.return=f,tt=u;break e}tt=f}}}var Lv={getCacheForType:function(e){var t=dt(Ve),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r}},Gv=typeof WeakMap=="function"?WeakMap:Map,De=0,Ee=null,de=null,ye=0,$e=0,kt=null,er=!1,Ca=!1,wu=!1,kn=0,Ue=0,tr=0,Or=0,Nu=0,Bt=0,_a=0,wi=null,Dt=null,ku=!1,xu=0,cs=1/0,fs=null,nr=null,lt=0,rr=null,wa=null,Na=0,Eu=0,Mu=null,Vp=null,Ni=0,Ou=null;function xt(){if((De&2)!==0&&ye!==0)return ye&-ye;if(M.T!==null){var e=ya;return e!==0?e:ju()}return cf()}function Xp(){Bt===0&&(Bt=(ye&536870912)===0||be?lf():536870912);var e=Kt.current;return e!==null&&(e.flags|=32),Bt}function Et(e,t,r){(e===Ee&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(ka(e,0),ar(e,ye,Bt,!1)),Qa(e,r),((De&2)===0||e!==Ee)&&(e===Ee&&((De&2)===0&&(Or|=r),Ue===4&&ar(e,ye,Bt,!1)),pn(e))}function Zp(e,t,r){if((De&6)!==0)throw Error(l(327));var i=!r&&(t&124)===0&&(t&e.expiredLanes)===0||Ya(e,t),u=i?Bv(e,t):Uu(e,t,!0),f=i;do{if(u===0){Ca&&!i&&ar(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!jv(r)){u=Uu(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;u=wi;var b=v.current.memoizedState.isDehydrated;if(b&&(ka(v,h).flags|=256),h=Uu(v,h,!1),h!==2){if(wu&&!b){v.errorRecoveryDisabledLanes|=f,Or|=f,u=4;break e}f=Dt,Dt=u,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}u=h}if(f=!1,u!==2)continue}}if(u===1){ka(e,0),ar(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ar(i,t,Bt,!er);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=xu+300-ct(),10<u)){if(ar(i,t,Bt,!er),Sl(i,0,!0)!==0)break e;i.timeoutHandle=Am(Wp.bind(null,i,r,Dt,fs,ku,t,Bt,Or,_a,er,f,2,-0,0),u);break e}Wp(i,r,Dt,fs,ku,t,Bt,Or,_a,er,f,0,-0,0)}}break}while(!0);pn(e)}function Wp(e,t,r,i,u,f,h,v,b,C,x,q,_,N){if(e.timeoutHandle=-1,q=t.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Hi={stylesheets:null,count:0,unsuspend:S0},Fp(t),q=$0(),q!==null)){e.cancelPendingCommit=q(am.bind(null,e,t,f,r,i,u,h,v,b,x,1,_,N)),ar(e,f,h,!C);return}am(e,t,f,r,i,u,h,v,b)}function jv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!Ct(f(),u))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t,r,i){t&=~Nu,t&=~Or,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-k(u),h=1<<f;i[f]=-1,u&=~h}r!==0&&of(e,r,t)}function ds(){return(De&6)===0?(ki(0),!1):!0}function zu(){if(de!==null){if($e===0)var e=de.return;else e=de,Sn=wr=null,Io(e),Sa=null,bi=0,e=de;for(;e!==null;)kp(e.alternate,e),e=e.return;de=null}}function ka(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,i0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),zu(),Ee=e,de=r=Tn(e.current,null),ye=t,$e=0,kt=null,er=!1,Ca=Ya(e,t),wu=!1,_a=Bt=Nu=Or=tr=Ue=0,Dt=wi=null,ku=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-k(i),f=1<<u;t|=e[u],i&=~f}return kn=t,Ol(),r}function Ip(e,t){ue=null,M.H=Jl,t===fi||t===Bl?(t=hd(),$e=3):t===dd?(t=hd(),$e=4):$e=t===yp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,de===null&&(Ue=1,as(e,qt(t,e.current)))}function Jp(){var e=M.H;return M.H=Jl,e===null?Jl:e}function em(){var e=M.A;return M.A=Lv,e}function Hu(){Ue=4,er||(ye&4194048)!==ye&&Kt.current!==null||(Ca=!0),(tr&134217727)===0&&(Or&134217727)===0||Ee===null||ar(Ee,ye,Bt,!1)}function Uu(e,t,r){var i=De;De|=2;var u=Jp(),f=em();(Ee!==e||ye!==t)&&(fs=null,ka(e,t)),t=!1;var h=Ue;e:do try{if($e!==0&&de!==null){var v=de,b=kt;switch($e){case 8:zu(),h=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var C=$e;if($e=0,kt=null,xa(e,v,b,C),r&&Ca){h=0;break e}break;default:C=$e,$e=0,kt=null,xa(e,v,b,C)}}Kv(),h=Ue;break}catch(x){Ip(e,x)}while(!0);return t&&e.shellSuspendCounter++,Sn=wr=null,De=i,M.H=u,M.A=f,de===null&&(Ee=null,ye=0,Ol()),h}function Kv(){for(;de!==null;)tm(de)}function Bv(e,t){var r=De;De|=2;var i=Jp(),u=em();Ee!==e||ye!==t?(fs=null,cs=ct()+500,ka(e,t)):Ca=Ya(e,t);e:do try{if($e!==0&&de!==null){t=de;var f=kt;t:switch($e){case 1:$e=0,kt=null,xa(e,t,f,1);break;case 2:case 9:if(pd(f)){$e=0,kt=null,nm(t);break}t=function(){$e!==2&&$e!==9||Ee!==e||($e=7),pn(e)},f.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:pd(f)?($e=0,kt=null,nm(t)):($e=0,kt=null,xa(e,t,f,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var v=de;if(!h||Um(h)){$e=0,kt=null;var b=v.sibling;if(b!==null)de=b;else{var C=v.return;C!==null?(de=C,ps(C)):de=null}break t}}$e=0,kt=null,xa(e,t,f,5);break;case 6:$e=0,kt=null,xa(e,t,f,6);break;case 8:zu(),Ue=6;break e;default:throw Error(l(462))}}Fv();break}catch(x){Ip(e,x)}while(!0);return Sn=wr=null,M.H=i,M.A=u,De=r,de!==null?0:(Ee=null,ye=0,Ol(),Ue)}function Fv(){for(;de!==null&&!ut();)tm(de)}function tm(e){var t=wp(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?ps(e):de=t}function nm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Sp(r,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Sp(r,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Io(t);default:kp(r,t),t=de=rd(t,kn),t=wp(r,t,kn)}e.memoizedProps=e.pendingProps,t===null?ps(e):de=t}function xa(e,t,r,i){Sn=wr=null,Io(t),Sa=null,bi=0;var u=t.return;try{if(Mv(e,u,t,r,ye)){Ue=1,as(e,qt(r,e.current)),de=null;return}}catch(f){if(u!==null)throw de=u,f;Ue=1,as(e,qt(r,e.current)),de=null;return}t.flags&32768?(be||i===1?e=!0:Ca||(ye&536870912)!==0?e=!1:(er=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),rm(t,e)):ps(t)}function ps(e){var t=e;do{if((t.flags&32768)!==0){rm(t,er);return}e=t.return;var r=zv(t.alternate,t,kn);if(r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Ue===0&&(Ue=5)}function rm(e,t){do{var r=Hv(e.alternate,e);if(r!==null){r.flags&=32767,de=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=r}while(e!==null);Ue=6,de=null}function am(e,t,r,i,u,f,h,v,b){e.cancelPendingCommit=null;do ms();while(lt!==0);if((De&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=_o,Sg(e,r,f,h,v,b),e===Ee&&(de=Ee=null,ye=0),wa=t,rr=e,Na=r,Eu=f,Mu=u,Vp=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vv(gr,function(){return um(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=Q.p,Q.p=2,h=De,De|=4;try{Uv(e,t,r)}finally{De=h,Q.p=u,M.T=i}}lt=1,im(),lm(),sm()}}function im(){if(lt===1){lt=0;var e=rr,t=wa,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{jp(t,e);var f=Xu,h=Qf(e.containerInfo),v=f.focusedElem,b=f.selectionRange;if(h!==v&&v&&v.ownerDocument&&Yf(v.ownerDocument.documentElement,v)){if(b!==null&&So(v)){var C=b.start,x=b.end;if(x===void 0&&(x=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(x,v.value.length);else{var q=v.ownerDocument||document,_=q&&q.defaultView||window;if(_.getSelection){var N=_.getSelection(),ae=v.textContent.length,I=Math.min(b.start,ae),_e=b.end===void 0?I:Math.min(b.end,ae);!N.extend&&I>_e&&(h=_e,_e=I,I=h);var $=Pf(v,I),S=Pf(v,_e);if($&&S&&(N.rangeCount!==1||N.anchorNode!==$.node||N.anchorOffset!==$.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var A=q.createRange();A.setStart($.node,$.offset),N.removeAllRanges(),I>_e?(N.addRange(A),N.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),N.addRange(A))}}}}for(q=[],N=v;N=N.parentNode;)N.nodeType===1&&q.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var z=q[v];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Cs=!!Vu,Xu=Vu=null}finally{De=u,Q.p=i,M.T=r}}e.current=t,lt=2}}function lm(){if(lt===2){lt=0;var e=rr,t=wa,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{Up(e,t.alternate,t)}finally{De=u,Q.p=i,M.T=r}}lt=3}}function sm(){if(lt===4||lt===3){lt=0,Wt();var e=rr,t=wa,r=Na,i=Vp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,wa=rr=null,om(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(nr=null),eo(r),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(on,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,u=Q.p,Q.p=2,M.T=null;try{for(var f=e.onRecoverableError,h=0;h<i.length;h++){var v=i[h];f(v.value,{componentStack:v.stack})}}finally{M.T=t,Q.p=u}}(Na&3)!==0&&ms(),pn(e),u=e.pendingLanes,(r&4194090)!==0&&(u&42)!==0?e===Ou?Ni++:(Ni=0,Ou=e):Ni=0,ki(0)}}function om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ui(t)))}function ms(e){return im(),lm(),sm(),um()}function um(){if(lt!==5)return!1;var e=rr,t=Eu;Eu=0;var r=eo(Na),i=M.T,u=Q.p;try{Q.p=32>r?32:r,M.T=null,r=Mu,Mu=null;var f=rr,h=Na;if(lt=0,wa=rr=null,Na=0,(De&6)!==0)throw Error(l(331));var v=De;if(De|=4,Yp(f.current),Bp(f,f.current,h,r),De=v,ki(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(on,f)}catch{}return!0}finally{Q.p=u,M.T=i,om(e,t)}}function cm(e,t,r){t=qt(r,t),t=du(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(Qa(e,2),pn(e))}function we(e,t,r){if(e.tag===3)cm(e,e,r);else for(;t!==null;){if(t.tag===3){cm(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){e=qt(r,e),r=mp(2),i=Qn(t,r,2),i!==null&&(hp(r,i,t,e),Qa(i,2),pn(i));break}}t=t.return}}function qu(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Gv;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(wu=!0,u.add(r),e=Pv.bind(null,e,t,r),t.then(e,e))}function Pv(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ee===e&&(ye&r)===r&&(Ue===4||Ue===3&&(ye&62914560)===ye&&300>ct()-xu?(De&2)===0&&ka(e,0):Nu|=r,_a===ye&&(_a=0)),pn(e)}function fm(e,t){t===0&&(t=sf()),e=da(e,t),e!==null&&(Qa(e,t),pn(e))}function Yv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fm(e,r)}function Qv(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),fm(e,r)}function Vv(e,t){return le(e,t)}var hs=null,Ea=null,Lu=!1,ys=!1,Gu=!1,zr=0;function pn(e){e!==Ea&&e.next===null&&(Ea===null?hs=Ea=e:Ea=Ea.next=e),ys=!0,Lu||(Lu=!0,Zv())}function ki(e,t){if(!Gu&&ys){Gu=!0;do for(var r=!1,i=hs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var h=i.suspendedLanes,v=i.pingedLanes;f=(1<<31-k(42|e)+1)-1,f&=u&~(h&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,hm(i,f))}else f=ye,f=Sl(i,i===Ee?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Ya(i,f)||(r=!0,hm(i,f));i=i.next}while(r);Gu=!1}}function Xv(){dm()}function dm(){ys=Lu=!1;var e=0;zr!==0&&(a0()&&(e=zr),zr=0);for(var t=ct(),r=null,i=hs;i!==null;){var u=i.next,f=pm(i,t);f===0?(i.next=null,r===null?hs=u:r.next=u,u===null&&(Ea=r)):(r=i,(e!==0||(f&3)!==0)&&(ys=!0)),i=u}ki(e)}function pm(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var h=31-k(f),v=1<<h,b=u[h];b===-1?((v&r)===0||(v&i)!==0)&&(u[h]=Rg(v,t)):b<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ee,r=ye,r=Sl(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,r===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&H(i),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ya(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(i!==null&&H(i),eo(r)){case 2:case 8:r=Pa;break;case 32:r=gr;break;case 268435456:r=bl;break;default:r=gr}return i=mm.bind(null,e),r=le(r,i),e.callbackPriority=t,e.callbackNode=r,t}return i!==null&&i!==null&&H(i),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ms()&&e.callbackNode!==r)return null;var i=ye;return i=Sl(e,e===Ee?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Zp(e,i,t),pm(e,ct()),e.callbackNode!=null&&e.callbackNode===r?mm.bind(null,e):null)}function hm(e,t){if(ms())return null;Zp(e,t,!0)}function Zv(){l0(function(){(De&6)!==0?le(Fa,Xv):dm()})}function ju(){return zr===0&&(zr=lf()),zr}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function gm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Wv(e,t,r,i,u){if(t==="submit"&&r&&r.stateNode===u){var f=ym((u[Tt]||null).action),h=i.submitter;h&&(t=(t=h[Tt]||null)?ym(t.formAction):h.getAttribute("formAction"),t!==null&&(f=t,h=null));var v=new xl("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zr!==0){var b=h?gm(u,h):new FormData(u);su(r,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=h?gm(u,h):new FormData(u),su(r,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Ku=0;Ku<Co.length;Ku++){var Bu=Co[Ku],Iv=Bu.toLowerCase(),Jv=Bu[0].toUpperCase()+Bu.slice(1);Jt(Iv,"on"+Jv)}Jt(Zf,"onAnimationEnd"),Jt(Wf,"onAnimationIteration"),Jt(If,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(yv,"onTransitionRun"),Jt(gv,"onTransitionStart"),Jt(vv,"onTransitionCancel"),Jt(Jf,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xi));function vm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var h=i.length-1;0<=h;h--){var v=i[h],b=v.instance,C=v.currentTarget;if(v=v.listener,b!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=C;try{f(u)}catch(x){rs(x)}u.currentTarget=null,f=b}else for(h=0;h<i.length;h++){if(v=i[h],b=v.instance,C=v.currentTarget,v=v.listener,b!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=C;try{f(u)}catch(x){rs(x)}u.currentTarget=null,f=b}}}}function pe(e,t){var r=t[to];r===void 0&&(r=t[to]=new Set);var i=e+"__bubble";r.has(i)||(Tm(t,e,2,!1),r.add(i))}function Fu(e,t,r){var i=0;t&&(i|=4),Tm(r,e,i,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[gs]){e[gs]=!0,df.forEach(function(r){r!=="selectionchange"&&(e0.has(r)||Fu(r,!1,e),Fu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,Fu("selectionchange",!1,t))}}function Tm(e,t,r,i){switch(Bm(t)){case 2:var u=_0;break;case 8:u=w0;break;default:u=ic}r=u.bind(null,t,r,e),u=void 0,!po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Yu(e,t,r,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var v=i.stateNode.containerInfo;if(v===u)break;if(h===4)for(h=i.return;h!==null;){var b=h.tag;if((b===3||b===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;v!==null;){if(h=Jr(v),h===null)return;if(b=h.tag,b===5||b===6||b===26||b===27){i=f=h;continue e}v=v.parentNode}}i=i.return}Cf(function(){var C=f,x=co(r),q=[];e:{var _=ed.get(e);if(_!==void 0){var N=xl,ae=e;switch(e){case"keypress":if(Nl(r)===0)break e;case"keydown":case"keyup":N=Vg;break;case"focusin":ae="focus",N=go;break;case"focusout":ae="blur",N=go;break;case"beforeblur":case"afterblur":N=go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Wg;break;case Zf:case Wf:case If:N=Lg;break;case Jf:N=Jg;break;case"scroll":case"scrollend":N=Og;break;case"wheel":N=tv;break;case"copy":case"cut":case"paste":N=jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=xf;break;case"toggle":case"beforetoggle":N=rv}var I=(t&4)!==0,_e=!I&&(e==="scroll"||e==="scrollend"),$=I?_!==null?_+"Capture":null:_;I=[];for(var S=C,A;S!==null;){var z=S;if(A=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||A===null||$===null||(z=Za(S,$),z!=null&&I.push(Ei(S,z,A))),_e)break;S=S.return}0<I.length&&(_=new N(_,ae,null,r,x),q.push({event:_,listeners:I}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",_&&r!==uo&&(ae=r.relatedTarget||r.fromElement)&&(Jr(ae)||ae[Ir]))break e;if((N||_)&&(_=x.window===x?x:(_=x.ownerDocument)?_.defaultView||_.parentWindow:window,N?(ae=r.relatedTarget||r.toElement,N=C,ae=ae?Jr(ae):null,ae!==null&&(_e=c(ae),I=ae.tag,ae!==_e||I!==5&&I!==27&&I!==6)&&(ae=null)):(N=null,ae=C),N!==ae)){if(I=Nf,z="onMouseLeave",$="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=xf,z="onPointerLeave",$="onPointerEnter",S="pointer"),_e=N==null?_:Xa(N),A=ae==null?_:Xa(ae),_=new I(z,S+"leave",N,r,x),_.target=_e,_.relatedTarget=A,z=null,Jr(x)===C&&(I=new I($,S+"enter",ae,r,x),I.target=A,I.relatedTarget=_e,z=I),_e=z,N&&ae)t:{for(I=N,$=ae,S=0,A=I;A;A=Ma(A))S++;for(A=0,z=$;z;z=Ma(z))A++;for(;0<S-A;)I=Ma(I),S--;for(;0<A-S;)$=Ma($),A--;for(;S--;){if(I===$||$!==null&&I===$.alternate)break t;I=Ma(I),$=Ma($)}I=null}else I=null;N!==null&&bm(q,_,N,I,!1),ae!==null&&_e!==null&&bm(q,_e,ae,I,!0)}}e:{if(_=C?Xa(C):window,N=_.nodeName&&_.nodeName.toLowerCase(),N==="select"||N==="input"&&_.type==="file")var X=Lf;else if(Uf(_))if(Gf)X=pv;else{X=fv;var ce=cv}else N=_.nodeName,!N||N.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?C&&oo(C.elementType)&&(X=Lf):X=dv;if(X&&(X=X(e,C))){qf(q,X,r,x);break e}ce&&ce(e,_,C),e==="focusout"&&C&&_.type==="number"&&C.memoizedProps.value!=null&&so(_,"number",_.value)}switch(ce=C?Xa(C):window,e){case"focusin":(Uf(ce)||ce.contentEditable==="true")&&(ua=ce,Do=C,ai=null);break;case"focusout":ai=Do=ua=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Vf(q,r,x);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":Vf(q,r,x)}var Z;if(To)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else oa?zf(e,r)&&(ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ee="onCompositionStart");ee&&(Ef&&r.locale!=="ko"&&(oa||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&oa&&(Z=_f()):(Bn=x,mo="value"in Bn?Bn.value:Bn.textContent,oa=!0)),ce=vs(C,ee),0<ce.length&&(ee=new kf(ee,e,null,r,x),q.push({event:ee,listeners:ce}),Z?ee.data=Z:(Z=Hf(r),Z!==null&&(ee.data=Z)))),(Z=iv?lv(e,r):sv(e,r))&&(ee=vs(C,"onBeforeInput"),0<ee.length&&(ce=new kf("onBeforeInput","beforeinput",null,r,x),q.push({event:ce,listeners:ee}),ce.data=Z)),Wv(q,e,C,r,x)}vm(q,t)})}function Ei(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vs(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Za(e,r),u!=null&&i.unshift(Ei(e,u,f)),u=Za(e,t),u!=null&&i.push(Ei(e,u,f))),e.tag===3)return i;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,t,r,i,u){for(var f=t._reactName,h=[];r!==null&&r!==i;){var v=r,b=v.alternate,C=v.stateNode;if(v=v.tag,b!==null&&b===i)break;v!==5&&v!==26&&v!==27||C===null||(b=C,u?(C=Za(r,f),C!=null&&h.unshift(Ei(r,C,b))):u||(C=Za(r,f),C!=null&&h.push(Ei(r,C,b)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var t0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function Rm(e){return(typeof e=="string"?e:""+e).replace(t0,`
`).replace(n0,"")}function Sm(e,t){return t=Rm(t),Rm(e)===t}function Ts(){}function Ce(e,t,r,i,u,f){switch(r){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ia(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ia(e,""+i);break;case"className":$l(e,"class",i);break;case"tabIndex":$l(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,r,i);break;case"style":$f(e,i,f);break;case"data":if(t!=="object"){$l(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=_l(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&Ce(e,t,"name",u.name,u,null),Ce(e,t,"formEncType",u.formEncType,u,null),Ce(e,t,"formMethod",u.formMethod,u,null),Ce(e,t,"formTarget",u.formTarget,u,null)):(Ce(e,t,"encType",u.encType,u,null),Ce(e,t,"method",u.method,u,null),Ce(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=_l(""+i),e.setAttribute(r,i);break;case"onClick":i!=null&&(e.onclick=Ts);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}r=_l(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":i===!0?e.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Dl(e,"popover",i);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Dl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eg.get(r)||r,Dl(e,r,i))}}function Qu(e,t,r,i,u,f){switch(r){case"style":$f(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof i=="string"?ia(e,i):(typeof i=="number"||typeof i=="bigint")&&ia(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),t=r.slice(2,u?r.length-7:void 0),f=e[Tt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,i,u);break e}r in e?e[r]=i:i===!0?e.setAttribute(r,""):Dl(e,r,i)}}}function st(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var h=r[f];if(h!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,f,h,r,null)}}u&&Ce(e,t,"srcSet",r.srcSet,r,null),i&&Ce(e,t,"src",r.src,r,null);return;case"input":pe("invalid",e);var v=f=h=u=null,b=null,C=null;for(i in r)if(r.hasOwnProperty(i)){var x=r[i];if(x!=null)switch(i){case"name":u=x;break;case"type":h=x;break;case"checked":b=x;break;case"defaultChecked":C=x;break;case"value":f=x;break;case"defaultValue":v=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,t));break;default:Ce(e,t,i,x,r,null)}}bf(e,f,v,b,C,h,u,!1),Al(e);return;case"select":pe("invalid",e),i=h=f=null;for(u in r)if(r.hasOwnProperty(u)&&(v=r[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":h=v;break;case"multiple":i=v;default:Ce(e,t,u,v,r,null)}t=f,r=h,e.multiple=!!i,t!=null?aa(e,!!i,t,!1):r!=null&&aa(e,!!i,r,!0);return;case"textarea":pe("invalid",e),f=u=i=null;for(h in r)if(r.hasOwnProperty(h)&&(v=r[h],v!=null))switch(h){case"value":i=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ce(e,t,h,v,r,null)}Sf(e,i,u,f),Al(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(i=r[b],i!=null))switch(b){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ce(e,t,b,i,r,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<xi.length;i++)pe(xi[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in r)if(r.hasOwnProperty(C)&&(i=r[C],i!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,C,i,r,null)}return;default:if(oo(t)){for(x in r)r.hasOwnProperty(x)&&(i=r[x],i!==void 0&&Qu(e,t,x,i,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(i=r[v],i!=null&&Ce(e,t,v,i,r,null))}function r0(e,t,r,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,h=null,v=null,b=null,C=null,x=null;for(N in r){var q=r[N];if(r.hasOwnProperty(N)&&q!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":b=q;default:i.hasOwnProperty(N)||Ce(e,t,N,null,i,q)}}for(var _ in i){var N=i[_];if(q=r[_],i.hasOwnProperty(_)&&(N!=null||q!=null))switch(_){case"type":f=N;break;case"name":u=N;break;case"checked":C=N;break;case"defaultChecked":x=N;break;case"value":h=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:N!==q&&Ce(e,t,_,N,i,q)}}lo(e,h,v,b,C,x,f,u);return;case"select":N=h=v=_=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":N=b;default:i.hasOwnProperty(f)||Ce(e,t,f,null,i,b)}for(u in i)if(f=i[u],b=r[u],i.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":_=f;break;case"defaultValue":v=f;break;case"multiple":h=f;default:f!==b&&Ce(e,t,u,f,i,b)}t=v,r=h,i=N,_!=null?aa(e,!!r,_,!1):!!i!=!!r&&(t!=null?aa(e,!!r,t,!0):aa(e,!!r,r?[]:"",!1));return;case"textarea":N=_=null;for(v in r)if(u=r[v],r.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ce(e,t,v,null,i,u)}for(h in i)if(u=i[h],f=r[h],i.hasOwnProperty(h)&&(u!=null||f!=null))switch(h){case"value":_=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ce(e,t,h,u,i,f)}Rf(e,_,N);return;case"option":for(var ae in r)if(_=r[ae],r.hasOwnProperty(ae)&&_!=null&&!i.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ce(e,t,ae,null,i,_)}for(b in i)if(_=i[b],N=r[b],i.hasOwnProperty(b)&&_!==N&&(_!=null||N!=null))switch(b){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ce(e,t,b,_,i,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in r)_=r[I],r.hasOwnProperty(I)&&_!=null&&!i.hasOwnProperty(I)&&Ce(e,t,I,null,i,_);for(C in i)if(_=i[C],N=r[C],i.hasOwnProperty(C)&&_!==N&&(_!=null||N!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(137,t));break;default:Ce(e,t,C,_,i,N)}return;default:if(oo(t)){for(var _e in r)_=r[_e],r.hasOwnProperty(_e)&&_!==void 0&&!i.hasOwnProperty(_e)&&Qu(e,t,_e,void 0,i,_);for(x in i)_=i[x],N=r[x],!i.hasOwnProperty(x)||_===N||_===void 0&&N===void 0||Qu(e,t,x,_,i,N);return}}for(var $ in r)_=r[$],r.hasOwnProperty($)&&_!=null&&!i.hasOwnProperty($)&&Ce(e,t,$,null,i,_);for(q in i)_=i[q],N=r[q],!i.hasOwnProperty(q)||_===N||_==null&&N==null||Ce(e,t,q,_,i,N)}var Vu=null,Xu=null;function bs(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=null;function a0(){var e=window.event;return e&&e.type==="popstate"?e===Wu?!1:(Wu=e,!0):(Wu=null,!1)}var Am=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(e){return Cm.resolve(null).then(e).catch(s0)}:Am;function s0(e){setTimeout(function(){throw e})}function ir(e){return e==="head"}function _m(e,t){var r=t,i=0,u=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<i&&8>i){r=i;var h=e.ownerDocument;if(r&1&&Mi(h.documentElement),r&2&&Mi(h.body),r&4)for(r=h.head,Mi(r),h=r.firstChild;h;){var v=h.nextSibling,b=h.nodeName;h[Va]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}if(u===0){e.removeChild(f),ji(t);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:i=r.charCodeAt(0)-48;else i=0;r=f}while(r);ji(t)}function Iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Iu(r),no(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function o0(e,t,r,i){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Va])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function u0(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=tn(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function c0(e,t){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")t();else{var i=function(){t(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ec=null;function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}function Nm(e,t,r){switch(t=bs(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);no(e)}var Ft=new Map,km=new Set;function Rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=Q.d;Q.d={f:f0,r:d0,D:p0,C:m0,L:h0,m:y0,X:v0,S:g0,M:T0};function f0(){var e=xn.f(),t=ds();return e||t}function d0(e){var t=ea(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):xn.r(e)}var Oa=typeof document>"u"?null:document;function xm(e,t,r){var i=Oa;if(i&&typeof t=="string"&&t){var u=Ut(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),km.has(u)||(km.add(u),e={rel:e,crossOrigin:r,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),st(t,"link",e),Je(t),i.head.appendChild(t)))}}function p0(e){xn.D(e),xm("dns-prefetch",e,null)}function m0(e,t){xn.C(e,t),xm("preconnect",e,t)}function h0(e,t,r){xn.L(e,t,r);var i=Oa;if(i&&e&&t){var u='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ut(r.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var f=u;switch(t){case"style":f=za(e);break;case"script":f=Ha(e)}Ft.has(f)||(e=g({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Ft.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Oi(f))||t==="script"&&i.querySelector(zi(f))||(t=i.createElement("link"),st(t,"link",e),Je(t),i.head.appendChild(t)))}}function y0(e,t){xn.m(e,t);var r=Oa;if(r&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ut(i)+'"][href="'+Ut(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Ft.has(f)&&(e=g({rel:"modulepreload",href:e},t),Ft.set(f,e),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zi(f)))return}i=r.createElement("link"),st(i,"link",e),Je(i),r.head.appendChild(i)}}}function g0(e,t,r){xn.S(e,t,r);var i=Oa;if(i&&e){var u=ta(i).hoistableStyles,f=za(e);t=t||"default";var h=u.get(f);if(!h){var v={loading:0,preload:null};if(h=i.querySelector(Oi(f)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Ft.get(f))&&tc(e,r);var b=h=i.createElement("link");Je(b),st(b,"link",e),b._p=new Promise(function(C,x){b.onload=C,b.onerror=x}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ss(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:v},u.set(f,h)}}}function v0(e,t){xn.X(e,t);var r=Oa;if(r&&e){var i=ta(r).hoistableScripts,u=Ha(e),f=i.get(u);f||(f=r.querySelector(zi(u)),f||(e=g({src:e,async:!0},t),(t=Ft.get(u))&&nc(e,t),f=r.createElement("script"),Je(f),st(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function T0(e,t){xn.M(e,t);var r=Oa;if(r&&e){var i=ta(r).hoistableScripts,u=Ha(e),f=i.get(u);f||(f=r.querySelector(zi(u)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Ft.get(u))&&nc(e,t),f=r.createElement("script"),Je(f),st(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function Em(e,t,r,i){var u=(u=Zt.current)?Rs(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=za(r.href),r=ta(u).hoistableStyles,i=r.get(t),i||(i={type:"style",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=za(r.href);var f=ta(u).hoistableStyles,h=f.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,h),(f=u.querySelector(Oi(e)))&&!f._p&&(h.instance=f,h.state.loading=5),Ft.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ft.set(e,r),f||b0(u,e,r,h.state))),t&&i===null)throw Error(l(528,""));return h}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(r),r=ta(u).hoistableScripts,i=r.get(t),i||(i={type:"script",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function za(e){return'href="'+Ut(e)+'"'}function Oi(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function b0(e,t,r,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),st(t,"link",r),Je(t),e.head.appendChild(t))}function Ha(e){return'[src="'+Ut(e)+'"]'}function zi(e){return"script[async]"+e}function Om(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(i)return t.instance=i,Je(i),i;var u=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Je(i),st(i,"style",u),Ss(i,r.precedence,e),t.instance=i;case"stylesheet":u=za(r.href);var f=e.querySelector(Oi(u));if(f)return t.state.loading|=4,t.instance=f,Je(f),f;i=Mm(r),(u=Ft.get(u))&&tc(i,u),f=(e.ownerDocument||e).createElement("link"),Je(f);var h=f;return h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),st(f,"link",i),t.state.loading|=4,Ss(f,r.precedence,e),t.instance=f;case"script":return f=Ha(r.src),(u=e.querySelector(zi(f)))?(t.instance=u,Je(u),u):(i=r,(u=Ft.get(f))&&(i=g({},r),nc(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Je(u),st(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ss(i,r.precedence,e));return t.instance}function Ss(e,t,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,h=0;h<i.length;h++){var v=i[h];if(v.dataset.precedence===t)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ds=null;function zm(e,t,r){if(Ds===null){var i=new Map,u=Ds=new Map;u.set(r,i)}else u=Ds,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var f=r[u];if(!(f[Va]||f[ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var h=f.getAttribute(t)||"";h=e+h;var v=i.get(h);v?v.push(f):i.set(h,[f])}}return i}function Hm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function R0(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hi=null;function S0(){}function D0(e,t,r){if(Hi===null)throw Error(l(475));var i=Hi;if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=za(r.href),f=e.querySelector(Oi(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=$s.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,Je(f);return}f=e.ownerDocument||e,r=Mm(r),(u=Ft.get(u))&&tc(r,u),f=f.createElement("link"),Je(f);var h=f;h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),st(f,"link",r),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=$s.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function $0(){if(Hi===null)throw Error(l(475));var e=Hi;return e.stylesheets&&e.count===0&&rc(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}function $s(){if(this.count--,this.count===0){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var As=null;function rc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,As=new Map,t.forEach(A0,e),As=null,$s.call(e))}function A0(e,t){if(!(t.state.loading&4)){var r=As.get(e);if(r)var i=r.get(null);else{r=new Map,As.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var h=u[f];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(r.set(h.dataset.precedence,h),i=h)}i&&r.set(null,i)}u=t.instance,h=u.getAttribute("data-precedence"),f=r.get(h)||i,f===i&&r.set(null,u),r.set(h,u),this.count++,i=$s.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:P,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function C0(e,t,r,i,u,f,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function qm(e,t,r,i,u,f,h,v,b,C,x,q){return e=new C0(e,t,r,h,v,b,C,q),t=1,f===!0&&(t|=24),f=_t(3,null,null,t),e.current=f,f.stateNode=e,t=qo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:t},Ko(f),e}function Lm(e){return e?(e=pa,e):pa}function Gm(e,t,r,i,u,f){u=Lm(u),i.context===null?i.context=u:i.pendingContext=u,i=Yn(t),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Qn(e,i,t),r!==null&&(Et(r,e,t),pi(r,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ac(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Km(e){if(e.tag===13){var t=da(e,67108864);t!==null&&Et(t,e,67108864),ac(e,67108864)}}var Cs=!0;function _0(e,t,r,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=2,ic(e,t,r,i)}finally{Q.p=f,M.T=u}}function w0(e,t,r,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=8,ic(e,t,r,i)}finally{Q.p=f,M.T=u}}function ic(e,t,r,i){if(Cs){var u=lc(i);if(u===null)Yu(e,t,i,_s,r),Fm(e,i);else if(k0(u,e,t,r,i))i.stopPropagation();else if(Fm(e,i),t&4&&-1<N0.indexOf(e)){for(;u!==null;){var f=ea(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=vr(f.pendingLanes);if(h!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var b=1<<31-k(h);v.entanglements[1]|=b,h&=~b}pn(f),(De&6)===0&&(cs=ct()+500,ki(0))}}break;case 13:v=da(f,2),v!==null&&Et(v,f,2),ds(),ac(f,2)}if(f=lc(i),f===null&&Yu(e,t,i,_s,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Yu(e,t,i,null,r)}}function lc(e){return e=co(e),sc(e)}var _s=null;function sc(e){if(_s=null,e=Jr(e),e!==null){var t=c(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=d(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _s=e,null}function Bm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tl()){case Fa:return 2;case Pa:return 8;case gr:case Vr:return 32;case bl:return 268435456;default:return 32}default:return 32}}var oc=!1,lr=null,sr=null,or=null,qi=new Map,Li=new Map,ur=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fm(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Gi(e,t,r,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ea(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function k0(e,t,r,i,u){switch(t){case"focusin":return lr=Gi(lr,e,t,r,i,u),!0;case"dragenter":return sr=Gi(sr,e,t,r,i,u),!0;case"mouseover":return or=Gi(or,e,t,r,i,u),!0;case"pointerover":var f=u.pointerId;return qi.set(f,Gi(qi.get(f)||null,e,t,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Li.set(f,Gi(Li.get(f)||null,e,t,r,i,u)),!0}return!1}function Pm(e){var t=Jr(e.target);if(t!==null){var r=c(t);if(r!==null){if(t=r.tag,t===13){if(t=d(r),t!==null){e.blockedOn=t,Dg(e.priority,function(){if(r.tag===13){var i=xt();i=Js(i);var u=da(r,i);u!==null&&Et(u,r,i),ac(r,i)}});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lc(e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);uo=i,r.target.dispatchEvent(i),uo=null}else return t=ea(r),t!==null&&Km(t),e.blockedOn=r,!1;t.shift()}return!0}function Ym(e,t,r){ws(e)&&r.delete(t)}function x0(){oc=!1,lr!==null&&ws(lr)&&(lr=null),sr!==null&&ws(sr)&&(sr=null),or!==null&&ws(or)&&(or=null),qi.forEach(Ym),Li.forEach(Ym)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,oc||(oc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,x0)))}var ks=null;function Qm(e){ks!==e&&(ks=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ks===e&&(ks=null);for(var t=0;t<e.length;t+=3){var r=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(sc(i||r)===null)continue;break}var f=ea(r);f!==null&&(e.splice(t,3),t-=3,su(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function ji(e){function t(b){return Ns(b,e)}lr!==null&&Ns(lr,e),sr!==null&&Ns(sr,e),or!==null&&Ns(or,e),qi.forEach(t),Li.forEach(t);for(var r=0;r<ur.length;r++){var i=ur[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Pm(r),r.blockedOn===null&&ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],h=u[Tt]||null;if(typeof f=="function")h||Qm(r);else if(h){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,h=f[Tt]||null)v=h.formAction;else if(sc(u)!==null)continue}else v=h.action;typeof v=="function"?r[i+1]=v:(r.splice(i,3),i-=3),Qm(r)}}}function uc(e){this._internalRoot=e}xs.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,i=xt();Gm(r,i,e,t,null,null)},xs.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),ds(),t[Ir]=null}};function xs(e){this._internalRoot=e}xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=cf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ur.length&&t!==0&&t<ur[r].priority;r++);ur.splice(r,0,e),r===0&&Pm(e)}};var Vm=n.version;if(Vm!=="19.1.0")throw Error(l(527,Vm,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var E0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{on=Es.inject(E0),Be=Es}catch{}}return Pi.createRoot=function(e,t){if(!s(e))throw Error(l(299));var r=!1,i="",u=cp,f=fp,h=dp,v=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=qm(e,1,!1,null,null,r,i,u,f,h,v,null),e[Ir]=t.current,Pu(e),new uc(t)},Pi.hydrateRoot=function(e,t,r){if(!s(e))throw Error(l(299));var i=!1,u="",f=cp,h=fp,v=dp,b=null,C=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(C=r.formState)),t=qm(e,1,!0,t,r??null,i,u,f,h,v,b,C),t.context=Lm(null),r=t.current,i=xt(),i=Js(i),u=Yn(i),u.callback=null,Qn(r,u,i),r=i,t.current.lanes=r,Qa(t,r),pn(t),e[Ir]=t.current,Pu(e),new xs(t)},Pi.version="19.1.0",Pi}var uh;function LT(){if(uh)return dc.exports;uh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),dc.exports=qT(),dc.exports}var GT=LT();function jT(o){var n;const a=/^\/(.*)\/([gimyu]*)$/.exec(o.toString());if(!a)throw new Error("Invalid RegExp");return new RegExp((n=a[1])!==null&&n!==void 0?n:"",a[2])}function Fs(o){if(typeof o!="object")return o;if(o===null)return null;if(Array.isArray(o))return o.map(Fs);if(o instanceof Date)return new Date(o.getTime());if(o instanceof RegExp)return jT(o);const n={};for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=Fs(o[a]));return n}function KT(o,n){if(o.length===0)throw new Error("Expected a non-empty array")}function BT(o,n){if(o.length<2)throw new Error("Expected an array with at least 2 items")}const FT=o=>o[o.length-1];class Pc{setResult(n){return this.result=n,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(n,a){return n.parent=this,typeof a<"u"&&(n.childName=a),n.root=this.root||this,n.options=n.options||this.options,this.children?(KT(this.children),FT(this.children).next=n,this.children.push(n)):(this.children=[n],this.nextAfterChildren=this.next||null,this.next=n),n.next=this,this}}class Gr extends Pc{constructor(n,a){super(),this.left=n,this.right=a,this.pipe="diff"}prepareDeltaResult(n){var a,l,s,c;if(typeof n=="object"&&(!((a=this.options)===null||a===void 0)&&a.omitRemovedValues&&Array.isArray(n)&&n.length>1&&(n.length===2||n[2]===0||n[2]===3)&&(n[0]=0),!((l=this.options)===null||l===void 0)&&l.cloneDiffValues)){const d=typeof((s=this.options)===null||s===void 0?void 0:s.cloneDiffValues)=="function"?(c=this.options)===null||c===void 0?void 0:c.cloneDiffValues:Fs;typeof n[0]=="object"&&(n[0]=d(n[0])),typeof n[1]=="object"&&(n[1]=d(n[1]))}return n}setResult(n){return this.prepareDeltaResult(n),super.setResult(n)}}class Yc extends Pc{constructor(n,a){super(),this.left=n,this.delta=a,this.pipe="patch"}}class Qc extends Pc{constructor(n){super(),this.delta=n,this.pipe="reverse"}}class hc{constructor(n){this.name=n,this.filters=[]}process(n){if(!this.processor)throw new Error("add this pipe to a processor before using it");const a=this.debug,l=this.filters.length,s=n;for(let c=0;c<l;c++){const d=this.filters[c];if(d&&(a&&this.log(`filter: ${d.filterName}`),d(s),typeof s=="object"&&s.exiting)){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}log(n){console.log(`[jsondiffpatch] ${this.name} pipe, ${n}`)}append(...n){return this.filters.push(...n),this}prepend(...n){return this.filters.unshift(...n),this}indexOf(n){if(!n)throw new Error("a filter name is required");for(let a=0;a<this.filters.length;a++){const l=this.filters[a];if(l?.filterName===n)return a}throw new Error(`filter not found: ${n}`)}list(){return this.filters.map(n=>n.filterName)}after(n,...a){const l=this.indexOf(n);return this.filters.splice(l+1,0,...a),this}before(n,...a){const l=this.indexOf(n);return this.filters.splice(l,0,...a),this}replace(n,...a){const l=this.indexOf(n);return this.filters.splice(l,1,...a),this}remove(n){const a=this.indexOf(n);return this.filters.splice(a,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(n){return n===!1?(this.resultCheck=null,this):this.resultCheck?this:(this.resultCheck=a=>{if(!a.hasResult){console.log(a);const l=new Error(`${this.name} failed`);throw l.noResult=!0,l}},this)}}class PT{constructor(n){this.selfOptions=n||{},this.pipes={}}options(n){return n&&(this.selfOptions=n),this.selfOptions}pipe(n,a){let l=a;if(typeof n=="string"){if(typeof l>"u")return this.pipes[n];this.pipes[n]=l}if(n&&n.name){if(l=n,l.processor===this)return l;this.pipes[l.name]=l}if(!l)throw new Error(`pipe is not defined: ${n}`);return l.processor=this,l}process(n,a){let l=n;l.options=this.options();let s=a||n.pipe||"default",c;for(;s;)typeof l.nextAfterChildren<"u"&&(l.next=l.nextAfterChildren,l.nextAfterChildren=null),typeof s=="string"&&(s=this.pipe(s)),s.process(l),c=s,s=null,l&&l.next&&(l=l.next,s=l.pipe||c);return l.hasResult?l.result:void 0}}const YT=(o,n,a,l)=>o[a]===n[l],QT=(o,n,a,l)=>{var s,c,d;const p=o.length,m=n.length;let y,g;const T=new Array(p+1);for(y=0;y<p+1;y++){const R=new Array(m+1);for(g=0;g<m+1;g++)R[g]=0;T[y]=R}for(T.match=a,y=1;y<p+1;y++){const R=T[y];if(R===void 0)throw new Error("LCS matrix row is undefined");const D=T[y-1];if(D===void 0)throw new Error("LCS matrix row is undefined");for(g=1;g<m+1;g++)a(o,n,y-1,g-1,l)?R[g]=((s=D[g-1])!==null&&s!==void 0?s:0)+1:R[g]=Math.max((c=D[g])!==null&&c!==void 0?c:0,(d=R[g-1])!==null&&d!==void 0?d:0)}return T},VT=(o,n,a,l)=>{let s=n.length,c=a.length;const d={sequence:[],indices1:[],indices2:[]};for(;s!==0&&c!==0;){if(o.match===void 0)throw new Error("LCS matrix match function is undefined");if(o.match(n,a,s-1,c-1,l))d.sequence.unshift(n[s-1]),d.indices1.unshift(s-1),d.indices2.unshift(c-1),--s,--c;else{const m=o[s];if(m===void 0)throw new Error("LCS matrix row is undefined");const y=m[c-1];if(y===void 0)throw new Error("LCS matrix value is undefined");const g=o[s-1];if(g===void 0)throw new Error("LCS matrix row is undefined");const T=g[c];if(T===void 0)throw new Error("LCS matrix value is undefined");y>T?--c:--s}}return d},XT=(o,n,a,l)=>{const s=l||{},c=QT(o,n,a||YT,s);return VT(c,o,n,s)},ZT={get:XT},Pr=3;function WT(o,n,a,l){for(let s=0;s<a;s++){const c=o[s];for(let d=0;d<l;d++){const p=n[d];if(s!==d&&c===p)return!0}}return!1}function Ms(o,n,a,l,s){const c=o[a],d=n[l];if(c===d)return!0;if(typeof c!="object"||typeof d!="object")return!1;const p=s.objectHash;if(!p)return s.matchByPosition&&a===l;s.hashCache1=s.hashCache1||[];let m=s.hashCache1[a];if(typeof m>"u"&&(s.hashCache1[a]=m=p(c,a)),typeof m>"u")return!1;s.hashCache2=s.hashCache2||[];let y=s.hashCache2[l];return typeof y>"u"&&(s.hashCache2[l]=y=p(d,l)),typeof y>"u"?!1:m===y}const py=function(n){var a,l,s,c,d;if(!n.leftIsArray)return;const p={objectHash:(a=n.options)===null||a===void 0?void 0:a.objectHash,matchByPosition:(l=n.options)===null||l===void 0?void 0:l.matchByPosition};let m=0,y=0,g,T,R;const D=n.left,U=n.right,B=D.length,L=U.length;let F;for(B>0&&L>0&&!p.objectHash&&typeof p.matchByPosition!="boolean"&&(p.matchByPosition=!WT(D,U,B,L));m<B&&m<L&&Ms(D,U,m,m,p);)g=m,F=new Gr(D[g],U[g]),n.push(F,g),m++;for(;y+m<B&&y+m<L&&Ms(D,U,B-1-y,L-1-y,p);)T=B-1-y,R=L-1-y,F=new Gr(D[T],U[R]),n.push(F,R),y++;let j;if(m+y===B){if(B===L){n.setResult(void 0).exit();return}for(j=j||{_t:"a"},g=m;g<L-y;g++)j[g]=[U[g]],n.prepareDeltaResult(j[g]);n.setResult(j).exit();return}if(m+y===L){for(j=j||{_t:"a"},g=m;g<B-y;g++){const ke=`_${g}`;j[ke]=[D[g],0,0],n.prepareDeltaResult(j[ke])}n.setResult(j).exit();return}p.hashCache1=void 0,p.hashCache2=void 0;const P=D.slice(m,B-y),W=U.slice(m,L-y),oe=ZT.get(P,W,Ms,p),ie=[];for(j=j||{_t:"a"},g=m;g<B-y;g++)if(oe.indices1.indexOf(g-m)<0){const ke=`_${g}`;j[ke]=[D[g],0,0],n.prepareDeltaResult(j[ke]),ie.push(g)}let me=!0;!((s=n.options)===null||s===void 0)&&s.arrays&&n.options.arrays.detectMove===!1&&(me=!1);let fe=!1;!((d=(c=n.options)===null||c===void 0?void 0:c.arrays)===null||d===void 0)&&d.includeValueOnMove&&(fe=!0);const ze=ie.length;for(g=m;g<L-y;g++){const ke=oe.indices2.indexOf(g-m);if(ke<0){let yt=!1;if(me&&ze>0)for(let qe=0;qe<ze;qe++){T=ie[qe];const gt=T===void 0?void 0:j[`_${T}`];if(T!==void 0&&gt&&Ms(P,W,T-m,g-m,p)){gt.splice(1,2,g,Pr),gt.splice(1,2,g,Pr),fe||(gt[0]=""),R=g,F=new Gr(D[T],U[R]),n.push(F,R),ie.splice(qe,1),yt=!0;break}}yt||(j[g]=[U[g]],n.prepareDeltaResult(j[g]))}else{if(oe.indices1[ke]===void 0)throw new Error(`Invalid indexOnArray2: ${ke}, seq.indices1: ${oe.indices1}`);if(T=oe.indices1[ke]+m,oe.indices2[ke]===void 0)throw new Error(`Invalid indexOnArray2: ${ke}, seq.indices2: ${oe.indices2}`);R=oe.indices2[ke]+m,F=new Gr(D[T],U[R]),n.push(F,R)}}n.setResult(j).exit()};py.filterName="arrays";const ch={numerically(o,n){return o-n},numericallyBy(o){return(n,a)=>n[o]-a[o]}},my=function(n){var a;if(!n.nested)return;const l=n.delta;if(l._t!=="a")return;let s,c;const d=l,p=n.left;let m=[],y=[];const g=[];for(s in d)if(s!=="_t")if(s[0]==="_"){const D=s;if(d[D]!==void 0&&(d[D][2]===0||d[D][2]===Pr))m.push(Number.parseInt(s.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${(a=d[D])===null||a===void 0?void 0:a[2]}`)}else{const D=s;d[D].length===1?y.push({index:Number.parseInt(D,10),value:d[D][0]}):g.push({index:Number.parseInt(D,10),delta:d[D]})}for(m=m.sort(ch.numerically),s=m.length-1;s>=0;s--){if(c=m[s],c===void 0)continue;const D=d[`_${c}`],U=p.splice(c,1)[0];D?.[2]===Pr&&y.push({index:D[1],value:U})}y=y.sort(ch.numericallyBy("index"));const T=y.length;for(s=0;s<T;s++){const D=y[s];D!==void 0&&p.splice(D.index,0,D.value)}const R=g.length;if(R>0)for(s=0;s<R;s++){const D=g[s];if(D===void 0)continue;const U=new Yc(p[D.index],D.delta);n.push(U,D.index)}if(!n.children){n.setResult(p).exit();return}n.exit()};my.filterName="arrays";const hy=function(n){if(!n||!n.children||n.delta._t!=="a")return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;l[p]=d.result}n.setResult(l).exit()};hy.filterName="arraysCollectChildren";const yy=function(n){if(!n.nested){const s=n.delta;if(s[2]===Pr){const c=s;n.newName=`_${c[1]}`,n.setResult([c[0],Number.parseInt(n.childName.substring(1),10),Pr]).exit()}return}const a=n.delta;if(a._t!=="a")return;const l=a;for(const s in l){if(s==="_t")continue;const c=new Qc(l[s]);n.push(c,s)}n.exit()};yy.filterName="arrays";const IT=(o,n,a)=>{if(typeof n=="string"&&n[0]==="_")return Number.parseInt(n.substring(1),10);if(Array.isArray(a)&&a[2]===0)return`_${n}`;let l=+n;for(const s in o){const c=o[s];if(Array.isArray(c))if(c[2]===Pr){const d=Number.parseInt(s.substring(1),10),p=c[1];if(p===+n)return d;d<=l&&p>l?l++:d>=l&&p<l&&l--}else c[2]===0?Number.parseInt(s.substring(1),10)<=l&&l++:c.length===1&&Number.parseInt(s,10)<=l&&l--}return l},gy=o=>{if(!o||!o.children)return;const n=o.delta;if(n._t!=="a")return;const a=n,l=o.children.length,s={_t:"a"};for(let c=0;c<l;c++){const d=o.children[c];if(d===void 0)continue;let p=d.newName;if(typeof p>"u"){if(d.childName===void 0)throw new Error("child.childName is undefined");p=IT(a,d.childName,d.result)}s[p]!==d.result&&(s[p]=d.result)}o.setResult(s).exit()};gy.filterName="arraysCollectChildren";const vy=function(n){n.left instanceof Date?(n.right instanceof Date?n.left.getTime()!==n.right.getTime()?n.setResult([n.left,n.right]):n.setResult(void 0):n.setResult([n.left,n.right]),n.exit()):n.right instanceof Date&&n.setResult([n.left,n.right]).exit()};vy.filterName="dates";const Ty=o=>{if(!o||!o.children)return;const n=o.children.length;let a=o.result;for(let l=0;l<n;l++){const s=o.children[l];if(s!==void 0&&!(typeof s.result>"u")){if(a=a||{},s.childName===void 0)throw new Error("diff child.childName is undefined");a[s.childName]=s.result}}a&&o.leftIsArray&&(a._t="a"),o.setResult(a).exit()};Ty.filterName="collectChildren";const by=o=>{var n;if(o.leftIsArray||o.leftType!=="object")return;const a=o.left,l=o.right,s=(n=o.options)===null||n===void 0?void 0:n.propertyFilter;for(const c in a){if(!Object.prototype.hasOwnProperty.call(a,c)||s&&!s(c,o))continue;const d=new Gr(a[c],l[c]);o.push(d,c)}for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&!(s&&!s(c,o))&&typeof a[c]>"u"){const d=new Gr(void 0,l[c]);o.push(d,c)}if(!o.children||o.children.length===0){o.setResult(void 0).exit();return}o.exit()};by.filterName="objects";const Ry=function(n){if(!n.nested)return;const a=n.delta;if(a._t)return;const l=a;for(const s in l){const c=new Yc(n.left[s],l[s]);n.push(c,s)}n.exit()};Ry.filterName="objects";const Sy=function(n){if(!n||!n.children||n.delta._t)return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;Object.prototype.hasOwnProperty.call(n.left,p)&&d.result===void 0?delete l[p]:l[p]!==d.result&&(l[p]=d.result)}n.setResult(l).exit()};Sy.filterName="collectChildren";const Dy=function(n){if(!n.nested||n.delta._t)return;const l=n.delta;for(const s in l){const c=new Qc(l[s]);n.push(c,s)}n.exit()};Dy.filterName="objects";const $y=o=>{if(!o||!o.children||o.delta._t)return;const a=o.children.length,l={};for(let s=0;s<a;s++){const c=o.children[s];if(c===void 0)continue;const d=c.childName;l[d]!==c.result&&(l[d]=c.result)}o.setResult(l).exit()};$y.filterName="collectChildren";const Ps=2,JT=60;let yc=null;function Ay(o,n){var a;if(!yc){let l;if(!((a=o?.textDiff)===null||a===void 0)&&a.diffMatchPatch)l=new o.textDiff.diffMatchPatch;else{if(!n)return null;const s=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw s.diff_match_patch_not_found=!0,s}yc={diff:(s,c)=>l.patch_toText(l.patch_make(s,c)),patch:(s,c)=>{const d=l.patch_apply(l.patch_fromText(c),s);for(const p of d[1])if(!p){const m=new Error("text patch failed");throw m.textPatchFailed=!0,m}return d[0]}}}return yc}const Cy=function(n){var a,l;if(n.leftType!=="string")return;const s=n.left,c=n.right,d=((l=(a=n.options)===null||a===void 0?void 0:a.textDiff)===null||l===void 0?void 0:l.minLength)||JT;if(s.length<d||c.length<d){n.setResult([s,c]).exit();return}const p=Ay(n.options);if(!p){n.setResult([s,c]).exit();return}const m=p.diff;n.setResult([m(s,c),0,Ps]).exit()};Cy.filterName="texts";const _y=function(n){if(n.nested)return;const a=n.delta;if(a[2]!==Ps)return;const l=a,s=Ay(n.options,!0).patch;n.setResult(s(n.left,l[0])).exit()};_y.filterName="texts";const eb=o=>{var n,a,l;const s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,c=o.split(`
`);for(let d=0;d<c.length;d++){const p=c[d];if(p===void 0)continue;const m=p.slice(0,1);if(m==="@"){const y=s.exec(p);if(y!==null){const g=d;c[g]=`@@ -${y[3]},${y[4]} +${y[1]},${y[2]} @@`}}else if(m==="+"){if(c[d]=`-${(n=c[d])===null||n===void 0?void 0:n.slice(1)}`,((a=c[d-1])===null||a===void 0?void 0:a.slice(0,1))==="+"){const y=c[d];c[d]=c[d-1],c[d-1]=y}}else m==="-"&&(c[d]=`+${(l=c[d])===null||l===void 0?void 0:l.slice(1)}`)}return c.join(`
`)},wy=function(n){if(n.nested)return;const a=n.delta;if(a[2]!==Ps)return;const l=a;n.setResult([eb(l[0]),0,Ps]).exit()};wy.filterName="texts";const Ny=function(n){if(n.left===n.right){n.setResult(void 0).exit();return}if(typeof n.left>"u"){if(typeof n.right=="function")throw new Error("functions are not supported");n.setResult([n.right]).exit();return}if(typeof n.right>"u"){n.setResult([n.left,0,0]).exit();return}if(typeof n.left=="function"||typeof n.right=="function")throw new Error("functions are not supported");if(n.leftType=n.left===null?"null":typeof n.left,n.rightType=n.right===null?"null":typeof n.right,n.leftType!==n.rightType){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="boolean"||n.leftType==="number"){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="object"&&(n.leftIsArray=Array.isArray(n.left)),n.rightType==="object"&&(n.rightIsArray=Array.isArray(n.right)),n.leftIsArray!==n.rightIsArray){n.setResult([n.left,n.right]).exit();return}n.left instanceof RegExp&&(n.right instanceof RegExp?n.setResult([n.left.toString(),n.right.toString()]).exit():n.setResult([n.left,n.right]).exit())};Ny.filterName="trivial";const ky=function(n){if(typeof n.delta>"u"){n.setResult(n.left).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const a=n.delta;if(a.length===1){n.setResult(a[0]).exit();return}if(a.length===2){if(n.left instanceof RegExp){const l=/^\/(.*)\/([gimyu]+)$/.exec(a[1]);if(l?.[1]){n.setResult(new RegExp(l[1],l[2])).exit();return}}n.setResult(a[1]).exit();return}a.length===3&&a[2]===0&&n.setResult(void 0).exit()};ky.filterName="trivial";const xy=function(n){if(typeof n.delta>"u"){n.setResult(n.delta).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const a=n.delta;if(a.length===1){n.setResult([a[0],0,0]).exit();return}if(a.length===2){n.setResult([a[1],a[0]]).exit();return}a.length===3&&a[2]===0&&n.setResult([a[0]]).exit()};xy.filterName="trivial";class tb{constructor(n){this.processor=new PT(n),this.processor.pipe(new hc("diff").append(Ty,Ny,vy,Cy,by,py).shouldHaveResult()),this.processor.pipe(new hc("patch").append(Sy,hy,ky,_y,Ry,my).shouldHaveResult()),this.processor.pipe(new hc("reverse").append($y,gy,xy,wy,Dy,yy).shouldHaveResult())}options(n){return this.processor.options(n)}diff(n,a){return this.processor.process(new Gr(n,a))}patch(n,a){return this.processor.process(new Yc(n,a))}reverse(n){return this.processor.process(new Qc(n))}unpatch(n,a){return this.patch(n,this.reverse(a))}clone(n){return Fs(n)}}function Vc(o){return new tb(o)}class nb{format(n,a){const l={};this.prepareContext(l);const s=l;return this.recurse(s,n,a),this.finalize(s)}prepareContext(n){n.buffer=[],n.out=function(...a){if(!this.buffer)throw new Error("context buffer is not initialized");this.buffer.push(...a)}}typeFormattterNotFound(n,a){throw new Error(`cannot format delta type: ${a}`)}typeFormattterErrorFormatter(n,a,l,s,c,d,p){}finalize({buffer:n}){return Array.isArray(n)?n.join(""):""}recurse(n,a,l,s,c,d,p){const y=a&&d?d.value:l;if(typeof a>"u"&&typeof s>"u")return;const g=this.getDeltaType(a,d),T=g==="node"?a._t==="a"?"array":"object":"";typeof s<"u"?this.nodeBegin(n,s,c,g,T,p??!1):this.rootBegin(n,g,T);let R;try{R=g!=="unknown"?this[`format_${g}`]:this.typeFormattterNotFound(n,g),R.call(this,n,a,y,s,c,d)}catch(D){this.typeFormattterErrorFormatter(n,D,a,y,s,c,d),typeof console<"u"&&console.error&&console.error(D.stack)}typeof s<"u"?this.nodeEnd(n,s,c,g,T,p??!1):this.rootEnd(n,g,T)}formatDeltaChildren(n,a,l){this.forEachDeltaKey(a,l,(s,c,d,p)=>{this.recurse(n,a[s],l?l[c]:void 0,s,c,d,p)})}forEachDeltaKey(n,a,l){const s=[];if(!(n._t==="a")){const L=Object.keys(n);typeof a=="object"&&a!==null&&s.push(...Object.keys(a));for(const F of L)s.indexOf(F)>=0||s.push(F);for(let F=0;F<s.length;F++){const j=s[F];if(j===void 0)continue;const P=F===s.length-1;l(j,j,void 0,P)}return}const d={};for(const L in n)if(Object.prototype.hasOwnProperty.call(n,L)){const F=n[L];if(Array.isArray(F)&&F[2]===3){const j=F;d[j[1]]=Number.parseInt(L.substring(1))}}const p=n;let m=0,y=0;const g=Array.isArray(a)?a:void 0,T=g?g.length:Object.keys(p).reduce((L,F)=>{if(F==="_t")return L;if(F.substring(0,1)==="_"){const ie=p[F],me=Number.parseInt(F.substring(1)),fe=Array.isArray(ie)&&ie.length>=3&&ie[2]===3?ie[1]:void 0,ze=Math.max(me,fe??0);return ze>L?ze:L}const P=Number.parseInt(F),W=d[P],oe=Math.max(W??0,P??0);return oe>L?oe:L},0)+1;let R=T,D;const U=(...L)=>{D&&l(...D),D=L},B=()=>{D&&l(D[0],D[1],D[2],!0)};for(;m<T||y<R||`${y}`in p;){let L=!1;const F=`_${m}`,j=`${y}`,P=y in d?d[y]:void 0;if(F in p){L=!0;const W=p[F];U(F,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),Array.isArray(W)?W[2]===0?(R--,m++):(W[2],m++):m++}if(j in p){L=!0;const W=p[j],oe=Array.isArray(W)&&W.length===1;U(j,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),oe?(R++,y++):(P===void 0&&m++,y++)}L||((g&&P===void 0||this.includeMoveDestinations!==!1)&&U(j,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),P!==void 0||m++,y++)}B()}getDeltaType(n,a){if(typeof n>"u")return typeof a<"u"?"movedestination":"unchanged";if(Array.isArray(n)){if(n.length===1)return"added";if(n.length===2)return"modified";if(n.length===3&&n[2]===0)return"deleted";if(n.length===3&&n[2]===2)return"textdiff";if(n.length===3&&n[2]===3)return"moved"}else if(typeof n=="object")return"node";return"unknown"}parseTextDiff(n){var a;const l=[],s=n.split(`
@@ `);for(const c of s){const d={pieces:[]},p=(a=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(c))===null||a===void 0?void 0:a.slice(1);if(!p)throw new Error("invalid text diff format");BT(p),d.location={line:p[0],chr:p[1]};const m=c.split(`
`).slice(1);for(let y=0,g=m.length;y<g;y++){const T=m[y];if(T===void 0||!T.length)continue;const R={type:"context"};T.substring(0,1)==="+"?R.type="added":T.substring(0,1)==="-"&&(R.type="deleted"),R.text=T.slice(1),d.pieces.push(R)}l.push(d)}return l}}class rb extends nb{typeFormattterErrorFormatter(n,a){const l=typeof a=="object"&&a!==null&&"message"in a&&typeof a.message=="string"?a.message:String(a);n.out(`<pre class="jsondiffpatch-error">${Yi(l)}</pre>`)}formatValue(n,a){const l=typeof a>"u"?"undefined":Yi(JSON.stringify(a,null,2));n.out(`<pre>${l}</pre>`)}formatTextDiffString(n,a){const l=this.parseTextDiff(a);n.out('<ul class="jsondiffpatch-textdiff">');for(let s=0,c=l.length;s<c;s++){const d=l[s];if(d===void 0)return;n.out(`<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">${d.location.line}</span><span class="jsondiffpatch-textdiff-char">${d.location.chr}</span></div><div class="jsondiffpatch-textdiff-line">`);const p=d.pieces;for(let m=0,y=p.length;m<y;m++){const g=p[m];if(g===void 0)return;n.out(`<span class="jsondiffpatch-textdiff-${g.type}">${Yi(decodeURI(g.text))}</span>`)}n.out("</div></li>")}n.out("</ul>")}rootBegin(n,a,l){const s=`jsondiffpatch-${a}${l?` jsondiffpatch-child-node-type-${l}`:""}`;n.out(`<div class="jsondiffpatch-delta ${s}">`)}rootEnd(n){n.out(`</div>${n.hasArrows?`<script type="text/javascript">setTimeout(${ab.toString()},10);<\/script>`:""}`)}nodeBegin(n,a,l,s,c){const d=`jsondiffpatch-${s}${c?` jsondiffpatch-child-node-type-${c}`:""}`,p=typeof l=="number"&&a.substring(0,1)==="_"?a.substring(1):a;n.out(`<li class="${d}" data-key="${Yi(a)}"><div class="jsondiffpatch-property-name">${Yi(p)}</div>`)}nodeEnd(n){n.out("</li>")}format_unchanged(n,a,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_movedestination(n,a,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_node(n,a,l){const s=a._t==="a"?"array":"object";n.out(`<ul class="jsondiffpatch-node jsondiffpatch-node-type-${s}">`),this.formatDeltaChildren(n,a,l),n.out("</ul>")}format_added(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out("</div>")}format_modified(n,a){n.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(n,a[0]),n.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(n,a[1]),n.out("</div>")}format_deleted(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out("</div>")}format_moved(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out(`</div><div class="jsondiffpatch-moved-destination">${a[1]}</div>`),n.out(`<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">
          <svg width="30" height="60" style="position: absolute; display: none;">
          <defs>
              <marker id="markerArrow" markerWidth="8" markerHeight="8"
                 refx="2" refy="4" stroke="#88f"
                     orient="auto" markerUnits="userSpaceOnUse">
                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />
              </marker>
          </defs>
          <path d="M30,0 Q-10,25 26,50"
            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"
          ></path>
          </svg>
      </div>`),n.hasArrows=!0}format_textdiff(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(n,a[0]),n.out("</div>")}}function Yi(o){if(typeof o=="number")return o;let n=String(o);const a=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]];for(const l of a)n=n.replace(l[0],l[1]);return n}const ab=function(n){const a=n||document,l=({textContent:d,innerText:p})=>d||p,s=(d,p,m)=>{const y=d.querySelectorAll(p);for(let g=0,T=y.length;g<T;g++)m(y[g])},c=({children:d},p)=>{for(let m=0,y=d.length;m<y;m++){const g=d[m];g&&p(g,m)}};s(a,".jsondiffpatch-arrow",({parentNode:d,children:p,style:m})=>{const y=d,g=p[0],T=g.children[1];g.style.display="none";const R=y.querySelector(".jsondiffpatch-moved-destination");if(!(R instanceof HTMLElement))return;const D=l(R),U=y.parentNode;if(!U)return;let B;if(c(U,L=>{L.getAttribute("data-key")===D&&(B=L)}),!!B)try{const L=B.offsetTop-y.offsetTop;g.setAttribute("height",`${Math.abs(L)+6}`),m.top=`${-8+(L>0?0:L)}px`;const F=L>0?`M30,0 Q-10,${Math.round(L/2)} 26,${L-4}`:`M30,${-L} Q-10,${Math.round(-L/2)} 26,4`;T.setAttribute("d",F),g.style.display=""}catch(L){console.debug(`[jsondiffpatch] error adjusting arrows: ${L}`)}})};let gc;function Xc(o,n){return gc||(gc=new rb),gc.format(o,n)}const Un=`grammar ClassModel

entry ClassModel:
    _NL? Localization* _NL?
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    _NL? Localization* _NL?
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    _NL? _NL? '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    _NL? Localization* _NL?
    'attribute' name=ID dataType=[DataType:ID];

Reference:
    _NL? Localization* _NL?
    'reference' name=ID target=[Class:ID];

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    _NL? Localization* _NL?
    'string' name=ID ('{'
        (_NL? 'length' length=INT)?
        (_NL? 'minLength' minLength=INT)?
        (_NL? 'maxLength' maxLength=INT)?
        (_NL? 'pattern' pattern=STRING)?
    _NL? '}')?;

NumericType:
    _NL? Localization* _NL?
    'numeric' name=ID ('{'
        (_NL? 'size' size=INT)?
        (_NL? 'totalDigits' totalDigits=INT)?
        (_NL? 'fractionDigits' fractionDigits=INT)?
        (_NL? 'minInclusive' minInclusive=INT)?
        (_NL? 'minExclusive' minExclusive=INT)?
        (_NL? 'maxInclusive' maxInclusive=INT)?
        (_NL? 'maxExclusive' maxExclusive=INT)?
        (_NL? 'measurementUnit' pattern=STRING)?
    _NL? '}')?;

BooleanType:
    _NL? Localization* _NL?
    'boolean' name=ID ('{' _NL? '}')?;

TimeType:
    _NL? Localization* _NL?
    'time' name=ID ('{'
        (_NL? 'instantUnits' instantUnits+=TimeUnit+)?
        (_NL? 'instantFractionDigits' instantFractionDigits=INT)?
        (_NL? 'durationUnits' durationUnits+=TimeUnit+)?
        (_NL? 'durationFractionDigits' durationFractionDigits=INT)?
        (_NL? 'recurrence' recurrence=TimeUnit)?
    _NL? '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    _NL? Localization* _NL?
    'uuid' name=ID ('{' _NL? '}')?;

EnumeratedType:
    _NL? Localization* _NL?
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    _NL? _NL? '}')?;

EnumeratedTypeLiteral:
    _NL? Localization* _NL?
    name=ID;

fragment Localization:
    _NL? '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    _NL? '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

_NL returns string: '__NL__';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal INT: /\\d+/;
terminal STRING: /'(\\\\.|[^'])*'/;

hidden terminal WS: /\\s+/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
`,Xs=`classModel model1

@name('ru-RU', 'тест')
@description('ru-RU', 'описание')
@name('fr-FR', 'french')
class Cls extends Qwe, Zxc, Rty {
  @name('ru-RU', 'атрибут')
  attribute a1 String100
  @name('ru-RU', 'ссылка')
  reference r1 Cls
  attribute a2 Int
}

abstract class Qwe {
}

@name('ru-RU', 'интерфейс')
interface Zxc {
}

interface Rty {
}

@name('ru-RU', 'строка')
string String100 {
  length 100
  pattern 'q\\\\we\\'c\\n"c'
}

@name('ru-RU', 'целое')
numeric Int {
  fractionDigits 0
}

time Date {
  instantUnits year month day
}

enumerated Enum {
  literal1
  @name('ru-RU', 'литерал2')
  literal2
}
`;function Zs(o,n){const a=Se.useRef(void 0);return Se.useCallback((...l)=>(clearTimeout(a.current),new Promise(s=>{a.current=setTimeout(()=>s(o(...l)),n)})),[n])}const Zc=o=>{const{style:n,className:a,wrapperConfig:l,onTextChanged:s,onLoad:c,onError:d}=o,p=Se.useRef(new G0),m=Se.useRef(null),y=Se.useRef(s);return y.current=s,Se.useEffect(()=>{(async()=>{if(m.current)try{l.htmlContainer=m.current,(p.current.isInitializing()||p.current.isStarting()||p.current.isDisposing())&&await Promise.all([p.current.getInitializingAwait(),p.current.getStartingAwait(),p.current.getDisposingAwait()]),await p.current.init(l),p.current.registerTextChangedCallback(g=>{y.current!==void 0&&y.current(g)}),await p.current.start(),c?.(p.current)}catch(g){if(d)d(g);else throw g}else throw new Error("No htmlContainer found! Aborting...")})()},[l]),Se.useEffect(()=>{const g=async()=>{try{await p.current.dispose()}catch(T){console.error(`Unexpected error occurred during disposal of the language client: ${T}`)}};return()=>{(async()=>await g())()}},[]),H0.createElement("div",{ref:m,style:n,className:a})};function ib(o){const n=new Set,a=Vh(o,!1);for(const l of ht(a).filter(se).flatMap(s=>hn(s).filter(rn)))n.add(l.value);return Array.from(n).sort()}function Ey(o,n){var a;const l={name:n.id,scopeName:`source.${n.id}`,fileTypes:(a=n.fileExtensions)!==null&&a!==void 0?a:[],patterns:lb(o,n),repository:sb(o,n)};return JSON.stringify(l,null,2)+`
`}function lb(o,n){const a=[];return a.push({include:"#comments"}),a.push(ob(o,n)),a.push(...cb(o,n)),a}function sb(o,n){const a={},l=[];let s;for(const c of o.rules)if(rt(c)&&K0(c)){const d=Xh(gl(c));for(const p of d)p.end?l.push({name:`comment.block.${n.id}`,begin:p.start,beginCaptures:{0:{name:`punctuation.definition.comment.${n.id}`}},end:p.end,endCaptures:{0:{name:`punctuation.definition.comment.${n.id}`}}}):l.push({begin:p.start,beginCaptures:{1:{name:`punctuation.whitespace.comment.leading.${n.id}`}},end:"(?=$)",name:`comment.line.${n.id}`})}else rt(c)&&c.name.toLowerCase()==="string"&&(s={name:`constant.character.escape.${n.id}`,match:"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u\\{[0-9A-Fa-f]+\\}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"});return l.length>0&&(a.comments={patterns:l}),s&&(a["string-character-escape"]=s),a}function ob(o,n){const a=/[A-Za-z]/,l=ib(o).filter(c=>a.test(c)),s=ub(l);return{name:`keyword.control.${n.id}`,match:`${n.caseInsensitive?"(?i)":""}${s.join("|")}`}}function ub(o){const n={letter:[],leftSpecial:[],rightSpecial:[],special:[]};o.forEach(l=>{const s=Sc(l);/\w/.test(l[0])?/\w/.test(l[l.length-1])?n.letter.push(s):n.rightSpecial.push(s):/\w/.test(l[l.length-1])?n.leftSpecial.push(s):n.special.push(s)});const a=[];return n.letter.length&&a.push(`\\b(${n.letter.join("|")})\\b`),n.leftSpecial.length&&a.push(`\\B(${n.leftSpecial.join("|")})\\b`),n.rightSpecial.length&&a.push(`\\b(${n.rightSpecial.join("|")})\\B`),n.special.length&&a.push(`\\B(${n.special.join("|")})\\B`),a}function cb(o,n){const l=ht(o.rules).filter(rt).find(c=>c.name.toLowerCase()==="string"),s=[];if(l){const c=Xh(gl(l));for(const d of c)d.end&&s.push({name:`string.quoted.${fb(d.start)}.${n.id}`,begin:d.start,end:d.end,patterns:[{include:"#string-character-escape"}]})}return s}function fb(o){return o==="'"?"single":o==='"'?"double":o==="`"?"backtick":"delimiter"}let Os;const db=()=>Os??(Os=B0(`{"$type":"Grammar","isDeclared":true,"name":"LangiumGrammar","rules":[{"$type":"ParserRule","entry":true,"name":"Grammar","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"isDeclared","operator":"?=","terminal":{"$type":"Keyword","value":"grammar"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"with"},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Assignment","feature":"imports","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"rules","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"interfaces","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Interface","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"interface"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"extends"},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"*"},{"$type":"Keyword","value":"}"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeAttribute","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"isOptional","operator":"?=","terminal":{"$type":"Keyword","value":"?"},"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"defaultValue","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ValueLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StringLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@65"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"BooleanLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"true","operator":"?=","terminal":{"$type":"Keyword","value":"true"}},{"$type":"Keyword","value":"false"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayLiteral","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeDefinition","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnionType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnionType"},"feature":"types","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ArrayType"},"feature":"elementType","operator":"="},{"$type":"Keyword","value":"["},{"$type":"Keyword","value":"]"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReferenceType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ReferenceType"}},{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"referenceType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SimpleType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Keyword","value":")"}]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"SimpleType"}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"typeRef","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"primitiveType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"stringType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PrimitiveType","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"string"},{"$type":"Keyword","value":"number"},{"$type":"Keyword","value":"boolean"},{"$type":"Keyword","value":"Date"},{"$type":"Keyword","value":"bigint"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Type","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"type"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractRule","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GrammarImport","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"import"},{"$type":"Assignment","feature":"path","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParserRule","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"entry","operator":"?=","terminal":{"$type":"Keyword","value":"entry"}},{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"wildcard","operator":"?=","terminal":{"$type":"Keyword","value":"*"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"returnType","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"dataType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]}]},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":false},"calledByName":false}]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"InferredType","parameters":[{"$type":"Parameter","name":"imperative"}],"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","guardCondition":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}},"elements":[{"$type":"Keyword","value":"infer"}]},{"$type":"Group","guardCondition":{"$type":"Negation","value":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}}},"elements":[{"$type":"Keyword","value":"infers"}]}]},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RuleNameAndParams","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Parameter","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Alternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ConditionalBranch","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"}},{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"guardCondition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}},{"$type":"Keyword","value":">"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnorderedGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnorderedGroup"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTokenWithCardinality","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@41"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Action","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Action"}},{"$type":"Keyword","value":"{"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":true},"calledByName":false}]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"."},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"+="}]}},{"$type":"Keyword","value":"current"}],"cardinality":"?"},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@47"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@39"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@40"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@48"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EndOfFile","definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"EndOfFile"}},{"$type":"Keyword","value":"EOF"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Keyword","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RuleCall","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NamedArgument","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"calledByName","operator":"?=","terminal":{"$type":"Keyword","value":"="}}],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Disjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Disjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Conjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Conjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Negation","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Negation"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Atom","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@37"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedCondition","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParameterReference","definition":{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedKeyword","inferredType":{"$type":"InferredType","name":"Keyword"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedRuleCall","inferredType":{"$type":"InferredType","name":"RuleCall"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Assignment","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Assignment"}},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}],"cardinality":"?"},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"+="},{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"?="}]}},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@43"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@45"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedAssignableElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@44"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReference","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CrossReference"}},{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"deprecatedSyntax","operator":"?=","terminal":{"$type":"Keyword","value":"|"}},{"$type":"Keyword","value":":"}]},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@46"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReferenceableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedGroup","inferredType":{"$type":"InferredType","name":"Group"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReturnType","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRule","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"hidden","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"},"cardinality":"?"},{"$type":"Keyword","value":"terminal"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@49"},"arguments":[]}}],"cardinality":"?"}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalAlternatives"},"feature":"elements","operator":"+="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalGroup"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalTokenElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@61"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@56"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@55"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@57"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedTerminalElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"lookahead","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?="},{"$type":"Keyword","value":"?!"},{"$type":"Keyword","value":"?<="},{"$type":"Keyword","value":"?<!"}]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRuleCall","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalRuleCall"}},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@50"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NegatedToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"NegatedToken"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UntilToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UntilToken"}},{"$type":"Keyword","value":"->"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RegexToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"RegexToken"}},{"$type":"Assignment","feature":"regex","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@66"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Wildcard","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Wildcard"}},{"$type":"Keyword","value":"."}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CharacterRange","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CharacterRange"}},{"$type":"Assignment","feature":"left","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":".."},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"FeatureName","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"current"},{"$type":"Keyword","value":"entry"},{"$type":"Keyword","value":"extends"},{"$type":"Keyword","value":"false"},{"$type":"Keyword","value":"fragment"},{"$type":"Keyword","value":"grammar"},{"$type":"Keyword","value":"hidden"},{"$type":"Keyword","value":"import"},{"$type":"Keyword","value":"interface"},{"$type":"Keyword","value":"returns"},{"$type":"Keyword","value":"terminal"},{"$type":"Keyword","value":"true"},{"$type":"Keyword","value":"type"},{"$type":"Keyword","value":"infer"},{"$type":"Keyword","value":"infers"},{"$type":"Keyword","value":"with"},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/\\\\^?[_a-zA-Z][\\\\w_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"(\\\\\\\\.|[^\\"\\\\\\\\])*\\"|'(\\\\\\\\.|[^'\\\\\\\\])*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/NaN|-?((\\\\d*\\\\.\\\\d+|\\\\d+)([Ee][+-]?\\\\d+)?|Infinity)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"RegexLiteral","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\/(?![*+?])(?:[^\\\\r\\\\n\\\\[/\\\\\\\\]|\\\\\\\\.|\\\\[(?:[^\\\\r\\\\n\\\\]\\\\\\\\]|\\\\\\\\.)*\\\\])+\\\\/[a-z]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/\\\\s+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\//"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SL_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\/[^\\\\n\\\\r]*/"},"fragment":false}],"types":[{"$type":"Type","name":"AbstractType","type":{"$type":"UnionType","types":[{"$type":"SimpleType","typeRef":{"$ref":"#/rules@1"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@17"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@18"}}]}}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"interfaces":[],"usedGrammars":[]}`)),pb={languageId:"langium",fileExtensions:[".langium"],caseInsensitive:!1,mode:"production"},mb={maxLookahead:3},hb={AstReflection:()=>new F0},yb={Grammar:()=>db(),LanguageMetaData:()=>pb,parser:{ParserConfig:()=>mb}};var Hr={},Ur={},En={},fh;function My(){if(fh)return En;fh=1,Object.defineProperty(En,"__esModule",{value:!0}),En.SemanticTokensBuilder=En.SemanticTokensDiff=En.SemanticTokensFeature=void 0;const o=Qe(),n=s=>class extends s{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(o.SemanticTokensRefreshRequest.type),on:c=>{const d=o.SemanticTokensRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onDelta:c=>{const d=o.SemanticTokensDeltaRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onRange:c=>{const d=o.SemanticTokensRangeRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))}}}};En.SemanticTokensFeature=n;class a{constructor(c,d){this.originalSequence=c,this.modifiedSequence=d}computeDiff(){const c=this.originalSequence.length,d=this.modifiedSequence.length;let p=0;for(;p<d&&p<c&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<d&&p<c){let m=c-1,y=d-1;for(;m>=p&&y>=p&&this.originalSequence[m]===this.modifiedSequence[y];)m--,y--;(m<p||y<p)&&(m++,y++);const g=m-p+1,T=this.modifiedSequence.slice(p,y+1);return T.length===1&&T[0]===this.originalSequence[m]?[{start:p,deleteCount:g-1}]:[{start:p,deleteCount:g,data:T}]}else return p<d?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<c?[{start:p,deleteCount:c-p}]:[]}}En.SemanticTokensDiff=a;class l{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(c,d,p,m,y){let g=c,T=d;this._dataLen>0&&(g-=this._prevLine,g===0&&(T-=this._prevChar)),this._data[this._dataLen++]=g,this._data[this._dataLen++]=T,this._data[this._dataLen++]=p,this._data[this._dataLen++]=m,this._data[this._dataLen++]=y,this._prevLine=c,this._prevChar=d}get id(){return this._id.toString()}previousResult(c){this.id===c&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new a(this._prevData,this._data).computeDiff()}:this.build()}}return En.SemanticTokensBuilder=l,En}var Qi={},dh;function gb(){if(dh)return Qi;dh=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.InlineCompletionFeature=void 0;const o=Qe(),n=a=>class extends a{get inlineCompletion(){return{on:l=>this.connection.onRequest(o.InlineCompletionRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return Qi.InlineCompletionFeature=n,Qi}var Vi={},ph;function Oy(){if(ph)return Vi;ph=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.TextDocuments=void 0;const o=Qe();class n{constructor(l){this._configuration=l,this._syncedDocuments=new Map,this._onDidChangeContent=new o.Emitter,this._onDidOpen=new o.Emitter,this._onDidClose=new o.Emitter,this._onDidSave=new o.Emitter,this._onWillSave=new o.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(l){this._willSaveWaitUntil=l}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(l){return this._syncedDocuments.get(l)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(l){l.__textDocumentSync=o.TextDocumentSyncKind.Incremental;const s=[];return s.push(l.onDidOpenTextDocument(c=>{const d=c.textDocument,p=this._configuration.create(d.uri,d.languageId,d.version,d.text);this._syncedDocuments.set(d.uri,p);const m=Object.freeze({document:p});this._onDidOpen.fire(m),this._onDidChangeContent.fire(m)})),s.push(l.onDidChangeTextDocument(c=>{const d=c.textDocument,p=c.contentChanges;if(p.length===0)return;const{version:m}=d;if(m==null)throw new Error(`Received document change event for ${d.uri} without valid version identifier`);let y=this._syncedDocuments.get(d.uri);y!==void 0&&(y=this._configuration.update(y,p,m),this._syncedDocuments.set(d.uri,y),this._onDidChangeContent.fire(Object.freeze({document:y})))})),s.push(l.onDidCloseTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&(this._syncedDocuments.delete(c.textDocument.uri),this._onDidClose.fire(Object.freeze({document:d})))})),s.push(l.onWillSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onWillSave.fire(Object.freeze({document:d,reason:c.reason}))})),s.push(l.onWillSaveTextDocumentWaitUntil((c,d)=>{let p=this._syncedDocuments.get(c.textDocument.uri);return p!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:c.reason}),d):[]})),s.push(l.onDidSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onDidSave.fire(Object.freeze({document:d}))})),o.Disposable.create(()=>{s.forEach(c=>c.dispose())})}}return Vi.TextDocuments=n,Vi}var qr={},mh;function zy(){if(mh)return qr;mh=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.NotebookDocuments=qr.NotebookSyncFeature=void 0;const o=Qe(),n=Oy(),a=c=>class extends c{get synchronization(){return{onDidOpenNotebookDocument:d=>this.connection.onNotification(o.DidOpenNotebookDocumentNotification.type,p=>{d(p)}),onDidChangeNotebookDocument:d=>this.connection.onNotification(o.DidChangeNotebookDocumentNotification.type,p=>{d(p)}),onDidSaveNotebookDocument:d=>this.connection.onNotification(o.DidSaveNotebookDocumentNotification.type,p=>{d(p)}),onDidCloseNotebookDocument:d=>this.connection.onNotification(o.DidCloseNotebookDocumentNotification.type,p=>{d(p)})}}};qr.NotebookSyncFeature=a;class l{onDidOpenTextDocument(d){return this.openHandler=d,o.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(d){this.openHandler&&this.openHandler(d)}onDidChangeTextDocument(d){return this.changeHandler=d,o.Disposable.create(()=>{this.changeHandler=d})}changeTextDocument(d){this.changeHandler&&this.changeHandler(d)}onDidCloseTextDocument(d){return this.closeHandler=d,o.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(d){this.closeHandler&&this.closeHandler(d)}onWillSaveTextDocument(){return l.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return l.NULL_DISPOSE}onDidSaveTextDocument(){return l.NULL_DISPOSE}}l.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class s{constructor(d){d instanceof n.TextDocuments?this._cellTextDocuments=d:this._cellTextDocuments=new n.TextDocuments(d),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new o.Emitter,this._onDidChange=new o.Emitter,this._onDidSave=new o.Emitter,this._onDidClose=new o.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(d){return this._cellTextDocuments.get(d.document)}getNotebookDocument(d){return this.notebookDocuments.get(d)}getNotebookCell(d){const p=this.notebookCellMap.get(d);return p&&p[0]}findNotebookDocumentForCell(d){const p=typeof d=="string"?d:d.document,m=this.notebookCellMap.get(p);return m&&m[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(d){const p=new l,m=[];return m.push(this.cellTextDocuments.listen(p)),m.push(d.notebooks.synchronization.onDidOpenNotebookDocument(y=>{this.notebookDocuments.set(y.notebookDocument.uri,y.notebookDocument);for(const g of y.cellTextDocuments)p.openTextDocument({textDocument:g});this.updateCellMap(y.notebookDocument),this._onDidOpen.fire(y.notebookDocument)})),m.push(d.notebooks.synchronization.onDidChangeNotebookDocument(y=>{const g=this.notebookDocuments.get(y.notebookDocument.uri);if(g===void 0)return;g.version=y.notebookDocument.version;const T=g.metadata;let R=!1;const D=y.change;D.metadata!==void 0&&(R=!0,g.metadata=D.metadata);const U=[],B=[],L=[],F=[];if(D.cells!==void 0){const ie=D.cells;if(ie.structure!==void 0){const me=ie.structure.array;if(g.cells.splice(me.start,me.deleteCount,...me.cells!==void 0?me.cells:[]),ie.structure.didOpen!==void 0)for(const fe of ie.structure.didOpen)p.openTextDocument({textDocument:fe}),U.push(fe.uri);if(ie.structure.didClose)for(const fe of ie.structure.didClose)p.closeTextDocument({textDocument:fe}),B.push(fe.uri)}if(ie.data!==void 0){const me=new Map(ie.data.map(fe=>[fe.document,fe]));for(let fe=0;fe<=g.cells.length;fe++){const ze=me.get(g.cells[fe].document);if(ze!==void 0){const ke=g.cells.splice(fe,1,ze);if(L.push({old:ke[0],new:ze}),me.delete(ze.document),me.size===0)break}}}if(ie.textContent!==void 0)for(const me of ie.textContent)p.changeTextDocument({textDocument:me.document,contentChanges:me.changes}),F.push(me.document.uri)}this.updateCellMap(g);const j={notebookDocument:g};R&&(j.metadata={old:T,new:g.metadata});const P=[];for(const ie of U)P.push(this.getNotebookCell(ie));const W=[];for(const ie of B)W.push(this.getNotebookCell(ie));const oe=[];for(const ie of F)oe.push(this.getNotebookCell(ie));(P.length>0||W.length>0||L.length>0||oe.length>0)&&(j.cells={added:P,removed:W,changed:{data:L,textContent:oe}}),(j.metadata!==void 0||j.cells!==void 0)&&this._onDidChange.fire(j)})),m.push(d.notebooks.synchronization.onDidSaveNotebookDocument(y=>{const g=this.notebookDocuments.get(y.notebookDocument.uri);g!==void 0&&this._onDidSave.fire(g)})),m.push(d.notebooks.synchronization.onDidCloseNotebookDocument(y=>{const g=this.notebookDocuments.get(y.notebookDocument.uri);if(g!==void 0){this._onDidClose.fire(g);for(const T of y.cellTextDocuments)p.closeTextDocument({textDocument:T});this.notebookDocuments.delete(y.notebookDocument.uri);for(const T of g.cells)this.notebookCellMap.delete(T.document)}})),o.Disposable.create(()=>{m.forEach(y=>y.dispose())})}updateCellMap(d){for(const p of d.cells)this.notebookCellMap.set(p.document,[p,d])}}return qr.NotebookDocuments=s,qr}var ge={},Ke={},hh;function Hy(){if(hh)return Ke;hh=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.thenable=Ke.typedArray=Ke.stringArray=Ke.array=Ke.func=Ke.error=Ke.number=Ke.string=Ke.boolean=void 0;function o(y){return y===!0||y===!1}Ke.boolean=o;function n(y){return typeof y=="string"||y instanceof String}Ke.string=n;function a(y){return typeof y=="number"||y instanceof Number}Ke.number=a;function l(y){return y instanceof Error}Ke.error=l;function s(y){return typeof y=="function"}Ke.func=s;function c(y){return Array.isArray(y)}Ke.array=c;function d(y){return c(y)&&y.every(g=>n(g))}Ke.stringArray=d;function p(y,g){return Array.isArray(y)&&y.every(g)}Ke.typedArray=p;function m(y){return y&&s(y.then)}return Ke.thenable=m,Ke}var Mt={},yh;function Uy(){if(yh)return Mt;yh=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.generateUuid=Mt.parse=Mt.isUUID=Mt.v4=Mt.empty=void 0;class o{constructor(m){this._value=m}asHex(){return this._value}equals(m){return this.asHex()===m.asHex()}}class n extends o{static _oneOf(m){return m[Math.floor(m.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}}n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],Mt.empty=new o("00000000-0000-0000-0000-000000000000");function a(){return new n}Mt.v4=a;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(p){return l.test(p)}Mt.isUUID=s;function c(p){if(!s(p))throw new Error("invalid uuid");return new o(p)}Mt.parse=c;function d(){return a().asHex()}return Mt.generateUuid=d,Mt}var Mn={},gh;function vb(){if(gh)return Mn;gh=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.attachPartialResult=Mn.ProgressFeature=Mn.attachWorkDone=void 0;const o=Qe(),n=Uy();class a{constructor(R,D){this._connection=R,this._token=D,a.Instances.set(this._token,this)}begin(R,D,U,B){let L={kind:"begin",title:R,percentage:D,message:U,cancellable:B};this._connection.sendProgress(o.WorkDoneProgress.type,this._token,L)}report(R,D){let U={kind:"report"};typeof R=="number"?(U.percentage=R,D!==void 0&&(U.message=D)):U.message=R,this._connection.sendProgress(o.WorkDoneProgress.type,this._token,U)}done(){a.Instances.delete(this._token),this._connection.sendProgress(o.WorkDoneProgress.type,this._token,{kind:"end"})}}a.Instances=new Map;class l extends a{constructor(R,D){super(R,D),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class s{constructor(){}begin(){}report(){}done(){}}class c extends s{constructor(){super(),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function d(T,R){if(R===void 0||R.workDoneToken===void 0)return new s;const D=R.workDoneToken;return delete R.workDoneToken,new a(T,D)}Mn.attachWorkDone=d;const p=T=>class extends T{constructor(){super(),this._progressSupported=!1}initialize(R){super.initialize(R),R?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(o.WorkDoneProgressCancelNotification.type,D=>{let U=a.Instances.get(D.token);(U instanceof l||U instanceof c)&&U.cancel()}))}attachWorkDoneProgress(R){return R===void 0?new s:new a(this.connection,R)}createWorkDoneProgress(){if(this._progressSupported){const R=(0,n.generateUuid)();return this.connection.sendRequest(o.WorkDoneProgressCreateRequest.type,{token:R}).then(()=>new l(this.connection,R))}else return Promise.resolve(new c)}};Mn.ProgressFeature=p;var m;(function(T){T.type=new o.ProgressType})(m||(m={}));class y{constructor(R,D){this._connection=R,this._token=D}report(R){this._connection.sendProgress(m.type,this._token,R)}}function g(T,R){if(R===void 0||R.partialResultToken===void 0)return;const D=R.partialResultToken;return delete R.partialResultToken,new y(T,D)}return Mn.attachPartialResult=g,Mn}var Xi={},vh;function Tb(){if(vh)return Xi;vh=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.ConfigurationFeature=void 0;const o=Qe(),n=Hy(),a=l=>class extends l{getConfiguration(s){return s?n.string(s)?this._getConfiguration({section:s}):this._getConfiguration(s):this._getConfiguration({})}_getConfiguration(s){let c={items:Array.isArray(s)?s:[s]};return this.connection.sendRequest(o.ConfigurationRequest.type,c).then(d=>Array.isArray(d)?Array.isArray(s)?d:d[0]:Array.isArray(s)?[]:null)}};return Xi.ConfigurationFeature=a,Xi}var Zi={},Th;function bb(){if(Th)return Zi;Th=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.WorkspaceFoldersFeature=void 0;const o=Qe(),n=a=>class extends a{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(l){super.initialize(l);let s=l.workspace;s&&s.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new o.Emitter,this.connection.onNotification(o.DidChangeWorkspaceFoldersNotification.type,c=>{this._onDidChangeWorkspaceFolders.fire(c.event)}))}fillServerCapabilities(l){super.fillServerCapabilities(l);const s=l.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=s===!0||typeof s=="string"}getWorkspaceFolders(){return this.connection.sendRequest(o.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(o.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Zi.WorkspaceFoldersFeature=n,Zi}var Wi={},bh;function Rb(){if(bh)return Wi;bh=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.CallHierarchyFeature=void 0;const o=Qe(),n=a=>class extends a{get callHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.CallHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onIncomingCalls:l=>{const s=o.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onOutgoingCalls:l=>{const s=o.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return Wi.CallHierarchyFeature=n,Wi}var Ii={},Rh;function Sb(){if(Rh)return Ii;Rh=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.ShowDocumentFeature=void 0;const o=Qe(),n=a=>class extends a{showDocument(l){return this.connection.sendRequest(o.ShowDocumentRequest.type,l)}};return Ii.ShowDocumentFeature=n,Ii}var Ji={},Sh;function Db(){if(Sh)return Ji;Sh=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.FileOperationsFeature=void 0;const o=Qe(),n=a=>class extends a{onDidCreateFiles(l){return this.connection.onNotification(o.DidCreateFilesNotification.type,s=>{l(s)})}onDidRenameFiles(l){return this.connection.onNotification(o.DidRenameFilesNotification.type,s=>{l(s)})}onDidDeleteFiles(l){return this.connection.onNotification(o.DidDeleteFilesNotification.type,s=>{l(s)})}onWillCreateFiles(l){return this.connection.onRequest(o.WillCreateFilesRequest.type,(s,c)=>l(s,c))}onWillRenameFiles(l){return this.connection.onRequest(o.WillRenameFilesRequest.type,(s,c)=>l(s,c))}onWillDeleteFiles(l){return this.connection.onRequest(o.WillDeleteFilesRequest.type,(s,c)=>l(s,c))}};return Ji.FileOperationsFeature=n,Ji}var el={},Dh;function $b(){if(Dh)return el;Dh=1,Object.defineProperty(el,"__esModule",{value:!0}),el.LinkedEditingRangeFeature=void 0;const o=Qe(),n=a=>class extends a{onLinkedEditingRange(l){return this.connection.onRequest(o.LinkedEditingRangeRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0))}};return el.LinkedEditingRangeFeature=n,el}var tl={},$h;function Ab(){if($h)return tl;$h=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.TypeHierarchyFeature=void 0;const o=Qe(),n=a=>class extends a{get typeHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.TypeHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onSupertypes:l=>{const s=o.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onSubtypes:l=>{const s=o.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return tl.TypeHierarchyFeature=n,tl}var nl={},Ah;function Cb(){if(Ah)return nl;Ah=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.InlineValueFeature=void 0;const o=Qe(),n=a=>class extends a{get inlineValue(){return{refresh:()=>this.connection.sendRequest(o.InlineValueRefreshRequest.type),on:l=>this.connection.onRequest(o.InlineValueRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return nl.InlineValueFeature=n,nl}var rl={},Ch;function _b(){if(Ch)return rl;Ch=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.FoldingRangeFeature=void 0;const o=Qe(),n=a=>class extends a{get foldingRange(){return{refresh:()=>this.connection.sendRequest(o.FoldingRangeRefreshRequest.type),on:l=>{const s=o.FoldingRangeRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return rl.FoldingRangeFeature=n,rl}var al={},_h;function wb(){if(_h)return al;_h=1,Object.defineProperty(al,"__esModule",{value:!0}),al.InlayHintFeature=void 0;const o=Qe(),n=a=>class extends a{get inlayHint(){return{refresh:()=>this.connection.sendRequest(o.InlayHintRefreshRequest.type),on:l=>this.connection.onRequest(o.InlayHintRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s))),resolve:l=>this.connection.onRequest(o.InlayHintResolveRequest.type,(s,c)=>l(s,c))}}};return al.InlayHintFeature=n,al}var il={},wh;function Nb(){if(wh)return il;wh=1,Object.defineProperty(il,"__esModule",{value:!0}),il.DiagnosticFeature=void 0;const o=Qe(),n=a=>class extends a{get diagnostics(){return{refresh:()=>this.connection.sendRequest(o.DiagnosticRefreshRequest.type),on:l=>this.connection.onRequest(o.DocumentDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.DocumentDiagnosticRequest.partialResult,s))),onWorkspace:l=>this.connection.onRequest(o.WorkspaceDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.WorkspaceDiagnosticRequest.partialResult,s)))}}};return il.DiagnosticFeature=n,il}var ll={},Nh;function kb(){if(Nh)return ll;Nh=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.MonikerFeature=void 0;const o=Qe(),n=a=>class extends a{get moniker(){return{on:l=>{const s=o.MonikerRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return ll.MonikerFeature=n,ll}var kh;function xb(){if(kh)return ge;kh=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.createConnection=ge.combineFeatures=ge.combineNotebooksFeatures=ge.combineLanguagesFeatures=ge.combineWorkspaceFeatures=ge.combineWindowFeatures=ge.combineClientFeatures=ge.combineTracerFeatures=ge.combineTelemetryFeatures=ge.combineConsoleFeatures=ge._NotebooksImpl=ge._LanguagesImpl=ge.BulkUnregistration=ge.BulkRegistration=ge.ErrorMessageTracker=void 0;const o=Qe(),n=Hy(),a=Uy(),l=vb(),s=Tb(),c=bb(),d=Rb(),p=My(),m=Sb(),y=Db(),g=$b(),T=Ab(),R=Cb(),D=_b(),U=wb(),B=Nb(),L=zy(),F=kb();function j(re){if(re!==null)return re}class P{constructor(){this._messages=Object.create(null)}add(w){let G=this._messages[w];G||(G=0),G++,this._messages[w]=G}sendErrors(w){Object.keys(this._messages).forEach(G=>{w.window.showErrorMessage(G)})}}ge.ErrorMessageTracker=P;class W{constructor(){}rawAttach(w){this._rawConnection=w}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(w){}initialize(w){}error(w){this.send(o.MessageType.Error,w)}warn(w){this.send(o.MessageType.Warning,w)}info(w){this.send(o.MessageType.Info,w)}log(w){this.send(o.MessageType.Log,w)}debug(w){this.send(o.MessageType.Debug,w)}send(w,G){this._rawConnection&&this._rawConnection.sendNotification(o.LogMessageNotification.type,{type:w,message:G}).catch(()=>{(0,o.RAL)().console.error("Sending log message failed")})}}class oe{constructor(){}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}showErrorMessage(w,...G){let le={type:o.MessageType.Error,message:w,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showWarningMessage(w,...G){let le={type:o.MessageType.Warning,message:w,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showInformationMessage(w,...G){let le={type:o.MessageType.Info,message:w,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}}const ie=(0,m.ShowDocumentFeature)((0,l.ProgressFeature)(oe));var me;(function(re){function w(){return new fe}re.create=w})(me||(ge.BulkRegistration=me={}));class fe{constructor(){this._registrations=[],this._registered=new Set}add(w,G){const le=n.string(w)?w:w.method;if(this._registered.has(le))throw new Error(`${le} is already added to this registration`);const H=a.generateUuid();this._registrations.push({id:H,method:le,registerOptions:G||{}}),this._registered.add(le)}asRegistrationParams(){return{registrations:this._registrations}}}var ze;(function(re){function w(){return new ke(void 0,[])}re.create=w})(ze||(ge.BulkUnregistration=ze={}));class ke{constructor(w,G){this._connection=w,this._unregistrations=new Map,G.forEach(le=>{this._unregistrations.set(le.method,le)})}get isAttached(){return!!this._connection}attach(w){this._connection=w}add(w){this._unregistrations.set(w.method,w)}dispose(){let w=[];for(let le of this._unregistrations.values())w.push(le);let G={unregisterations:w};this._connection.sendRequest(o.UnregistrationRequest.type,G).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(w){const G=n.string(w)?w:w.method,le=this._unregistrations.get(G);if(!le)return!1;let H={unregisterations:[le]};return this._connection.sendRequest(o.UnregistrationRequest.type,H).then(()=>{this._unregistrations.delete(G)},ut=>{this._connection.console.info(`Un-registering request handler for ${le.id} failed.`)}),!0}}class yt{attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}register(w,G,le){return w instanceof fe?this.registerMany(w):w instanceof ke?this.registerSingle1(w,G,le):this.registerSingle2(w,G)}registerSingle1(w,G,le){const H=n.string(G)?G:G.method,ut=a.generateUuid();let Wt={registrations:[{id:ut,method:H,registerOptions:le||{}}]};return w.isAttached||w.attach(this.connection),this.connection.sendRequest(o.RegistrationRequest.type,Wt).then(ct=>(w.add({id:ut,method:H}),w),ct=>(this.connection.console.info(`Registering request handler for ${H} failed.`),Promise.reject(ct)))}registerSingle2(w,G){const le=n.string(w)?w:w.method,H=a.generateUuid();let ut={registrations:[{id:H,method:le,registerOptions:G||{}}]};return this.connection.sendRequest(o.RegistrationRequest.type,ut).then(Wt=>o.Disposable.create(()=>{this.unregisterSingle(H,le).catch(()=>{this.connection.console.info(`Un-registering capability with id ${H} failed.`)})}),Wt=>(this.connection.console.info(`Registering request handler for ${le} failed.`),Promise.reject(Wt)))}unregisterSingle(w,G){let le={unregisterations:[{id:w,method:G}]};return this.connection.sendRequest(o.UnregistrationRequest.type,le).catch(()=>{this.connection.console.info(`Un-registering request handler for ${w} failed.`)})}registerMany(w){let G=w.asRegistrationParams();return this.connection.sendRequest(o.RegistrationRequest.type,G).then(()=>new ke(this._connection,G.registrations.map(le=>({id:le.id,method:le.method}))),le=>(this.connection.console.info("Bulk registration failed."),Promise.reject(le)))}}class qe{constructor(){}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}applyEdit(w){function G(H){return H&&!!H.edit}let le=G(w)?w:{edit:w};return this.connection.sendRequest(o.ApplyWorkspaceEditRequest.type,le)}}const gt=(0,y.FileOperationsFeature)((0,c.WorkspaceFoldersFeature)((0,s.ConfigurationFeature)(qe)));class sn{constructor(){this._trace=o.Trace.Off}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}set trace(w){this._trace=w}log(w,G){this._trace!==o.Trace.Off&&this.connection.sendNotification(o.LogTraceNotification.type,{message:w,verbose:this._trace===o.Trace.Verbose?G:void 0}).catch(()=>{})}}class vt{constructor(){}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}logEvent(w){this.connection.sendNotification(o.TelemetryEventNotification.type,w).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class M{constructor(){}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}attachWorkDoneProgress(w){return(0,l.attachWorkDone)(this.connection,w)}attachPartialResultProgress(w,G){return(0,l.attachPartialResult)(this.connection,G)}}ge._LanguagesImpl=M;const Q=(0,D.FoldingRangeFeature)((0,F.MonikerFeature)((0,B.DiagnosticFeature)((0,U.InlayHintFeature)((0,R.InlineValueFeature)((0,T.TypeHierarchyFeature)((0,g.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,d.CallHierarchyFeature)(M)))))))));class J{constructor(){}attach(w){this._connection=w}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(w){}fillServerCapabilities(w){}attachWorkDoneProgress(w){return(0,l.attachWorkDone)(this.connection,w)}attachPartialResultProgress(w,G){return(0,l.attachPartialResult)(this.connection,G)}}ge._NotebooksImpl=J;const Y=(0,L.NotebookSyncFeature)(J);function O(re,w){return function(G){return w(re(G))}}ge.combineConsoleFeatures=O;function he(re,w){return function(G){return w(re(G))}}ge.combineTelemetryFeatures=he;function xe(re,w){return function(G){return w(re(G))}}ge.combineTracerFeatures=xe;function Te(re,w){return function(G){return w(re(G))}}ge.combineClientFeatures=Te;function Le(re,w){return function(G){return w(re(G))}}ge.combineWindowFeatures=Le;function At(re,w){return function(G){return w(re(G))}}ge.combineWorkspaceFeatures=At;function Zt(re,w){return function(G){return w(re(G))}}ge.combineLanguagesFeatures=Zt;function yr(re,w){return function(G){return w(re(G))}}ge.combineNotebooksFeatures=yr;function Qr(re,w){function G(H,ut,Wt){return H&&ut?Wt(H,ut):H||ut}return{__brand:"features",console:G(re.console,w.console,O),tracer:G(re.tracer,w.tracer,xe),telemetry:G(re.telemetry,w.telemetry,he),client:G(re.client,w.client,Te),window:G(re.window,w.window,Le),workspace:G(re.workspace,w.workspace,At),languages:G(re.languages,w.languages,Zt),notebooks:G(re.notebooks,w.notebooks,yr)}}ge.combineFeatures=Qr;function jn(re,w,G){const le=G&&G.console?new(G.console(W)):new W,H=re(le);le.rawAttach(H);const ut=G&&G.tracer?new(G.tracer(sn)):new sn,Wt=G&&G.telemetry?new(G.telemetry(vt)):new vt,ct=G&&G.client?new(G.client(yt)):new yt,Tl=G&&G.window?new(G.window(ie)):new ie,Fa=G&&G.workspace?new(G.workspace(gt)):new gt,Pa=G&&G.languages?new(G.languages(Q)):new Q,gr=G&&G.notebooks?new(G.notebooks(Y)):new Y,Vr=[le,ut,Wt,ct,Tl,Fa,Pa,gr];function bl(E){return E instanceof Promise?E:n.thenable(E)?new Promise((k,V)=>{E.then(It=>k(It),It=>V(It))}):Promise.resolve(E)}let Xr,Zr,on,Be={listen:()=>H.listen(),sendRequest:(E,...k)=>H.sendRequest(n.string(E)?E:E.method,...k),onRequest:(E,k)=>H.onRequest(E,k),sendNotification:(E,k)=>{const V=n.string(E)?E:E.method;return H.sendNotification(V,k)},onNotification:(E,k)=>H.onNotification(E,k),onProgress:H.onProgress,sendProgress:H.sendProgress,onInitialize:E=>(Zr=E,{dispose:()=>{Zr=void 0}}),onInitialized:E=>H.onNotification(o.InitializedNotification.type,E),onShutdown:E=>(Xr=E,{dispose:()=>{Xr=void 0}}),onExit:E=>(on=E,{dispose:()=>{on=void 0}}),get console(){return le},get telemetry(){return Wt},get tracer(){return ut},get client(){return ct},get window(){return Tl},get workspace(){return Fa},get languages(){return Pa},get notebooks(){return gr},onDidChangeConfiguration:E=>H.onNotification(o.DidChangeConfigurationNotification.type,E),onDidChangeWatchedFiles:E=>H.onNotification(o.DidChangeWatchedFilesNotification.type,E),__textDocumentSync:void 0,onDidOpenTextDocument:E=>H.onNotification(o.DidOpenTextDocumentNotification.type,E),onDidChangeTextDocument:E=>H.onNotification(o.DidChangeTextDocumentNotification.type,E),onDidCloseTextDocument:E=>H.onNotification(o.DidCloseTextDocumentNotification.type,E),onWillSaveTextDocument:E=>H.onNotification(o.WillSaveTextDocumentNotification.type,E),onWillSaveTextDocumentWaitUntil:E=>H.onRequest(o.WillSaveTextDocumentWaitUntilRequest.type,E),onDidSaveTextDocument:E=>H.onNotification(o.DidSaveTextDocumentNotification.type,E),sendDiagnostics:E=>H.sendNotification(o.PublishDiagnosticsNotification.type,E),onHover:E=>H.onRequest(o.HoverRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),onCompletion:E=>H.onRequest(o.CompletionRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onCompletionResolve:E=>H.onRequest(o.CompletionResolveRequest.type,E),onSignatureHelp:E=>H.onRequest(o.SignatureHelpRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),onDeclaration:E=>H.onRequest(o.DeclarationRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onDefinition:E=>H.onRequest(o.DefinitionRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onTypeDefinition:E=>H.onRequest(o.TypeDefinitionRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onImplementation:E=>H.onRequest(o.ImplementationRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onReferences:E=>H.onRequest(o.ReferencesRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onDocumentHighlight:E=>H.onRequest(o.DocumentHighlightRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onDocumentSymbol:E=>H.onRequest(o.DocumentSymbolRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onWorkspaceSymbol:E=>H.onRequest(o.WorkspaceSymbolRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onWorkspaceSymbolResolve:E=>H.onRequest(o.WorkspaceSymbolResolveRequest.type,E),onCodeAction:E=>H.onRequest(o.CodeActionRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onCodeActionResolve:E=>H.onRequest(o.CodeActionResolveRequest.type,(k,V)=>E(k,V)),onCodeLens:E=>H.onRequest(o.CodeLensRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onCodeLensResolve:E=>H.onRequest(o.CodeLensResolveRequest.type,(k,V)=>E(k,V)),onDocumentFormatting:E=>H.onRequest(o.DocumentFormattingRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),onDocumentRangeFormatting:E=>H.onRequest(o.DocumentRangeFormattingRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),onDocumentOnTypeFormatting:E=>H.onRequest(o.DocumentOnTypeFormattingRequest.type,(k,V)=>E(k,V)),onRenameRequest:E=>H.onRequest(o.RenameRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),onPrepareRename:E=>H.onRequest(o.PrepareRenameRequest.type,(k,V)=>E(k,V)),onDocumentLinks:E=>H.onRequest(o.DocumentLinkRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onDocumentLinkResolve:E=>H.onRequest(o.DocumentLinkResolveRequest.type,(k,V)=>E(k,V)),onDocumentColor:E=>H.onRequest(o.DocumentColorRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onColorPresentation:E=>H.onRequest(o.ColorPresentationRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onFoldingRanges:E=>H.onRequest(o.FoldingRangeRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onSelectionRanges:E=>H.onRequest(o.SelectionRangeRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),(0,l.attachPartialResult)(H,k))),onExecuteCommand:E=>H.onRequest(o.ExecuteCommandRequest.type,(k,V)=>E(k,V,(0,l.attachWorkDone)(H,k),void 0)),dispose:()=>H.dispose()};for(let E of Vr)E.attach(Be);return H.onRequest(o.InitializeRequest.type,E=>{w.initialize(E),n.string(E.trace)&&(ut.trace=o.Trace.fromString(E.trace));for(let k of Vr)k.initialize(E.capabilities);if(Zr){let k=Zr(E,new o.CancellationTokenSource().token,(0,l.attachWorkDone)(H,E),void 0);return bl(k).then(V=>{if(V instanceof o.ResponseError)return V;let It=V;It||(It={capabilities:{}});let zt=It.capabilities;zt||(zt={},It.capabilities=zt),zt.textDocumentSync===void 0||zt.textDocumentSync===null?zt.textDocumentSync=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None:!n.number(zt.textDocumentSync)&&!n.number(zt.textDocumentSync.change)&&(zt.textDocumentSync.change=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None);for(let Wr of Vr)Wr.fillServerCapabilities(zt);return It})}else{let k={capabilities:{textDocumentSync:o.TextDocumentSyncKind.None}};for(let V of Vr)V.fillServerCapabilities(k.capabilities);return k}}),H.onRequest(o.ShutdownRequest.type,()=>{if(w.shutdownReceived=!0,Xr)return Xr(new o.CancellationTokenSource().token)}),H.onNotification(o.ExitNotification.type,()=>{try{on&&on()}finally{w.shutdownReceived?w.exit(0):w.exit(1)}}),H.onNotification(o.SetTraceNotification.type,E=>{ut.trace=o.Trace.fromString(E.value)}),Be}return ge.createConnection=jn,ge}var xh;function Eh(){return xh||(xh=1,function(o){var n=Ur&&Ur.__createBinding||(Object.create?function(m,y,g,T){T===void 0&&(T=g);var R=Object.getOwnPropertyDescriptor(y,g);(!R||("get"in R?!y.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,T,R)}:function(m,y,g,T){T===void 0&&(T=g),m[T]=y[g]}),a=Ur&&Ur.__exportStar||function(m,y){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(y,g)&&n(y,m,g)};Object.defineProperty(o,"__esModule",{value:!0}),o.ProposedFeatures=o.NotebookDocuments=o.TextDocuments=o.SemanticTokensBuilder=void 0;const l=My();Object.defineProperty(o,"SemanticTokensBuilder",{enumerable:!0,get:function(){return l.SemanticTokensBuilder}});const s=gb();a(Qe(),o);const c=Oy();Object.defineProperty(o,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const d=zy();Object.defineProperty(o,"NotebookDocuments",{enumerable:!0,get:function(){return d.NotebookDocuments}}),a(xb(),o);var p;(function(m){m.all={__brand:"features",languages:s.InlineCompletionFeature}})(p||(o.ProposedFeatures=p={}))}(Ur)),Ur}var Mh;function qy(){return Mh||(Mh=1,function(o){var n=Hr&&Hr.__createBinding||(Object.create?function(p,m,y,g){g===void 0&&(g=y);var T=Object.getOwnPropertyDescriptor(m,y);(!T||("get"in T?!m.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,g,T)}:function(p,m,y,g){g===void 0&&(g=y),p[g]=m[y]}),a=Hr&&Hr.__exportStar||function(p,m){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&n(m,p,y)};Object.defineProperty(o,"__esModule",{value:!0}),o.createConnection=void 0;const l=Eh();a(L0(),o),a(Eh(),o);let s=!1;const c={initialize:p=>{},get shutdownReceived(){return s},set shutdownReceived(p){s=p},exit:p=>{}};function d(p,m,y,g){let T,R,D,U;p!==void 0&&p.__brand==="features"&&(T=p,p=m,m=y,y=g),l.ConnectionStrategy.is(p)||l.ConnectionOptions.is(p)?U=p:(R=p,D=m,U=y);const B=L=>(0,l.createProtocolConnection)(R,D,L,U);return(0,l.createConnection)(B,c,T)}o.createConnection=d}(Hr)),Hr}var K=qy();class Eb{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareCallHierarchy(n,a){const l=n.parseResult.value,s=Ot(l.$cstNode,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findDeclarationNode(s);if(c)return this.getCallHierarchyItems(c.astNode,n)}getCallHierarchyItems(n,a){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Method,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:a.uri.toString()},this.getCallHierarchyItem(n))]}getCallHierarchyItem(n){}async incomingCalls(n){const a=await this.documents.getOrCreateDocument(pr.parse(n.item.uri)),l=a.parseResult.value,s=Ot(l.$cstNode,a.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findReferences(s.astNode,{includeDeclaration:!1});return this.getIncomingCalls(s.astNode,c)}async outgoingCalls(n){const a=await this.documents.getOrCreateDocument(pr.parse(n.item.uri)),l=a.parseResult.value,s=Ot(l.$cstNode,a.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(s)return this.getOutgoingCalls(s.astNode)}}class Mb extends Eb{getIncomingCalls(n,a){if(!se(n))return;const l=new Map;if(a.forEach(s=>{const c=this.documents.getDocument(s.sourceUri);if(!c)return;const d=c.parseResult.value;if(!d.$cstNode)return;const p=ul(d.$cstNode,s.segment.offset);if(!p)return;const m=We(p.astNode,se);if(!m||!m.$cstNode)return;const y=this.nameProvider.getNameNode(m);if(!y)return;const g=s.sourceUri.toString(),T=g+"@"+y.text;l.has(T)?l.set(T,{parserRule:m.$cstNode,nameNode:y,targetNodes:[...l.get(T).targetNodes,p],docUri:g}):l.set(T,{parserRule:m.$cstNode,nameNode:y,targetNodes:[p],docUri:g})}),l.size!==0)return Array.from(l.values()).map(s=>({from:{kind:K.SymbolKind.Method,name:s.nameNode.text,range:s.parserRule.range,selectionRange:s.nameNode.range,uri:s.docUri},fromRanges:s.targetNodes.map(c=>c.range)}))}getOutgoingCalls(n){if(!se(n))return;const a=hn(n).filter(Ye).toArray(),l=new Map;if(a.forEach(s=>{var c;const d=s.$cstNode;if(!d)return;const p=(c=s.rule.ref)===null||c===void 0?void 0:c.$cstNode;if(!p)return;const m=this.nameProvider.getNameNode(p.astNode);if(!m)return;const y=at(p.astNode).uri.toString(),g=y+"@"+m.text;l.has(g)?l.set(g,{refCstNode:p,to:m,from:[...l.get(g).from,d.range],docUri:y}):l.set(g,{refCstNode:p,to:m,from:[d.range],docUri:y})}),l.size!==0)return Array.from(l.values()).map(s=>({to:{kind:K.SymbolKind.Method,name:s.to.text,range:s.refCstNode.range,selectionRange:s.to.range,uri:s.docUri},fromRanges:s.from}))}}class Ob{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareTypeHierarchy(n,a,l){const s=n.parseResult.value,c=Ot(s.$cstNode,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclarationNode(c);if(d)return this.getTypeHierarchyItems(d.astNode,n)}getTypeHierarchyItems(n,a){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Class,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:a.uri.toString()},this.getTypeHierarchyItem(n))]}getTypeHierarchyItem(n){}async supertypes(n,a){const l=await this.documents.getOrCreateDocument(pr.parse(n.item.uri)),s=l.parseResult.value,c=Ot(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSupertypes(c.astNode)}async subtypes(n,a){const l=await this.documents.getOrCreateDocument(pr.parse(n.item.uri)),s=l.parseResult.value,c=Ot(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSubtypes(c.astNode)}}class zb extends Ob{getSupertypes(n){if(!Yt(n))return;const a=n.superTypes.flatMap(l=>{var s;const c=l.ref;return c?(s=this.getTypeHierarchyItems(c,at(c)))!==null&&s!==void 0?s:[]:[]});return a.length===0?void 0:a}getSubtypes(n){if(!Yt(n))return;const a=this.references.findReferences(n,{includeDeclaration:!1}).flatMap(l=>{var s;const c=this.documents.getDocument(l.sourceUri);if(!c)return[];const d=c.parseResult.value;if(!d.$cstNode)return[];const p=ul(d.$cstNode,l.segment.offset);if(!p)return[];const m=p.astNode;return!Yt(m)||m.superTypes.every(y=>y.$refNode!==p)?[]:(s=this.getTypeHierarchyItems(m,c))!==null&&s!==void 0?s:[]}).toArray();return a.length===0?void 0:a}}function Oh(o,n){const a={stacks:o,tokens:n};return Hb(a),a.stacks.flat().forEach(s=>{s.property=void 0}),Gy(a.stacks).map(s=>s[s.length-1])}function Wc(o){const{next:n,cardinalities:a,visited:l,plus:s}=o,c=[],d=n.feature;if(l.has(d))return[];Vt(d)||l.add(d);let p,m=d;for(;m.$container;)if(Vt(m.$container)){p=m.$container;break}else if(Ks(m.$container))m=m.$container;else break;if(Wh(m.cardinality)){const y=qa({next:{feature:m,type:n.type},cardinalities:a,visited:l,plus:s});for(const g of y)s.add(g.feature);c.push(...y)}if(p){const y=p.elements.indexOf(m);y!==void 0&&y<p.elements.length-1&&c.push(...Ly({feature:p,type:n.type},y+1,a,l,s)),c.every(g=>qn(g.feature.cardinality,g.feature)||qn(a.get(g.feature))||s.has(g.feature))&&c.push(...Wc({next:{feature:p,type:n.type},cardinalities:a,visited:l,plus:s}))}return c}function Ac(o){return Gc(o)&&(o={feature:o}),qa({next:o,cardinalities:new Map,visited:new Set,plus:new Set})}function qa(o){var n,a,l;const{next:s,cardinalities:c,visited:d,plus:p}=o;if(s===void 0)return[];const{feature:m,type:y}=s;if(Vt(m))return d.has(m)?[]:(d.add(m),Ly(s,0,c,d,p).map(g=>zs(g,m.cardinality,c)));if(Xt(m)||mr(m))return m.elements.flatMap(g=>qa({next:{feature:g,type:y,property:s.property},cardinalities:c,visited:d,plus:p})).map(g=>zs(g,m.cardinality,c));if(pt(m)){const g={feature:m.terminal,type:y,property:(n=s.property)!==null&&n!==void 0?n:m.feature};return qa({next:g,cardinalities:c,visited:d,plus:p}).map(T=>zs(T,m.cardinality,c))}else{if(ot(m))return Wc({next:{feature:m,type:jc(m),property:(a=s.property)!==null&&a!==void 0?a:m.feature},cardinalities:c,visited:d,plus:p});if(Ye(m)&&se(m.rule.ref)){const g=m.rule.ref,T={feature:g.definition,type:g.fragment||g.dataType?void 0:(l=Zh(g))!==null&&l!==void 0?l:g.name,property:s.property};return qa({next:T,cardinalities:c,visited:d,plus:p}).map(R=>zs(R,m.cardinality,c))}else return[s]}}function zs(o,n,a){return a.set(o.feature,n),o}function Ly(o,n,a,l,s){var c;const d=[];let p;for(;n<o.feature.elements.length&&(p={feature:o.feature.elements[n++],type:o.type},d.push(...qa({next:p,cardinalities:a,visited:l,plus:s})),!!qn((c=p.feature.cardinality)!==null&&c!==void 0?c:a.get(p.feature),p.feature)););return d}function Hb(o){for(const n of o.tokens){const a=Gy(o.stacks,n);o.stacks=a}}function Gy(o,n){const a=[];for(const l of o)a.push(...Ub(l,n));return a}function Ub(o,n){const a=new Map,l=new Set(o.map(c=>c.feature).filter(qb)),s=[];for(;o.length>0;){const c=o.pop(),d=Wc({next:c,cardinalities:a,plus:l,visited:new Set}).filter(p=>n?Ic(p.feature,n):!0);for(const p of d)s.push([...o,p]);if(!d.every(p=>qn(p.feature.cardinality,p.feature)||qn(a.get(p.feature))))break}return s}function qb(o){if(o.cardinality==="+")return!0;const n=We(o,pt);return!!(n&&n.cardinality==="+")}function Ic(o,n){if(rn(o))return o.value===n.image;if(Ye(o))return Lb(o.rule.ref,n);if(Ln(o)){const a=P0(o);if(a)return Ic(a,n)}return!1}function Lb(o,n){return se(o)?Ac(o.definition).some(l=>Ic(l.feature,n)):rt(o)?gl(o).test(n.image):!1}function Gb(o){const n=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.triggerCharacters)!==null&&s!==void 0?s:[]}))),a=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.allCommitCharacters)!==null&&s!==void 0?s:[]})));return{triggerCharacters:n.length>0?n:void 0,allCommitCharacters:a.length>0?a:void 0}}class jy{constructor(n){this.scopeProvider=n.references.ScopeProvider,this.grammar=n.Grammar,this.completionParser=n.parser.CompletionParser,this.nameProvider=n.references.NameProvider,this.lexer=n.parser.Lexer,this.nodeKindProvider=n.shared.lsp.NodeKindProvider,this.fuzzyMatcher=n.shared.lsp.FuzzyMatcher,this.grammarConfig=n.parser.GrammarConfig,this.astReflection=n.shared.AstReflection,this.documentationProvider=n.documentation.DocumentationProvider}async getCompletion(n,a,l){const s=[],c=this.buildContexts(n,a.position),d=(y,g)=>{const T=this.fillCompletionItem(y,g);T&&s.push(T)},p=y=>rn(y.feature)?y.feature.value:y.feature,m=[];for(const y of c)if(await Promise.all(ht(y.features).distinct(p).exclude(m).map(g=>this.completionFor(y,g,d))),m.push(...y.features),!this.continueCompletion(s))break;return K.CompletionList.create(this.deduplicateItems(s),!0)}deduplicateItems(n){return ht(n).distinct(a=>`${a.kind}_${a.label}_${a.detail}`).toArray()}findFeaturesAt(n,a){const l=n.getText({start:K.Position.create(0,0),end:n.positionAt(a)}),s=this.completionParser.parse(l),c=s.tokens;if(s.tokenIndex===0){const m=Xm(this.grammar),y=Ac({feature:m.definition,type:Zh(m)});return c.length>0?(c.shift(),Oh(y.map(g=>[g]),c)):y}const d=[...c].splice(s.tokenIndex);return Oh([s.elementStack.map(m=>({feature:m}))],d)}*buildContexts(n,a){var l,s;const c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument,p=d.getText(),m=d.offsetAt(a),y={document:n,textDocument:d,offset:m,position:a},g=this.findDataTypeRuleStart(c,m);if(g){const[j,P]=g,W=(l=Zm(c,j))===null||l===void 0?void 0:l.astNode;yield Object.assign(Object.assign({},y),{node:W,tokenOffset:j,tokenEndOffset:P,features:this.findFeaturesAt(d,j)})}const{nextTokenStart:T,nextTokenEnd:R,previousTokenStart:D,previousTokenEnd:U}=this.backtrackToAnyToken(p,m);let B=T;m<=T&&D!==void 0&&(B=D);const L=(s=Zm(c,B))===null||s===void 0?void 0:s.astNode;let F=!0;if(D!==void 0&&U!==void 0&&U===m&&(yield Object.assign(Object.assign({},y),{node:L,tokenOffset:D,tokenEndOffset:U,features:this.findFeaturesAt(d,D)}),F=this.performNextTokenCompletion(n,p.substring(D,U),D,U),F&&(yield Object.assign(Object.assign({},y),{node:L,tokenOffset:U,tokenEndOffset:U,features:this.findFeaturesAt(d,U)}))),L)F&&(yield Object.assign(Object.assign({},y),{node:L,tokenOffset:T,tokenEndOffset:R,features:this.findFeaturesAt(d,T)}));else{const j=Xm(this.grammar);if(!j)throw new Error("Missing entry parser rule");yield Object.assign(Object.assign({},y),{tokenOffset:T,tokenEndOffset:R,features:Ac(j.definition)})}}performNextTokenCompletion(n,a,l,s){return/\P{L}$/u.test(a)}findDataTypeRuleStart(n,a){var l,s;let c=Ot(n,a,this.grammarConfig.nameRegexp),d=!!(!((l=We(c?.grammarSource,se))===null||l===void 0)&&l.dataType);if(d){for(;d;)c=c?.container,d=!!(!((s=We(c?.grammarSource,se))===null||s===void 0)&&s.dataType);if(c)return[c.offset,c.end]}}continueCompletion(n){return n.length===0}backtrackToAnyToken(n,a){const l=this.lexer.tokenize(n).tokens;if(l.length===0)return{nextTokenStart:a,nextTokenEnd:a};let s;for(const c of l){if(c.startOffset>=a)return{nextTokenStart:a,nextTokenEnd:a,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};if(c.endOffset>=a)return{nextTokenStart:c.startOffset,nextTokenEnd:c.endOffset+1,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};s=c}return{nextTokenStart:a,nextTokenEnd:a,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0}}completionFor(n,a,l){if(rn(a.feature))return this.completionForKeyword(n,a.feature,l);if(Ln(a.feature)&&n.node)return this.completionForCrossReference(n,a,l)}completionForCrossReference(n,a,l){const s=We(a.feature,pt);let c=n.node;if(s&&c){a.type&&(c={$type:a.type,$container:c,$containerProperty:a.property},Y0(this.astReflection,c));const d={reference:{$refText:""},container:c,property:s.feature};try{for(const p of this.getReferenceCandidates(d,n))l(n,this.createReferenceCompletionItem(p))}catch(p){console.error(p)}}}getReferenceCandidates(n,a){return this.scopeProvider.getScope(n).getAllElements()}createReferenceCompletionItem(n){const a=this.nodeKindProvider.getCompletionItemKind(n),l=this.getReferenceDocumentation(n);return{nodeDescription:n,kind:a,documentation:l,detail:n.type,sortText:"0"}}getReferenceDocumentation(n){if(!n.node)return;const a=this.documentationProvider.getDocumentation(n.node);if(a)return{kind:"markdown",value:a}}completionForKeyword(n,a,l){this.filterKeyword(n,a)&&l(n,{label:a.value,kind:this.getKeywordCompletionItemKind(a),detail:"Keyword",sortText:"1"})}getKeywordCompletionItemKind(n){return K.CompletionItemKind.Keyword}filterKeyword(n,a){return/\p{L}/u.test(a.value)}fillCompletionItem(n,a){var l,s;let c;if(typeof a.label=="string")c=a.label;else if("node"in a){const y=this.nameProvider.getName(a.node);if(!y)return;c=y}else if("nodeDescription"in a)c=a.nodeDescription.name;else return;let d;typeof((l=a.textEdit)===null||l===void 0?void 0:l.newText)=="string"?d=a.textEdit.newText:typeof a.insertText=="string"?d=a.insertText:d=c;const p=(s=a.textEdit)!==null&&s!==void 0?s:this.buildCompletionTextEdit(n,c,d);return p?{additionalTextEdits:a.additionalTextEdits,command:a.command,commitCharacters:a.commitCharacters,data:a.data,detail:a.detail,documentation:a.documentation,filterText:a.filterText,insertText:a.insertText,insertTextFormat:a.insertTextFormat,insertTextMode:a.insertTextMode,kind:a.kind,labelDetails:a.labelDetails,preselect:a.preselect,sortText:a.sortText,tags:a.tags,textEditText:a.textEditText,textEdit:p,label:c}:void 0}buildCompletionTextEdit(n,a,l){const c=n.textDocument.getText().substring(n.tokenOffset,n.offset);if(this.fuzzyMatcher.match(c,a)){const d=n.textDocument.positionAt(n.tokenOffset),p=n.position;return{newText:l,range:{start:d,end:p}}}else return}}class Ky{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getDefinition(n,a,l){const s=n.parseResult.value;if(s.$cstNode){const c=s.$cstNode,d=Ot(c,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(d)return this.collectLocationLinks(d,a)}}collectLocationLinks(n,a){var l;const s=this.findLink(n);if(s)return[K.LocationLink.create(s.targetDocument.textDocument.uri,((l=s.target.astNode.$cstNode)!==null&&l!==void 0?l:s.target).range,s.target.range,s.source.range)]}findLink(n){const a=this.references.findDeclarationNode(n);if(a?.astNode){const l=at(a.astNode);if(a&&l)return{source:n,target:a,targetDocument:l}}}}class jb{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}getDocumentHighlight(n,a,l){const s=n.parseResult.value.$cstNode;if(!s)return;const c=Ot(s,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclaration(c);if(d){const p=Ne.equals(at(d).uri,n.uri),m={documentUri:n.uri,includeDeclaration:p};return this.references.findReferences(d,m).map(g=>this.createDocumentHighlight(g)).toArray()}}createDocumentHighlight(n){return K.DocumentHighlight.create(n.segment.range)}}class Kb{constructor(n){this.nameProvider=n.references.NameProvider,this.nodeKindProvider=n.shared.lsp.NodeKindProvider}getSymbols(n,a,l){return this.getSymbol(n,n.parseResult.value)}getSymbol(n,a){const l=a.$cstNode,s=this.nameProvider.getNameNode(a);if(s&&l){const c=this.nameProvider.getName(a);return[{kind:this.nodeKindProvider.getSymbolKind(a),name:c||s.text,range:l.range,selectionRange:s.range,children:this.getChildSymbols(n,a)}]}else return this.getChildSymbols(n,a)||[]}getChildSymbols(n,a){const l=[];for(const s of Ih(a)){const c=this.getSymbol(n,s);l.push(...c)}if(l.length>0)return l}}class Bb{constructor(n){this.workspaceManager=n.workspace.WorkspaceManager,this.documentBuilder=n.workspace.DocumentBuilder,this.workspaceLock=n.workspace.WorkspaceLock,this.serviceRegistry=n.ServiceRegistry;let a=!1;n.lsp.LanguageServer.onInitialize(l=>{var s,c;a=!!(!((c=(s=l.capabilities.workspace)===null||s===void 0?void 0:s.didChangeWatchedFiles)===null||c===void 0)&&c.dynamicRegistration)}),n.lsp.LanguageServer.onInitialized(l=>{a&&this.registerFileWatcher(n)})}registerFileWatcher(n){const a=[],l=ht(n.ServiceRegistry.all).flatMap(c=>c.LanguageMetaData.fileExtensions).map(c=>c.startsWith(".")?c.substring(1):c).distinct().toArray();l.length>0&&a.push({globPattern:l.length===1?`**/*.${l[0]}`:`**/*.{${l.join(",")}}`});const s=ht(n.ServiceRegistry.all).flatMap(c=>{var d;return(d=c.LanguageMetaData.fileNames)!==null&&d!==void 0?d:[]}).distinct().toArray();if(s.length>0&&a.push({globPattern:s.length===1?`**/${s[0]}`:`**/{${s.join(",")}}`}),a.length>0){const c=n.lsp.Connection,d={watchers:a};c?.client.register(K.DidChangeWatchedFilesNotification.type,d)}}fireDocumentUpdate(n,a){n=n.filter(l=>this.serviceRegistry.hasServices(l)),this.workspaceManager.ready.then(()=>{this.workspaceLock.write(l=>this.documentBuilder.update(n,a,l))}).catch(l=>{console.error("Workspace initialization failed. Could not perform document update.",l)})}didChangeContent(n){this.fireDocumentUpdate([pr.parse(n.document.uri)],[])}didChangeWatchedFiles(n){const a=ht(n.changes).filter(s=>s.type!==K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>pr.parse(s.uri)).toArray(),l=ht(n.changes).filter(s=>s.type===K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>pr.parse(s.uri)).toArray();this.fireDocumentUpdate(a,l)}}class By{constructor(n){this.commentNames=n.parser.GrammarConfig.multilineCommentRules}getFoldingRanges(n,a,l){const s=[],c=d=>s.push(d);return this.collectFolding(n,c),s}collectFolding(n,a){var l;const s=(l=n.parseResult)===null||l===void 0?void 0:l.value;if(s){if(this.shouldProcessContent(s)){const c=hn(s).iterator();let d;do if(d=c.next(),!d.done){const p=d.value;this.shouldProcess(p)&&this.collectObjectFolding(n,p,a),this.shouldProcessContent(p)||c.prune()}while(!d.done)}this.collectCommentFolding(n,s,a)}}shouldProcess(n){return!0}shouldProcessContent(n){return!0}collectObjectFolding(n,a,l){const s=a.$cstNode;if(s){const c=this.toFoldingRange(n,s);c&&l(c)}}collectCommentFolding(n,a,l){const s=a.$cstNode;if(s){for(const c of Q0(s))if(this.commentNames.includes(c.tokenType.name)){const d=this.toFoldingRange(n,c,K.FoldingRangeKind.Comment);d&&l(d)}}}toFoldingRange(n,a,l){const s=a.range,c=s.start;let d=s.end;if(!(d.line-c.line<2))return this.includeLastFoldingLine(a,l)||(d=n.textDocument.positionAt(n.textDocument.offsetAt({line:d.line,character:0})-1)),K.FoldingRange.create(c.line,d.line,c.character,d.character,l)}includeLastFoldingLine(n,a){if(a===K.FoldingRangeKind.Comment)return!1;const l=n.text,s=l.charAt(l.length-1);return!(s==="}"||s===")"||s==="]")}}class Fb{match(n,a){if(n.length===0)return!0;let l=!1,s,c=0;const d=a.length;for(let p=0;p<d;p++){const m=a.charCodeAt(p),y=n.charCodeAt(c);if((m===y||this.toUpperCharCode(m)===this.toUpperCharCode(y))&&(l||(l=s===void 0||this.isWordTransition(s,m)),l&&c++,c===n.length))return!0;s=m}return!1}isWordTransition(n,a){return zh<=n&&n<=Hh&&Pb<=a&&a<=Yb||n===Uh&&a!==Uh}toUpperCharCode(n){return zh<=n&&n<=Hh?n-32:n}}const zh=97,Hh=122,Pb=65,Yb=90,Uh=95;class Qb{constructor(n){this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getHoverContent(n,a){var l,s;const c=(s=(l=n.parseResult)===null||l===void 0?void 0:l.value)===null||s===void 0?void 0:s.$cstNode;if(c){const d=n.textDocument.offsetAt(a.position),p=Ot(c,d,this.grammarConfig.nameRegexp);if(p&&p.offset+p.length>d){const m=this.references.findDeclaration(p);if(m)return this.getAstNodeHoverContent(m);if(rn(p.grammarSource))return this.getKeywordHoverContent(p.grammarSource)}}}getKeywordHoverContent(n){var a;let l=V0(n)?n.$comment:void 0;if(l||(l=(a=X0(n.$cstNode,["ML_COMMENT"]))===null||a===void 0?void 0:a.text),l&&Z0(l)){const s=W0(l).toMarkdown();if(s)return{contents:{kind:"markdown",value:s}}}}}class Vb extends Qb{constructor(n){super(n),this.documentationProvider=n.documentation.DocumentationProvider}getAstNodeHoverContent(n){const a=this.documentationProvider.getDocumentation(n);if(a)return{contents:{kind:"markdown",value:a}}}}var Hs=Qe();const Xb={[K.SemanticTokenTypes.class]:0,[K.SemanticTokenTypes.comment]:1,[K.SemanticTokenTypes.enum]:2,[K.SemanticTokenTypes.enumMember]:3,[K.SemanticTokenTypes.event]:4,[K.SemanticTokenTypes.function]:5,[K.SemanticTokenTypes.interface]:6,[K.SemanticTokenTypes.keyword]:7,[K.SemanticTokenTypes.macro]:8,[K.SemanticTokenTypes.method]:9,[K.SemanticTokenTypes.modifier]:10,[K.SemanticTokenTypes.namespace]:11,[K.SemanticTokenTypes.number]:12,[K.SemanticTokenTypes.operator]:13,[K.SemanticTokenTypes.parameter]:14,[K.SemanticTokenTypes.property]:15,[K.SemanticTokenTypes.regexp]:16,[K.SemanticTokenTypes.string]:17,[K.SemanticTokenTypes.struct]:18,[K.SemanticTokenTypes.type]:19,[K.SemanticTokenTypes.typeParameter]:20,[K.SemanticTokenTypes.variable]:21,[K.SemanticTokenTypes.decorator]:22},Zb={[K.SemanticTokenModifiers.abstract]:1,[K.SemanticTokenModifiers.async]:2,[K.SemanticTokenModifiers.declaration]:4,[K.SemanticTokenModifiers.defaultLibrary]:8,[K.SemanticTokenModifiers.definition]:16,[K.SemanticTokenModifiers.deprecated]:32,[K.SemanticTokenModifiers.documentation]:64,[K.SemanticTokenModifiers.modification]:128,[K.SemanticTokenModifiers.readonly]:256,[K.SemanticTokenModifiers.static]:512};function Wb(o){const n=[],a=[];let l=!0,s=!0,c=!0;for(const d of o)d&&(d.legend.tokenTypes.forEach((p,m)=>{const y=n[m];if(y&&y!==p)throw new Error(`Cannot merge '${y}' and '${p}' token types. They use the same index ${m}.`);n[m]=p}),d.legend.tokenModifiers.forEach((p,m)=>{const y=a[m];if(y&&y!==p)throw new Error(`Cannot merge '${y}' and '${p}' token modifier. They use the same index ${m}.`);a[m]=p}),d.full?typeof d.full=="object"&&!d.full.delta&&(s=!1):l=!1,d.range||(c=!1));return{legend:{tokenTypes:n,tokenModifiers:a},full:l&&{delta:s},range:c}}class Ib extends K.SemanticTokensBuilder{constructor(){super(...arguments),this._tokens=[]}push(n,a,l,s,c){this._tokens.push({line:n,char:a,length:l,tokenType:s,tokenModifiers:c})}build(){return this.applyTokens(),super.build()}buildEdits(){return this.applyTokens(),super.buildEdits()}flush(){this.previousResult(this.id)}applyTokens(){for(const n of this._tokens.sort(this.compareTokens))super.push(n.line,n.char,n.length,n.tokenType,n.tokenModifiers);this._tokens=[]}compareTokens(n,a){return n.line===a.line?n.char-a.char:n.line-a.line}}class Jb{constructor(n){this.tokensBuilders=new Map,n.shared.workspace.TextDocuments.onDidClose(a=>{this.tokensBuilders.delete(a.document.uri)}),n.shared.lsp.LanguageServer.onInitialize(a=>{var l;this.initialize((l=a.capabilities.textDocument)===null||l===void 0?void 0:l.semanticTokens)})}initialize(n){this.clientCapabilities=n}get tokenTypes(){return Xb}get tokenModifiers(){return Zb}get semanticTokensOptions(){return{legend:{tokenTypes:Object.keys(this.tokenTypes),tokenModifiers:Object.keys(this.tokenModifiers)},full:{delta:!0},range:!0}}async semanticHighlight(n,a,l=Gs.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightRange(n,a,l=Gs.CancellationToken.None){return this.currentRange=a.range,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightDelta(n,a,l=Gs.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.previousResult(a.previousResultId),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.buildEdits()}createAcceptor(){return a=>{"line"in a?this.highlightToken({range:{start:{line:a.line,character:a.char},end:{line:a.line,character:a.char+a.length}},type:a.type,modifier:a.modifier}):"range"in a?this.highlightToken(a):"keyword"in a?this.highlightKeyword(a):"property"in a?this.highlightProperty(a):this.highlightNode({node:a.cst,type:a.type,modifier:a.modifier})}}getDocumentTokensBuilder(n){const a=this.tokensBuilders.get(n.uri.toString());if(a)return a;const l=new Ib;return this.tokensBuilders.set(n.uri.toString(),l),l}async computeHighlighting(n,a,l){const s=n.parseResult.value,c=I0(s,{range:this.currentRange}).iterator();let d;do if(d=c.next(),!d.done){await Jh(l);const p=d.value;this.highlightElement(p,a)==="prune"&&c.prune()}while(!d.done)}highlightToken(n){var a;const{range:l,type:s}=n;let c=n.modifier;if(this.currentRange&&!J0(l,this.currentRange)||!this.currentDocument||!this.currentTokensBuilder)return;const d=this.tokenTypes[s];let p=0;if(c!==void 0){typeof c=="string"&&(c=[c]);for(const g of c){const T=this.tokenModifiers[g];p|=T}}const m=l.start.line,y=l.end.line;if(m===y){const g=l.start.character,T=l.end.character-g;this.currentTokensBuilder.push(m,g,T,d,p)}else if(!((a=this.clientCapabilities)===null||a===void 0)&&a.multilineTokenSupport){const g=l.start.character,T=this.currentDocument.textDocument.offsetAt(l.start),R=this.currentDocument.textDocument.offsetAt(l.end);this.currentTokensBuilder.push(m,g,R-T,d,p)}else{const g=l.start;let T=this.currentDocument.textDocument.offsetAt({line:m+1,character:0});this.currentTokensBuilder.push(g.line,g.character,T-g.character-1,d,p);for(let R=m+1;R<y;R++){const D=T;T=this.currentDocument.textDocument.offsetAt({line:R+1,character:0}),this.currentTokensBuilder.push(R,0,T-D-1,d,p)}this.currentTokensBuilder.push(y,0,l.end.character,d,p)}}highlightProperty(n){const a=[];if(typeof n.index=="number"){const c=Fr(n.node.$cstNode,n.property,n.index);c&&a.push(c)}else a.push(...ey(n.node.$cstNode,n.property));const{type:l,modifier:s}=n;for(const c of a)this.highlightNode({node:c,type:l,modifier:s})}highlightKeyword(n){const{node:a,keyword:l,type:s,index:c,modifier:d}=n,p=[];if(typeof c=="number"){const m=Lr(a.$cstNode,l,c);m&&p.push(m)}else p.push(...ty(a.$cstNode,l));for(const m of p)this.highlightNode({node:m,type:s,modifier:d})}highlightNode(n){const{node:a,type:l,modifier:s}=n,c=a.range;this.highlightToken({range:c,type:l,modifier:s})}}var qh;(function(o){function n(l,s,c){const d=new Map;Object.entries(s).forEach(([y,g])=>d.set(g,y));let p=0,m=0;return a(l.data,5).map(y=>{p+=y[0],y[0]!==0&&(m=0),m+=y[1];const g=y[2];return{offset:c.textDocument.offsetAt({line:p,character:m}),tokenType:d.get(y[3]),tokenModifiers:y[4],text:c.textDocument.getText({start:{line:p,character:m},end:{line:p,character:m+g}})}})}o.decode=n;function a(l,s){const c=[];for(let d=0;d<l.length;d+=s){const p=l.slice(d,d+s);c.push(p)}return c}})(qh||(qh={}));function eR(o){const n=[],a=[];o.forEach(s=>{s?.triggerCharacters&&n.push(...s.triggerCharacters),s?.retriggerCharacters&&a.push(...s.retriggerCharacters)});const l={triggerCharacters:n.length>0?Array.from(new Set(n)).sort():void 0,retriggerCharacters:a.length>0?Array.from(new Set(a)).sort():void 0};return l.triggerCharacters?l:void 0}class tR{constructor(n){this.onInitializeEmitter=new Hs.Emitter,this.onInitializedEmitter=new Hs.Emitter,this.services=n}get onInitialize(){return this.onInitializeEmitter.event}get onInitialized(){return this.onInitializedEmitter.event}async initialize(n){return this.eagerLoadServices(),this.fireInitializeOnDefaultServices(n),this.onInitializeEmitter.fire(n),this.onInitializeEmitter.dispose(),this.buildInitializeResult(n)}eagerLoadServices(){Wm(this.services),this.services.ServiceRegistry.all.forEach(n=>Wm(n))}hasService(n){return this.services.ServiceRegistry.all.some(l=>n(l)!==void 0)}buildInitializeResult(n){var a,l,s,c;const d=this.services.lsp.DocumentUpdateHandler,p=(a=this.services.lsp.FileOperationHandler)===null||a===void 0?void 0:a.fileOperationOptions,m=this.services.ServiceRegistry.all,y=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.Formatter}),g=m.map(Y=>{var O,he;return(he=(O=Y.lsp)===null||O===void 0?void 0:O.Formatter)===null||he===void 0?void 0:he.formatOnTypeOptions}).find(Y=>!!Y),T=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.CodeActionProvider}),R=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.SemanticTokenProvider}),D=Wb(m.map(Y=>{var O,he;return(he=(O=Y.lsp)===null||O===void 0?void 0:O.SemanticTokenProvider)===null||he===void 0?void 0:he.semanticTokensOptions})),U=(s=(l=this.services.lsp)===null||l===void 0?void 0:l.ExecuteCommandHandler)===null||s===void 0?void 0:s.commands,B=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.DocumentLinkProvider}),L=eR(m.map(Y=>{var O,he;return(he=(O=Y.lsp)===null||O===void 0?void 0:O.SignatureHelp)===null||he===void 0?void 0:he.signatureHelpOptions})),F=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.TypeProvider}),j=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.ImplementationProvider}),P=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.CompletionProvider}),W=Gb(m.map(Y=>{var O,he;return(he=(O=Y.lsp)===null||O===void 0?void 0:O.CompletionProvider)===null||he===void 0?void 0:he.completionOptions})),oe=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.ReferencesProvider}),ie=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.DocumentSymbolProvider}),me=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.DefinitionProvider}),fe=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.DocumentHighlightProvider}),ze=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.FoldingRangeProvider}),ke=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.HoverProvider}),yt=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.RenameProvider}),qe=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.CallHierarchyProvider}),gt=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.TypeHierarchyProvider}),sn=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.CodeLensProvider}),vt=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.DeclarationProvider}),M=this.hasService(Y=>{var O;return(O=Y.lsp)===null||O===void 0?void 0:O.InlayHintProvider}),Q=(c=this.services.lsp)===null||c===void 0?void 0:c.WorkspaceSymbolProvider;return{capabilities:{workspace:{workspaceFolders:{supported:!0},fileOperations:p},executeCommandProvider:U&&{commands:U},textDocumentSync:{change:Hs.TextDocumentSyncKind.Incremental,openClose:!0,save:!!d.didSaveDocument,willSave:!!d.willSaveDocument,willSaveWaitUntil:!!d.willSaveDocumentWaitUntil},completionProvider:P?W:void 0,referencesProvider:oe,documentSymbolProvider:ie,definitionProvider:me,typeDefinitionProvider:F,documentHighlightProvider:fe,codeActionProvider:T,documentFormattingProvider:y,documentRangeFormattingProvider:y,documentOnTypeFormattingProvider:g,foldingRangeProvider:ze,hoverProvider:ke,renameProvider:yt?{prepareProvider:!0}:void 0,semanticTokensProvider:R?D:void 0,signatureHelpProvider:L,implementationProvider:j,callHierarchyProvider:qe?{}:void 0,typeHierarchyProvider:gt?{}:void 0,documentLinkProvider:B?{resolveProvider:!1}:void 0,codeLensProvider:sn?{resolveProvider:!1}:void 0,declarationProvider:vt,inlayHintProvider:M?{resolveProvider:!1}:void 0,workspaceSymbolProvider:Q?{resolveProvider:!!Q.resolveSymbol}:void 0}}}initialized(n){this.fireInitializedOnDefaultServices(n),this.onInitializedEmitter.fire(n),this.onInitializedEmitter.dispose()}fireInitializeOnDefaultServices(n){this.services.workspace.ConfigurationProvider.initialize(n),this.services.workspace.WorkspaceManager.initialize(n)}fireInitializedOnDefaultServices(n){const a=this.services.lsp.Connection,l=a?Object.assign(Object.assign({},n),{register:s=>a.client.register(Hs.DidChangeConfigurationNotification.type,s),fetchConfiguration:s=>a.workspace.getConfiguration(s)}):n;this.services.workspace.ConfigurationProvider.initialized(l).catch(s=>console.error("Error in ConfigurationProvider initialization:",s)),this.services.workspace.WorkspaceManager.initialized(n).catch(s=>console.error("Error in WorkspaceManager initialization:",s))}}class nR{getSymbolKind(n){return K.SymbolKind.Field}getCompletionItemKind(n){return K.CompletionItemKind.Reference}}class rR{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}findReferences(n,a,l){const s=n.parseResult.value.$cstNode;if(!s)return[];const c=Ot(s,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);return c?this.getReferences(c,a,n):[]}getReferences(n,a,l){const s=[],c=this.references.findDeclaration(n);if(c){const d={includeDeclaration:a.context.includeDeclaration};this.references.findReferences(c,d).forEach(p=>{s.push(K.Location.create(p.sourceUri.toString(),p.segment.range))})}return s}}class aR{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}async rename(n,a,l){const s={},c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument.offsetAt(a.position),p=Ot(c,d,this.grammarConfig.nameRegexp);if(!p)return;const m=this.references.findDeclaration(p);if(!m)return;const y={onlyLocal:!1,includeDeclaration:!0};return this.references.findReferences(m,y).forEach(T=>{const R=eT.replace(T.segment.range,a.newName),D=T.sourceUri.toString();s[D]?s[D].push(R):s[D]=[R]}),{changes:s}}prepareRename(n,a,l){return this.renameNodeRange(n,a.position)}renameNodeRange(n,a){const l=n.parseResult.value.$cstNode,s=n.textDocument.offsetAt(a);if(l&&s){const c=Ot(l,s,this.grammarConfig.nameRegexp);if(!c)return;if(this.references.findDeclaration(c)||this.isNameNode(c))return c.range}}isNameNode(n){return n?.astNode&&ny(n.astNode)&&n===this.nameProvider.getNameNode(n.astNode)}}class iR{constructor(n){this.indexManager=n.workspace.IndexManager,this.nodeKindProvider=n.lsp.NodeKindProvider,this.fuzzyMatcher=n.lsp.FuzzyMatcher}async getSymbols(n,a=Gs.CancellationToken.None){const l=[],s=n.query.toLowerCase();for(const c of this.indexManager.allElements())if(await Jh(a),this.fuzzyMatcher.match(s,c.name)){const d=this.getWorkspaceSymbol(c);d&&l.push(d)}return l}getWorkspaceSymbol(n){const a=n.nameSegment;if(a)return{kind:this.nodeKindProvider.getSymbolKind(n),name:n.name,location:{range:a.range,uri:n.documentUri.toString()}}}}class Fy{constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new K.Emitter,this._onDidOpen=new K.Emitter,this._onDidClose=new K.Emitter,this._onDidSave=new K.Emitter,this._onWillSave=new K.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(Ne.normalize(n))}set(n){const a=Ne.normalize(n.uri);let l=!0;this._syncedDocuments.has(a)&&(l=!1),this._syncedDocuments.set(a,n);const s=Object.freeze({document:n});return this._onDidOpen.fire(s),this._onDidChangeContent.fire(s),l}delete(n){const a=Ne.normalize(typeof n=="object"&&"uri"in n?n.uri:n),l=this._syncedDocuments.get(a);l!==void 0&&(this._syncedDocuments.delete(a),this._onDidClose.fire(Object.freeze({document:l})))}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=K.TextDocumentSyncKind.Incremental;const a=[];return a.push(n.onDidOpenTextDocument(l=>{const s=l.textDocument,c=Ne.normalize(s.uri),d=this._configuration.create(c,s.languageId,s.version,s.text);this._syncedDocuments.set(c,d);const p=Object.freeze({document:d});this._onDidOpen.fire(p),this._onDidChangeContent.fire(p)})),a.push(n.onDidChangeTextDocument(l=>{const s=l.textDocument,c=l.contentChanges;if(c.length===0)return;const{version:d}=s;if(d==null)throw new Error(`Received document change event for ${s.uri} without valid version identifier`);const p=Ne.normalize(s.uri);let m=this._syncedDocuments.get(p);m!==void 0&&(m=this._configuration.update(m,c,d),this._syncedDocuments.set(p,m),this._onDidChangeContent.fire(Object.freeze({document:m})))})),a.push(n.onDidCloseTextDocument(l=>{const s=Ne.normalize(l.textDocument.uri),c=this._syncedDocuments.get(s);c!==void 0&&(this._syncedDocuments.delete(s),this._onDidClose.fire(Object.freeze({document:c})))})),a.push(n.onWillSaveTextDocument(l=>{const s=this._syncedDocuments.get(Ne.normalize(l.textDocument.uri));s!==void 0&&this._onWillSave.fire(Object.freeze({document:s,reason:l.reason}))})),a.push(n.onWillSaveTextDocumentWaitUntil((l,s)=>{const c=this._syncedDocuments.get(Ne.normalize(l.textDocument.uri));return c!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:c,reason:l.reason}),s):[]})),a.push(n.onDidSaveTextDocument(l=>{const s=this._syncedDocuments.get(Ne.normalize(l.textDocument.uri));s!==void 0&&this._onDidSave.fire(Object.freeze({document:s}))})),K.Disposable.create(()=>{a.forEach(l=>l.dispose())})}}class lR{constructor(n){this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new K.Emitter,this._onDidSave=new K.Emitter,this._onDidChange=new K.Emitter,this._onDidClose=new K.Emitter,"listen"in n?this._cellTextDocuments=n:this._cellTextDocuments=new Fy(n)}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(Ne.normalize(n))}getNotebookCell(n){const a=this.notebookCellMap.get(Ne.normalize(n));return a&&a[0]}findNotebookDocumentForCell(n){const a=typeof n=="string"||"scheme"in n?n:n.document,l=this.notebookCellMap.get(Ne.normalize(a));return l&&l[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const a=new La,l=[];return l.push(this.cellTextDocuments.listen(a)),l.push(n.notebooks.synchronization.onDidOpenNotebookDocument(s=>{const c=Ne.normalize(s.notebookDocument.uri);this.notebookDocuments.set(c,s.notebookDocument);for(const d of s.cellTextDocuments)a.openTextDocument({textDocument:d});this.updateCellMap(s.notebookDocument),this._onDidOpen.fire(s.notebookDocument)})),l.push(n.notebooks.synchronization.onDidChangeNotebookDocument(s=>{const c=Ne.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d===void 0)return;d.version=s.notebookDocument.version;const p=d.metadata;let m=!1;const y=s.change;y.metadata!==void 0&&(m=!0,d.metadata=y.metadata);const g=[],T=[],R=[],D=[];if(y.cells!==void 0){const j=y.cells;if(j.structure!==void 0){const P=j.structure.array;if(d.cells.splice(P.start,P.deleteCount,...P.cells!==void 0?P.cells:[]),j.structure.didOpen!==void 0)for(const W of j.structure.didOpen)a.openTextDocument({textDocument:W}),g.push(W.uri);if(j.structure.didClose)for(const W of j.structure.didClose)a.closeTextDocument({textDocument:W}),T.push(W.uri)}if(j.data!==void 0){const P=new Map(j.data.map(W=>[W.document,W]));for(let W=0;W<=d.cells.length;W++){const oe=P.get(d.cells[W].document);if(oe!==void 0){const ie=d.cells.splice(W,1,oe);if(R.push({old:ie[0],new:oe}),P.delete(oe.document),P.size===0)break}}}if(j.textContent!==void 0)for(const P of j.textContent)a.changeTextDocument({textDocument:P.document,contentChanges:P.changes}),D.push(P.document.uri)}this.updateCellMap(d);const U={notebookDocument:d};m&&(U.metadata={old:p,new:d.metadata});const B=[];for(const j of g)B.push(this.getNotebookCell(j));const L=[];for(const j of T)L.push(this.getNotebookCell(j));const F=[];for(const j of D)F.push(this.getNotebookCell(j));(B.length>0||L.length>0||R.length>0||F.length>0)&&(U.cells={added:B,removed:L,changed:{data:R,textContent:F}}),(U.metadata!==void 0||U.cells!==void 0)&&this._onDidChange.fire(U)})),l.push(n.notebooks.synchronization.onDidSaveNotebookDocument(s=>{const c=this.getNotebookDocument(s.notebookDocument.uri);c!==void 0&&this._onDidSave.fire(c)})),l.push(n.notebooks.synchronization.onDidCloseNotebookDocument(s=>{const c=Ne.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d!==void 0){this._onDidClose.fire(d);for(const p of s.cellTextDocuments)a.closeTextDocument({textDocument:p});this.notebookDocuments.delete(c);for(const p of d.cells)this.notebookCellMap.delete(p.document)}})),K.Disposable.create(()=>{l.forEach(s=>s.dispose())})}updateCellMap(n){for(const a of n.cells)this.notebookCellMap.set(a.document,[a,n])}}class La{onDidOpenTextDocument(n){return this.openHandler=n,K.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,K.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,K.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return La.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return La.NULL_DISPOSE}onDidSaveTextDocument(){return La.NULL_DISPOSE}}La.NULL_DISPOSE=Object.freeze({dispose:()=>{}});function Py(o){return ry.merge(nT(o),sR(o))}function sR(o){return{lsp:{CompletionProvider:n=>new jy(n),DocumentSymbolProvider:n=>new Kb(n),HoverProvider:n=>new Vb(n),FoldingRangeProvider:n=>new By(n),ReferencesProvider:n=>new rR(n),DefinitionProvider:n=>new Ky(n),DocumentHighlightProvider:n=>new jb(n),RenameProvider:n=>new aR(n)},shared:()=>o.shared}}function Yy(o){return ry.merge(tT(o),oR(o))}function oR(o){return{lsp:{Connection:()=>o.connection,LanguageServer:n=>new tR(n),DocumentUpdateHandler:n=>new Bb(n),WorkspaceSymbolProvider:n=>new iR(n),NodeKindProvider:()=>new nR,FuzzyMatcher:()=>new Fb},workspace:{TextDocuments:()=>new Fy(rT),NotebookDocuments:n=>new lR(n.workspace.TextDocuments)}}}class uR extends aT{constructor(n){super(n),this.langiumDocuments=n.shared.workspace.LangiumDocuments}getScope(n){const a=this.reflection.getReferenceType(n);return a===Im?this.getTypeScope(a,n):super.getScope(n)}getTypeScope(n,a){let l;const s=at(a.container).precomputedScopes,c=ay(a.container);if(s&&c){const p=s.get(c);p.length>0&&(l=ht(p).filter(m=>m.type===Jm||m.type===eh||m.type===Dc))}const d=this.getGlobalScope(n,a);return l?this.createScope(l,d):d}getGlobalScope(n,a){const l=We(a.container,dl);if(!l)return iT;const s=new Set;this.gatherImports(l,s);let c=this.indexManager.allElements(n,s);return n===Im&&(c=c.filter(d=>d.type===Jm||d.type===eh||d.type===Dc)),new lT(c)}gatherImports(n,a){for(const l of n.imports){const s=fg(l);if(s&&!a.has(s.toString())){a.add(s.toString());const c=this.langiumDocuments.getDocument(s);if(c){const d=c.parseResult.value;dl(d)&&this.gatherImports(d,a)}}}}}class cR extends sT{constructor(n){super(n),this.astNodeLocator=n.workspace.AstNodeLocator}exportNode(n,a,l){var s;if(super.exportNode(n,a,l),se(n)){if(!n.returnType&&!n.dataType){const c=(s=n.inferredType)!==null&&s!==void 0?s:n;a.push(this.createInferredTypeDescription(c,c.name,l))}hn(n).forEach(c=>{ot(c)&&c.inferredType&&a.push(this.createInferredTypeDescription(c.inferredType,c.inferredType.name,l))})}}processNode(n,a,l){iy(n)||(this.processTypeNode(n,a,l),this.processActionNode(n,a,l),super.processNode(n,a,l))}processTypeNode(n,a,l){var s;const c=n.$container;if(c&&se(n)&&!n.returnType&&!n.dataType){const d=(s=n.inferredType)!==null&&s!==void 0?s:n;l.add(c,this.createInferredTypeDescription(d,d.name,a))}}processActionNode(n,a,l){const s=ay(n);s&&ot(n)&&n.inferredType&&l.add(s,this.createInferredTypeDescription(n.inferredType,n.inferredType.name,a))}createInferredTypeDescription(n,a,l=at(n)){let s;const c=()=>{var d;return s??(s=jr((d=this.nameProvider.getNameNode(n))!==null&&d!==void 0?d:n.$cstNode))};return{node:n,name:a,get nameSegment(){return c()},selectionSegment:jr(n.$cstNode),type:Dc,documentUri:l.uri,path:this.astNodeLocator.getAstNodePath(n)}}}class fR extends jy{constructor(n){super(n),this.documents=()=>n.shared.workspace.LangiumDocuments}completionFor(n,a,l){const s=We(a.feature,pt);if(s?.feature==="path")this.completeImportPath(n,l);else return super.completionFor(n,a,l)}completeImportPath(n,a){const s=n.textDocument.getText().substring(n.tokenOffset,n.offset);let c=this.getAllFiles(n.document),d={start:n.position,end:n.position};if(s.length>0){const p=s.substring(1);c=c.filter(g=>g.startsWith(p));const m=n.textDocument.positionAt(n.tokenOffset+1),y=n.textDocument.positionAt(n.tokenEndOffset-1);d={start:m,end:y}}for(const p of c){const m=s.length>0?"":'"',y=`${m}${p}${m}`;a(n,{label:p,textEdit:{newText:y,range:d},kind:oT.File,sortText:"0"})}}getAllFiles(n){const a=this.documents().all,l=n.uri.toString(),s=Ne.dirname(n.uri).toString(),c=[];for(const d of a)if(!Ne.equals(d.uri,l)){const p=d.uri.toString(),m=p.substring(0,p.length-Ne.extname(d.uri).length);let y=Ne.relative(s,m);y.startsWith(".")||(y=`./${y}`),c.push(y)}return c}}class dR extends By{shouldProcessContent(n){return!se(n)}}class pR{constructor(){this.collector=()=>{}}getNodeFormatter(n){return new mR(n,this.collector)}formatDocument(n,a){const l=n.parseResult;return l.lexerErrors.length===0&&l.parserErrors.length===0?this.doDocumentFormat(n,a.options):[]}isFormatRangeErrorFree(n,a){const l=n.parseResult;return l.lexerErrors.length||l.parserErrors.length?Math.min(...l.lexerErrors.map(c=>{var d;return(d=c.line)!==null&&d!==void 0?d:Number.MAX_VALUE}),...l.parserErrors.map(c=>{var d;return(d=c.token.startLine)!==null&&d!==void 0?d:Number.MAX_VALUE}))>a.end.line:!0}formatDocumentRange(n,a){return this.isFormatRangeErrorFree(n,a.range)?this.doDocumentFormat(n,a.options,a.range):[]}formatDocumentOnType(n,a){const l={start:{character:0,line:a.position.line},end:a.position};return this.isFormatRangeErrorFree(n,l)?this.doDocumentFormat(n,a.options,l):[]}get formatOnTypeOptions(){}doDocumentFormat(n,a,l){const s=new Map,c=(p,m,y)=>{var g,T;const R=this.nodeModeToKey(p,m),D=s.get(R),U=(g=y.options.priority)!==null&&g!==void 0?g:0,B=(T=D?.options.priority)!==null&&T!==void 0?T:0;(!D||B<=U)&&s.set(R,y)};this.collector=c,this.iterateAstFormatting(n,l);const d=this.iterateCstFormatting(n,s,a,l);return this.avoidOverlappingEdits(n.textDocument,d)}avoidOverlappingEdits(n,a){const l=[];for(const s of a){let c=l[l.length-1];for(;c;){const d=n.offsetAt(s.range.start),p=n.offsetAt(c.range.end);if(d<p)l.pop(),c=l[l.length-1];else break}l.push(s)}return l.filter(s=>this.isNecessary(s,n))}iterateAstFormatting(n,a){const l=n.parseResult.value;this.format(l);const s=hn(l).iterator();let c;do if(c=s.next(),!c.done){const d=c.value;this.insideRange(d.$cstNode.range,a)?this.format(d):s.prune()}while(!c.done)}nodeModeToKey(n,a){return`${n.offset}:${n.end}:${a}`}insideRange(n,a){return!a||n.start.line<=a.start.line&&n.end.line>=a.end.line||n.start.line>=a.start.line&&n.end.line<=a.end.line||n.start.line<=a.end.line&&n.end.line>=a.end.line}isNecessary(n,a){return n.newText!==a.getText(n.range).replace(/\r/g,"")}iterateCstFormatting(n,a,l,s){const c={indentation:0,options:l,document:n.textDocument},d=[],m=this.iterateCstTree(n,c).iterator();let y,g;do if(g=m.next(),!g.done){const T=g.value,R=th(T),D=this.nodeModeToKey(T,"prepend"),U=a.get(D);if(a.delete(D),U){const F=this.createTextEdit(y,T,U,c);for(const j of F)j&&this.insideRange(j.range,s)&&d.push(j)}const B=this.nodeModeToKey(T,"append"),L=a.get(B);if(a.delete(B),L){const F=uT(T);if(F){const j=this.createTextEdit(T,F,L,c);for(const P of j)P&&this.insideRange(P.range,s)&&d.push(P)}}if(!U&&T.hidden){const F=this.createHiddenTextEdits(y,T,void 0,c);for(const j of F)j&&this.insideRange(j.range,s)&&d.push(j)}R&&(y=T)}while(!g.done);return d}createHiddenTextEdits(n,a,l,s){var c;const d=a.range.start.line;if(n&&n.range.end.line===d)return[];const p=[],m={start:{character:0,line:d},end:a.range.start},y=s.document.getText(m),g=this.findFittingMove(m,(c=l?.moves)!==null&&c!==void 0?c:[],s),T=this.getExistingIndentationCharacterCount(y,s),D=this.getIndentationCharacterCount(s,g)-T;if(D===0)return[];let U="";D>0&&(U=(s.options.insertSpaces?" ":"	").repeat(D));const B=a.text.split(`
`);B[0]=y+B[0];for(let L=0;L<B.length;L++){const F=d+L,j={character:0,line:F};if(D>0)p.push({newText:U,range:{start:j,end:j}});else{const P=B[L];let W=0;for(;W<P.length;W++){const oe=P.charAt(W);if(oe!==" "&&oe!=="	")break}p.push({newText:"",range:{start:j,end:{line:F,character:Math.min(W,Math.abs(D))}}})}}return p}getExistingIndentationCharacterCount(n,a){const l=" ".repeat(a.options.tabSize);return(a.options.insertSpaces?n.replaceAll("	",l):n.replaceAll(l,"	")).length}getIndentationCharacterCount(n,a){let l=n.indentation;return a&&a.tabs&&(l+=a.tabs),(n.options.insertSpaces?n.options.tabSize:1)*l}createTextEdit(n,a,l,s){var c;if(a.hidden)return this.createHiddenTextEdits(n,a,l,s);if(n&&(n.range.end.line>a.range.start.line||n.range.end.line===a.range.start.line&&n.range.end.character>a.range.start.character))return[];const d={start:(c=n?.range.end)!==null&&c!==void 0?c:{character:0,line:0},end:a.range.start},p=this.findFittingMove(d,l.moves,s);if(!p)return[];const m=p.characters,y=p.lines,g=p.tabs,T=s.indentation;s.indentation+=g??0;const R=[];return m!==void 0?n?.hidden||R.push(this.createSpaceTextEdit(d,m,l.options)):y!==void 0?R.push(this.createLineTextEdit(d,y,s,l.options)):g!==void 0&&R.push(this.createTabTextEdit(d,!!n,s)),th(a)&&(s.indentation=T),R}createSpaceTextEdit(n,a,l){if(n.start.line===n.end.line){const c=n.end.character-n.start.character;a=this.fitIntoOptions(a,c,l)}return{newText:" ".repeat(a),range:n}}createLineTextEdit(n,a,l,s){const c=n.end.line-n.start.line;a=this.fitIntoOptions(a,c,s);const p=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation);return{newText:`${`
`.repeat(a)}${p}`,range:n}}createTabTextEdit(n,a,l){const c=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation),d=a?1:0,p=Math.max(n.end.line-n.start.line,d);return{newText:`${`
`.repeat(p)}${c}`,range:n}}fitIntoOptions(n,a,l){return l.allowMore?n=Math.max(a,n):l.allowLess&&(n=Math.min(a,n)),n}findFittingMove(n,a,l){if(a.length===0)return;if(a.length===1)return a[0];const s=n.end.line-n.start.line;for(const c of a){if(c.lines!==void 0&&s<=c.lines)return c;if(c.lines===void 0&&s===0)return c}return a[a.length-1]}iterateCstTree(n,a){const s=n.parseResult.value.$cstNode;return s?new cT(s,c=>this.iterateCst(c,a)):nh}iterateCst(n,a){if(!fT(n))return nh;const l=a.indentation;return new dT(()=>({index:0}),s=>s.index<n.content.length?{done:!1,value:n.content[s.index++]}:(a.indentation=l,pT))}}class mR{constructor(n,a){this.astNode=n,this.collector=a}node(n){return new nn(n.$cstNode?[n.$cstNode]:[],this.collector)}nodes(...n){const a=[];for(const l of n)l.$cstNode&&a.push(l.$cstNode);return new nn(a,this.collector)}property(n,a){const l=Fr(this.astNode.$cstNode,n,a);return new nn(l?[l]:[],this.collector)}properties(...n){const a=[];for(const l of n){const s=ey(this.astNode.$cstNode,l);a.push(...s)}return new nn(a,this.collector)}keyword(n,a){const l=Lr(this.astNode.$cstNode,n,a);return new nn(l?[l]:[],this.collector)}keywords(...n){const a=[];for(const l of n){const s=ty(this.astNode.$cstNode,l);a.push(...s)}return new nn(a,this.collector)}cst(n){return new nn([...n],this.collector)}interior(n,a){const l=n.nodes,s=a.nodes;if(l.length!==1||s.length!==1)return new nn([],this.collector);let c=l[0],d=s[0];if(c.offset>d.offset){const p=c;c=d,d=p}return new nn(mT(c,d),this.collector)}}class nn{constructor(n,a){this.nodes=n,this.collector=a}prepend(n){for(const a of this.nodes)this.collector(a,"prepend",n);return this}append(n){for(const a of this.nodes)this.collector(a,"append",n);return this}surround(n){for(const a of this.nodes)this.collector(a,"prepend",n),this.collector(a,"append",n);return this}slice(n,a){return new nn(this.nodes.slice(n,a),this.collector)}}var te;(function(o){function n(...g){return{options:{},moves:g.flatMap(T=>T.moves).sort(y)}}o.fit=n;function a(g){return s(0,g)}o.noSpace=a;function l(g){return s(1,g)}o.oneSpace=l;function s(g,T){return{options:T??{},moves:[{characters:g}]}}o.spaces=s;function c(g){return d(1,g)}o.newLine=c;function d(g,T){return{options:T??{},moves:[{lines:g}]}}o.newLines=d;function p(g){return{options:g??{},moves:[{tabs:1,lines:1}]}}o.indent=p;function m(g){return{options:g??{},moves:[{tabs:0}]}}o.noIndent=m;function y(g,T){var R,D,U,B,L,F;const j=(R=g.lines)!==null&&R!==void 0?R:0,P=(D=T.lines)!==null&&D!==void 0?D:0,W=(U=g.tabs)!==null&&U!==void 0?U:0,oe=(B=T.tabs)!==null&&B!==void 0?B:0,ie=(L=g.characters)!==null&&L!==void 0?L:0,me=(F=T.characters)!==null&&F!==void 0?F:0;return j<P?-1:j>P?1:W<oe?-1:W>oe?1:ie<me?-1:ie>me?1:0}})(te||(te={}));const vc=te.fit(te.oneSpace(),te.indent());class hR extends pR{format(n){if(Ln(n))this.getNodeFormatter(n).properties("type","terminal").surround(te.noSpace());else if(se(n)){const a=this.getNodeFormatter(n);a.keywords("entry","fragment","returns").append(te.oneSpace()),(n.inferredType||n.returnType||n.dataType)&&n.parameters.length===0?a.property("name").append(te.oneSpace()):a.property("name").append(te.noSpace()),a.properties("parameters").append(te.noSpace()),a.keywords(",").append(te.oneSpace()),a.keywords("<").append(te.noSpace());const l=a.keyword(";"),s=a.keyword(":");s.prepend(te.noSpace()),a.interior(s,l).prepend(te.indent()),l.prepend(te.fit(te.noSpace(),te.newLine())),a.node(n).prepend(te.noIndent())}else if(rt(n)){const a=this.getNodeFormatter(n);n.type&&(a.property("name").append(te.oneSpace()),a.keyword("returns").append(te.oneSpace())),a.keywords("hidden","terminal","fragment").append(te.oneSpace()),a.keyword(":").prepend(te.noSpace()),a.keyword(";").prepend(te.fit(te.noSpace(),te.newLine())),a.node(n).prepend(te.noIndent())}else if(ot(n)){const a=this.getNodeFormatter(n);a.keyword("{").append(te.noSpace()),a.keywords(".","+=","=").surround(te.noSpace()),a.keyword("}").prepend(te.noSpace())}else if(hT(n))this.getNodeFormatter(n).keywords("infer","infers").append(te.oneSpace());else if(pt(n))this.getNodeFormatter(n).keywords("=","+=","?=").surround(te.noSpace());else if(Ye(n)){const a=this.getNodeFormatter(n);a.keyword("<").surround(te.noSpace()),a.keyword(",").append(te.oneSpace()),a.properties("arguments").append(te.noSpace())}else if(Yt(n)){const a=this.getNodeFormatter(n);a.keyword("interface").append(te.oneSpace()),a.keyword("extends").prepend(te.oneSpace()).append(vc),a.keywords(",").prepend(te.noSpace()).append(vc);const l=a.keyword("{");l.prepend(te.fit(te.oneSpace(),te.newLine()));const s=a.keyword("}");s.prepend(te.newLine()),a.interior(l,s).prepend(te.indent())}else if(ln(n)){const a=this.getNodeFormatter(n);a.keyword("type").append(te.oneSpace()),a.keyword("=").prepend(te.oneSpace()).append(vc),a.keyword(";").prepend(te.noSpace()).append(te.newLine())}else if(dl(n)){const a=this.getNodeFormatter(n);a.nodes(...n.rules,...n.interfaces,...n.types,...n.imports).prepend(te.noIndent()),a.keyword("grammar").prepend(te.noSpace()).append(te.oneSpace())}Ks(n)&&this.getNodeFormatter(n).property("cardinality").prepend(te.noSpace())}}class yR extends Jb{highlightElement(n,a){var l;pt(n)?a({node:n,property:"feature",type:K.SemanticTokenTypes.property}):ot(n)?n.feature&&a({node:n,property:"feature",type:K.SemanticTokenTypes.property}):iy(n)?a({node:n,property:"name",type:K.SemanticTokenTypes.type}):Yr(n)?(n.primitiveType||n.typeRef)&&a({node:n,property:n.primitiveType?"primitiveType":"typeRef",type:K.SemanticTokenTypes.type}):yT(n)?a({node:n,property:"name",type:K.SemanticTokenTypes.parameter}):ly(n)?a({node:n,property:"parameter",type:K.SemanticTokenTypes.parameter}):Ye(n)?!((l=n.rule.ref)===null||l===void 0)&&l.fragment&&a({node:n,property:"rule",type:K.SemanticTokenTypes.type}):sy(n)&&a({node:n,property:"name",type:K.SemanticTokenTypes.property})}}class gR extends gT{getName(n){return pt(n)?n.feature:super.getName(n)}getNameNode(n){return pt(n)?Fr(n.$cstNode,"feature"):super.getNameNode(n)}}function hr(o){return"referenceType"in o}function Gn(o){return"elementType"in o}function Ie(o){return"types"in o}function Qy(o){if(Ie(o)){const n=[];for(const a of o.types)n.push(...Qy(a));return n}else return[o]}function Pt(o){return"value"in o}function $t(o){return"primitive"in o}function an(o){return"string"in o}function Hn(o){return o&&"type"in o}function yn(o){return o&&"properties"in o}class vR{constructor(n,a){var l;this.superTypes=new Set,this.subTypes=new Set,this.typeNames=new Set,this.name=n,this.declared=(l=a?.declared)!==null&&l!==void 0?l:!1,this.dataType=a?.dataType,this.comment=a?.comment}toAstTypesString(n){const a=ja`${this.comment}`.appendNewLineIfNotEmpty().append(`export type ${this.name} = ${Qt(this.type,"AstType")};`).appendNewLine();return n&&a.appendNewLine().append(Xy(this.name)),this.dataType&&a.appendNewLine().append(TR(this)),$c(a)}toDeclaredTypesString(n){return TT`
            type ${ef(this.name,n)} = ${Qt(this.type,"DeclaredType")};
        `}}class Ws{get superProperties(){return this.getSuperProperties(new Set)}getSuperProperties(n){if(n.has(this.name))return[];n.add(this.name);const a=new Map;for(const l of this.properties)a.set(l.name,l);for(const l of this.interfaceSuperTypes){const s=l.getSuperProperties(n);for(const c of s)a.has(c.name)||a.set(c.name,c)}return Array.from(a.values())}get allProperties(){const n=new Map(this.superProperties.map(l=>[l.name,l]));for(const l of this.subTypes)this.getSubTypeProperties(l,n,new Set);return Array.from(n.values())}getSubTypeProperties(n,a,l){if(l.has(this.name))return;l.add(this.name);const s=yn(n)?n.properties:[];for(const c of s)a.has(c.name)||a.set(c.name,c);for(const c of n.subTypes)this.getSubTypeProperties(c,a,l)}get interfaceSuperTypes(){return Array.from(this.superTypes).filter(n=>n instanceof Ws)}constructor(n,a,l,s){this.superTypes=new Set,this.subTypes=new Set,this.containerTypes=new Set,this.typeNames=new Set,this.declared=!1,this.abstract=!1,this.properties=[],this.name=n,this.declared=a,this.abstract=l,this.comment=s}toAstTypesString(n){const a=this.interfaceSuperTypes.map(c=>c.name),l=a.length>0?Ua([...a]):["langium.AstNode"],s=ja`${this.comment}`.appendNewLineIfNotEmpty().append(`export interface ${this.name} extends ${l.join(", ")} {`).appendNewLine();return s.indent(c=>{this.containerTypes.size>0&&c.append(`readonly $container: ${Ua([...this.containerTypes].map(d=>d.name)).join(" | ")};`).appendNewLine(),this.typeNames.size>0&&c.append(`readonly $type: ${Ua([...this.typeNames]).map(d=>`'${d}'`).join(" | ")};`).appendNewLine(),c.append(Lh(this.properties,"AstType"))}),s.append("}").appendNewLine(),n&&s.appendNewLine().append(Xy(this.name)),$c(s)}toDeclaredTypesString(n){const a=ef(this.name,n),l=Ua(this.interfaceSuperTypes.map(s=>s.name)).join(", ");return $c(ja`
                interface ${a}${l.length>0?` extends ${l}`:""} {
                    ${Lh(this.properties,"DeclaredType",n)}
                }
            `.appendNewLine())}}function pl(o,n){return zn(o,n,new Map)}function zn(o,n,a){if(o){if(!n)return!1}else return!0;const l=`${cl(o)}»${cl(n)}`;let s=a.get(l);if(s!==void 0)return s;if(a.set(l,!1),s=!1,Ie(o))s=o.types.every(c=>zn(c,n,a));else if(Ie(n))s=n.types.some(c=>zn(o,c,a));else if(Pt(n)&&Hn(n.value))Pt(o)&&Hn(o.value)&&n.value.name===o.value.name?s=!0:s=zn(o,n.value.type,a);else if(hr(o))s=hr(n)&&zn(o.referenceType,n.referenceType,a);else if(Gn(o))s=Gn(n)&&zn(o.elementType,n.elementType,a);else if(Pt(o))if(Hn(o.value)){if(o.value.dataType){const c={primitive:o.value.dataType};s=zn(c,n,a)}s||(s=zn(o.value.type,n,a))}else Pt(n)?Hn(n.value)?s=zn(o,n.value.type,a):s=Vy(o.value,n.value,new Set):s=!1;else $t(o)?s=$t(n)&&o.primitive===n.primitive:an(o)&&(s=$t(n)&&n.primitive==="string"||an(n)&&n.string===o.string);return s&&a.set(l,s),s}function Vy(o,n,a){const l=o.name;if(a.has(l))return!1;if(a.add(l),o.name===n.name)return!0;for(const s of o.superTypes)if(yn(s)&&Vy(s,n,a))return!0;return!1}function cl(o){if(hr(o))return`@(${cl(o.referenceType)})}`;if(Gn(o))return o.elementType?`(${cl(o.elementType)})[]`:"unknown[]";if(Ie(o)){const n=o.types.map(a=>cl(a)).join(" | ");return o.types.length<=1?`Union<${n}>`:n}else{if(Pt(o))return`Value<${o.value.name}>`;if($t(o))return o.primitive;if(an(o))return`'${o.string}'`}throw new Error("Invalid type")}function Qt(o,n="AstType"){if(!o)return"unknown";if(hr(o)){const a=Qt(o.referenceType,n);return n==="AstType"?`langium.Reference<${a}>`:`@${Tc(o.referenceType,a)}`}else if(Gn(o)){const a=Qt(o.elementType,n);return n==="AstType"?`Array<${a}>`:`${o.elementType?Tc(o.elementType,a):"unknown"}[]`}else if(Ie(o)){const a=o.types.map(l=>Tc(l,Qt(l,n)));return Ua(a).join(" | ")}else{if(Pt(o))return o.value.name;if($t(o))return o.primitive;if(an(o)){const a=n==="AstType"?"'":'"';return`${a}${AR(o.string,a)}${a}`}}throw new Error("Invalid type")}function Tc(o,n){return Ie(o)&&(n=`(${n})`),n}function Lh(o,n,a=new Set){function l(s){const c=n==="AstType"?s.name:ef(s.name,a),d=s.optional&&!Jc(s.type),p=Qt(s.type,n);return ja`${s.comment}`.appendNewLineIfNotEmpty().append(`${c}${d?"?":""}: ${p};`)}return vT(Ua(o,(s,c)=>s.name.localeCompare(c.name)),l,{appendNewLineIfNotEmpty:!0})}function Jc(o){return Gn(o)?!0:hr(o)?!1:Ie(o)?o.types.every(n=>Jc(n)):$t(o)?o.primitive==="boolean":!1}function Xy(o){return ja`
        export const ${o} = '${o}';

        export function is${o}(item: unknown): item is ${o} {
            return reflection.isInstance(item, ${o});
        }
    `.appendNewLine()}function TR(o){switch(o.dataType){case"string":if(Cc(o.type)){const n=Array.from(o.subTypes).map(s=>s.name),a=Zy(o.type),l=Wy(o.type);if(n.length===0&&a.length===0&&l.length===0)return Us(o.name,`typeof item === '${o.dataType}'`);{const s=bR(n,a,l);return Us(o.name,s)}}return;case"number":case"boolean":case"bigint":return Us(o.name,`typeof item === '${o.dataType}'`);case"Date":return Us(o.name,"item instanceof Date");default:return}}function Cc(o){let n=!0;if($t(o))return o.primitive==="string";if(an(o))return!0;if(Ie(o)){for(const a of o.types)if(Pt(a))if(Hn(a.value)){if(!Cc(a.value.type))return!1}else return!1;else if($t(a)){if(a.primitive!=="string"||!a.regex)return!1}else if(Ie(a))n=Cc(a);else if(!an(a))return!1}else return!1;return n}function bR(o,n,a){const l=[...o.map(s=>`is${s}(item)`),...n.map(s=>`item === '${s}'`)];if(a.length>0){const s=a.map(c=>`${c}.test(item)`).join(" || ");l.push(`(typeof item === 'string' && (${s}))`)}return l.join(" || ")}function ef(o,n){return n.has(o)?`^${o}`:o}function Zy(o){const n=[];if(an(o))return[o.string];if(Ie(o))for(const a of o.types)an(a)?n.push(a.string):Ie(a)&&n.push(...Zy(a));return n}function Wy(o){const n=[];if($t(o)&&o.primitive==="string"&&o.regex&&n.push(o.regex),Ie(o))for(const a of o.types)$t(a)&&a.primitive==="string"&&a.regex?n.push(a.regex):Ie(a)&&n.push(...Wy(a));return n}function Us(o,n){return ja`
        export function is${o}(item: unknown): item is ${o} {
            return ${n};
        }
    `.appendNewLine()}function Ua(o,n){return Array.from(new Set(o)).sort(n)}function Iy(o,n,a,l){const s=new Set;s.add(o);const c=n.findReferences(o,{});for(const d of c){const p=a.getDocument(d.sourceUri);if(!p)continue;const m=l.getAstNode(p.parseResult.value,d.sourcePath);Yt(m)?(s.add(m),Iy(m,n,a,l).forEach(g=>s.add(g))):m&&ln(m.$container)&&s.add(m.$container)}return s}function RR(o){const n=new Set(o),a=new Ze,l=new Ze;for(const d of n){for(const p of d.superTypes)n.has(p)&&(a.add(d.name,p.name),l.add(p.name,d.name));for(const p of d.subTypes)n.has(p)&&(a.add(p.name,d.name),l.add(d.name,p.name))}const s=new Ze,c=new Ze;for(const[d,p]of Array.from(a.entriesGroupedByKey()).sort(([m],[y])=>m.localeCompare(y)))s.addAll(d,Array.from(new Set(p)));for(const[d,p]of Array.from(l.entriesGroupedByKey()).sort(([m],[y])=>m.localeCompare(y)))c.addAll(d,Array.from(new Set(p)));return{superTypes:s,subTypes:c}}function Ys(o){const n=new Set;if(Yt(o))n.add(o),o.superTypes.forEach(a=>{if(Yt(a.ref)){n.add(a.ref);const l=Ys(a.ref);for(const s of l)n.add(s)}});else if(ln(o)){const a=Jy(o.type);for(const l of a){const s=Ys(l);for(const c of s)n.add(c)}}return n}function Jy(o){var n;if(Ba(o))return o.types.flatMap(a=>Jy(a));if(Yr(o)){const a=(n=o.typeRef)===null||n===void 0?void 0:n.ref;if(ln(a)||Yt(a))return[a]}return[]}function Gh(o,n){return o.interfaces.concat(n.interfaces)}function _c(o){return o.interfaces.concat(o.unions)}function SR(o){const n=o.sort((s,c)=>s.name.localeCompare(c.name)).map(s=>({value:s,nodes:[]}));for(const s of n)s.nodes=n.filter(c=>s.value.superTypes.has(c.value.name));const a=[],l=n.filter(s=>s.nodes.length===0);for(;l.length>0;){const s=l.shift();a.includes(s)||(a.push(s),n.filter(c=>c.nodes.includes(s)).forEach(c=>l.push(c)))}return a.map(s=>s.value)}function eg(o){return Ie(o)?o.types.some(n=>eg(n)):$t(o)?o.primitive==="boolean":!1}function wc(o){if(Ie(o))return o.types.flatMap(n=>wc(n));if(hr(o)){const n=o.referenceType;if(Pt(n))return[n.value.name]}else if(Gn(o))return o.elementType?wc(o.elementType):[];return[]}function DR(o){return js(o,new Set)}function js(o,n){if(n.has(o))return[];if(n.add(o),Ie(o))return o.types.flatMap(a=>js(a,n));if(Pt(o)){const a=o.value;return"type"in a?js(a.type,n):[a.name]}else if(Gn(o))return o.elementType?js(o.elementType,n):[];return[]}function $R(o){return Nc(o,new Map)}function Nc(o,n){if(n.has(o))return n.get(o);n.set(o,!0);let a=!1;if(Ie(o))a=o.types.every(l=>Nc(l,n));else if(Pt(o)){const l=o.value;"type"in l?a=Nc(l.type,n):a=!0}return n.set(o,a),a}function AR(o,n='"'){return n==='"'?o.replace(/"/g,'\\"'):o.replace(/'/g,"\\'")}class CR extends bT{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}findDeclaration(n){const a=n.astNode,l=oy(n);if(l&&l.feature==="feature"){if(pt(a))return this.findAssignmentDeclaration(a);if(ot(a))return this.findActionDeclaration(a)}return super.findDeclaration(n)}findReferences(n,a){var l;return sy(n)?this.findReferencesToTypeAttribute(n,(l=a.includeDeclaration)!==null&&l!==void 0?l:!1):super.findReferences(n,a)}findReferencesToTypeAttribute(n,a){const l=[],s=We(n,Yt);if(s){if(a){const p=this.getReferenceToSelf(n);p&&l.push(p)}const c=Iy(s,this,this.documents,this.nodeLocator),d=[];c.forEach(p=>{const m=this.findRulesWithReturnType(p);d.push(...m)}),d.forEach(p=>{const m=this.createReferencesToAttribute(p,n);l.push(...m)})}return ht(l)}createReferencesToAttribute(n,a){const l=[];if(se(n)){const s=Vs(n.definition).find(c=>c.feature===a.name);if(s?.$cstNode){const c=this.nameProvider.getNameNode(s);c&&l.push({sourceUri:at(s).uri,sourcePath:this.nodeLocator.getAstNodePath(s),targetUri:at(a).uri,targetPath:this.nodeLocator.getAstNodePath(a),segment:jr(c),local:Ne.equals(at(s).uri,at(a).uri)})}}else{if(n.feature===a.name){const c=Fr(n.$cstNode,"feature");c&&l.push({sourceUri:at(n).uri,sourcePath:this.nodeLocator.getAstNodePath(n),targetUri:at(a).uri,targetPath:this.nodeLocator.getAstNodePath(a),segment:jr(c),local:Ne.equals(at(n).uri,at(a).uri)})}const s=We(n,se);l.push(...this.createReferencesToAttribute(s,a))}return l}findAssignmentDeclaration(n){var a;const l=We(n,se),s=RT(n);if(s){const c=this.findActionDeclaration(s,n.feature);if(c)return c}if(!((a=l?.returnType)===null||a===void 0)&&a.ref&&(Yt(l.returnType.ref)||ln(l.returnType.ref))){const c=Ys(l.returnType.ref);for(const d of c){const p=d.attributes.find(m=>m.name===n.feature);if(p)return p}}return n}findActionDeclaration(n,a){var l;if(!((l=n.type)===null||l===void 0)&&l.ref){const s=a??n.feature,c=Ys(n.type.ref);for(const d of c){const p=d.attributes.find(m=>m.name===s);if(p)return p}}}findRulesWithReturnType(n){const a=[],l=this.index.findAllReferences(n,this.nodeLocator.getAstNodePath(n));for(const s of l){const c=this.documents.getDocument(s.sourceUri);if(c){const d=this.nodeLocator.getAstNode(c.parseResult.value,s.sourcePath);(se(d)||ot(d))&&a.push(d)}}return a}}class _R extends Ky{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}collectLocationLinks(n,a){var l,s,c,d,p,m;if(uy(n.astNode)&&((l=oy(n))===null||l===void 0?void 0:l.feature)==="path"){const g=Ka(this.documents,n.astNode);if(g?.$document){const T=(s=this.findTargetObject(g))!==null&&s!==void 0?s:g,R=(d=(c=this.nameProvider.getNameNode(T))===null||c===void 0?void 0:c.range)!==null&&d!==void 0?d:K.Range.create(0,0,0,0),D=(m=(p=T.$cstNode)===null||p===void 0?void 0:p.range)!==null&&m!==void 0?m:K.Range.create(0,0,0,0);return[K.LocationLink.create(g.$document.uri.toString(),D,R,n.range)]}return}return super.collectLocationLinks(n,a)}findTargetObject(n){return n.isDeclared?n:Ih(n).head()}}function ml(o){return"referenceType"in o}function Qs(o){return"elementType"in o}function tg(o){return"types"in o}function kc(o){return"value"in o}function xc(o){return"primitive"in o}function wR(o){return"string"in o}function NR(o){const n=new Map,a=new Map;for(const l of o.interfaces){const s=new Ws(l.name,l.declared,l.abstract,l.comment);n.set(l.name,s)}for(const l of o.unions){const s=new vR(l.name,{declared:l.declared,dataType:l.dataType,comment:l.comment});a.set(l.name,s)}for(const l of o.interfaces){const s=n.get(l.name);for(const c of l.superTypes){const d=n.get(c)||a.get(c);d&&s.superTypes.add(d)}for(const c of l.subTypes){const d=n.get(c)||a.get(c);d&&s.subTypes.add(d)}for(const c of l.properties){const d=kR(c,n,a);s.properties.push(d)}}for(const l of o.unions){const s=a.get(l.name);s.type=fl(l.type,s,n,a)}return{interfaces:Array.from(n.values()),unions:Array.from(a.values())}}function kR(o,n,a){const l={name:o.name,optional:o.optional,astNodes:o.astNodes,type:fl(o.type,void 0,n,a),comment:o.comment};return o.defaultValue!==void 0?l.defaultValue=o.defaultValue:eg(l.type)?l.defaultValue=!1:Gn(l.type)&&(l.defaultValue=[]),l}function fl(o,n,a,l){if(Qs(o))return{elementType:fl(o.elementType,n,a,l)};if(ml(o))return{referenceType:fl(o.referenceType,void 0,a,l)};if(tg(o))return{types:o.types.map(s=>fl(s,n,a,l))};if(wR(o))return{string:o.string};if(xc(o))return{primitive:o.primitive,regex:o.regex};if(kc(o)){const s=a.get(o.value)||l.get(o.value);return s?(n&&n.subTypes.add(s),{value:s}):{primitive:"unknown"}}else throw new Error("Invalid property type")}function ng(o,n){const{union:a,array:l}=hl(o),{union:s,array:c}=hl(n),d=jh(a,s),p=jh(l,c);return p.length>0&&d.push({elementType:p.length===1?p[0]:{types:p}}),d.length===1?d[0]:{types:d}}function jh(o,n){const a=[...o];for(const l of n)xR(a,l)||a.push(l);return a}function xR(o,n){return o.some(a=>Ec(a,n))}function Ec(o,n){return Qs(o)&&Qs(n)?Ec(o.elementType,n.elementType):ml(o)&&ml(n)?Ec(o.referenceType,n.referenceType):kc(o)&&kc(n)?o.value===n.value:xc(o)&&xc(n)?o.primitive===n.primitive:!1}function hl(o){if(tg(o)){const n=o.types.flatMap(a=>hl(a));return{union:n.map(a=>a.union).flat(),array:n.map(a=>a.array).flat()}}else return Qs(o)?{array:hl(o.elementType).union,union:[]}:{array:[],union:[o]}}class ER{constructor(n,a){this.context=n,this.root=a}getTypes(){return this.iterate(this.root,[{alt:{name:this.root.name,properties:this.root.properties,ruleCalls:this.root.ruleCalls,super:[]},current:this.root,next:this.root.children}])}iterate(n,a){const l=a.filter(s=>s.next.length===0);do{const s=this.recurse(n,a),c=[];for(const d of s)d.next.length>0?c.push(d):l.push(d);a=c}while(a.length>0);return l}recurse(n,a,l){var s;const c=[];for(const m of a){const y=m.current;if(y!==l&&y.children.length>0){const g=this.applyNext(n,m),T=this.recurse(n,g,(s=y.end)!==null&&s!==void 0?s:l);c.push(...T)}else c.push(m)}const d=new Ze;for(const m of c)d.add(m.current,m);const p=[];for(const[m,y]of d.entriesGroupedByKey())p.push(...tf(y,m));return p}applyNext(n,a){const l=this.splitType(a.alt,a.next.length),s=[];for(let c=0;c<a.next.length;c++){const d=l[c],p=a.next[c];p.actionWithAssignment&&s.push({alt:Kh(d),current:p,next:[],comment:d.comment}),p.name!==void 0&&p.name!==d.name&&(p.actionWithAssignment?(d.properties=[],d.ruleCalls=[],d.super=[n.name],d.name=p.name):(d.super=[d.name,...d.ruleCalls],d.properties=[],d.ruleCalls=[],d.name=p.name)),d.properties.push(...p.properties),d.ruleCalls.push(...p.ruleCalls);const m={alt:d,current:p,next:p.children,comment:d.comment};m.alt.super=m.alt.super.filter(y=>y!==m.alt.name),s.push(m)}return s}splitType(n,a){const l=[];for(let s=0;s<a;s++)l.push(Kh(n));return l}getSuperTypes(n){const a=new Set;return this.collectSuperTypes(n,n,a),Array.from(a)}collectSuperTypes(n,a,l){if(a.ruleCalls.length>0){for(const s of a.ruleCalls)l.add(s);return}for(const s of a.parents)n.name===void 0?this.collectSuperTypes(s,s,l):s.name!==void 0&&s.name!==n.name?l.add(s.name):this.collectSuperTypes(n,s,l);a.parents.length===0&&a.name&&l.add(a.name)}connect(n,a){return a.parents.push(n),n.children.push(a),a}merge(...n){if(n.length===1)return n[0];if(n.length===0)throw new Error("No parts to merge");const a=dr();a.parents=n;for(const l of n)l.children.push(a);return a}hasLeafNode(n){return this.partHasLeafNode(n)}partHasLeafNode(n,a){return n.children.some(l=>l!==a)?!0:n.name?!1:n.parents.some(l=>this.partHasLeafNode(l,n))}}function MR(o){return{name:o.name,children:[],parents:[],actionWithAssignment:o.actionWithAssignment,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(rg)}}function Kh(o){return{name:o.name,super:o.super,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(n=>rg(n)),comment:o.comment}}function rg(o){return{name:o.name,optional:o.optional,type:o.type,astNodes:o.astNodes,comment:o.comment}}function OR(o,n,a,l){const s=l?.documentation.CommentProvider,c=[],d={fragments:new Map};for(const g of o){const T=s?.getComment(g);c.push(...ag(d,g,l).map(R=>Object.assign(Object.assign({},R),{comment:T})))}const p=GR(c),m=jR(p),y=KR(p,m,a);for(const g of n){const T=zR(g);y.unions.push({name:g.name,declared:!1,type:T,subTypes:new Set,superTypes:new Set,dataType:g.dataType,comment:s?.getComment(g)})}return y}function zR(o){if(o.dataType&&o.dataType!=="string")return{primitive:o.dataType};let n=!1;const a=()=>(n=!0,{primitive:"unknown"}),l=Mc(o.definition,a);return n?{primitive:"string"}:l}function Mc(o,n){var a,l,s;if(o.cardinality)return n();if(Xt(o))return{types:o.elements.map(c=>Mc(c,n))};if(Vt(o)||mr(o))return o.elements.length!==1?n():Mc(o.elements[0],n);if(Ye(o)){const c=(a=o.rule)===null||a===void 0?void 0:a.ref;if(c)if(rt(c)){let d;try{d=gl(c).toString()}catch{d=void 0}return{primitive:(s=(l=c.type)===null||l===void 0?void 0:l.name)!==null&&s!==void 0?s:"string",regex:d}}else return{value:c.name};else return n()}else if(rn(o))return{string:o.value};return n()}function ag(o,n,a){var l;const s=dr(n),c=new ER(o,s);return n.definition&&(s.end=Oc(c,c.root,n.definition,a)),tf(c.getTypes(),(l=s.end)!==null&&l!==void 0?l:dr())}function dr(o){return{name:se(o)||ot(o)?Br(o):o,properties:[],ruleCalls:[],children:[],parents:[],actionWithAssignment:!1}}function Oc(o,n,a,l){const s=qn(a.cardinality,a);if(Xt(a)){const c=[];s&&c.push(o.connect(n,dr()));for(const p of a.elements){const m=o.connect(n,dr());c.push(Oc(o,m,p,l))}const d=o.merge(...c);return n.end=d,d}else if(Vt(a)||mr(a)){let c=o.connect(n,dr()),d;s&&(d=o.connect(n,dr()));for(const p of a.elements)c=Oc(o,c,p,l);if(d){const p=o.merge(d,c);return n.end=p,p}else return c}else{if(ot(a))return HR(o,n,a,l);pt(a)?UR(n,a,l):Ye(a)&&qR(o,n,a,l)}return n}function HR(o,n,a,l){var s;const c=l?.documentation.CommentProvider;if(!o.hasLeafNode(n)){const p=MR(n);o.connect(n,p)}const d=o.connect(n,dr(a));if(a.type){const p=(s=a.type)===null||s===void 0?void 0:s.ref;p&&ny(p)&&(d.name=p.name)}return a.feature&&a.operator&&(d.actionWithAssignment=!0,d.properties.push({name:a.feature,optional:!1,type:Kr(a.operator==="+=",!1,o.root.ruleCalls.length!==0?o.root.ruleCalls:o.getSuperTypes(d)),astNodes:new Set([a]),comment:c?.getComment(a)})),d}function UR(o,n,a){const l=a?.documentation.CommentProvider,s={types:new Set,reference:!1};ig(n.terminal,s);const c=Kr(n.operator==="+=",s.reference,n.operator==="?="?["boolean"]:Array.from(s.types));o.properties.push({name:n.feature,optional:qn(n.cardinality),type:c,astNodes:new Set([n]),comment:l?.getComment(n)})}function ig(o,n){if(Xt(o)||mr(o)||Vt(o))for(const a of o.elements)ig(a,n);else if(rn(o))n.types.add(`'${o.value}'`);else if(Ye(o)&&o.rule.ref)n.types.add(Kc(o.rule.ref));else if(Ln(o)&&o.type.ref){const a=Br(o.type.ref);a&&n.types.add(a),n.reference=!0}}function qR(o,n,a,l){const s=a.rule.ref;if(se(s)&&s.fragment){const c=LR(s,o.context,l);qn(a.cardinality)?n.properties.push(...c.map(d=>Object.assign(Object.assign({},d),{optional:!0}))):n.properties.push(...c)}else se(s)&&n.ruleCalls.push(Kc(s))}function LR(o,n,a){const l=n.fragments.get(o);if(l)return l;const s=[];n.fragments.set(o,s);const c=Br(o),d=ag(n,o,a).filter(p=>p.alt.name===c);return s.push(...d.flatMap(p=>p.alt.properties)),s}function GR(o){const n=new Map,a=[],l=o.length>0?tf(o,o[0].current).map(s=>s.alt):[];for(const s of l){const c={name:s.name,properties:s.properties,superTypes:new Set(s.super),subTypes:new Set,declared:!1,abstract:!1,comment:s.comment};n.set(c.name,c),s.ruleCalls.length>0&&(a.push(s),s.ruleCalls.forEach(d=>{d!==c.name&&c.subTypes.add(d)}))}for(const s of a)for(const c of s.ruleCalls){const d=n.get(c);d&&d.name!==s.name&&d.superTypes.add(s.name)}return Array.from(n.values())}function tf(o,n){var a,l,s;const c=o.reduce((p,m)=>p.add(m.alt.name,m),new Ze),d=[];for(const[p,m]of c.entriesGroupedByKey()){const y=[],g=new Set,T={alt:{name:p,properties:y,ruleCalls:[],super:[]},next:[],current:n};for(const R of m){const D=R.alt;(a=T.comment)!==null&&a!==void 0||(T.comment=R.comment),(l=(s=T.alt).comment)!==null&&l!==void 0||(s.comment=R.comment),T.alt.super.push(...D.super),T.next.push(...R.next);const U=D.properties;for(const B of U){const L=y.find(F=>F.name===B.name);L?(L.type=ng(L.type,B.type),B.astNodes.forEach(F=>L.astNodes.add(F))):y.push(Object.assign({},B))}D.ruleCalls.forEach(B=>g.add(B))}for(const R of m){T.next=Array.from(new Set(T.next));const D=R.alt;if(D.ruleCalls.length===0)for(const U of y)D.properties.find(B=>B.name===U.name)||(U.optional=!0)}T.alt.ruleCalls=Array.from(g),d.push(T)}return d}function jR(o){const n=new Map(o.map(s=>[s.name,s])),a=[],l=new Ze;for(const s of o)for(const c of s.superTypes)l.add(c,s.name);for(const[s,c]of l.entriesGroupedByKey())if(!n.has(s)){const d={declared:!1,name:s,subTypes:new Set,superTypes:new Set,type:Kr(!1,!1,c)};a.push(d)}return a}function KR(o,n,a){const l=new Ze;for(const p of o)for(const m of p.superTypes)l.add(m,p.name);const s=new Set(a.interfaces.map(p=>p.name)),c={interfaces:[],unions:n},d=new Map(n.map(p=>[p.name,p]));for(const p of o){const m=new Set(l.get(p.name));if(p.properties.length===0&&m.size>0)if(s.has(p.name))p.abstract=!0,c.interfaces.push(p);else{const y=Kr(!1,!1,Array.from(m)),g=d.get(p.name);if(g)g.type=ng(g.type,y);else{const T={name:p.name,declared:!1,subTypes:m,superTypes:p.superTypes,type:y,comment:p.comment};c.unions.push(T),d.set(p.name,T)}}else c.interfaces.push(p)}for(const p of c.interfaces)p.superTypes=new Set([...p.superTypes].filter(m=>!d.has(m)));return c}function Kr(o,n,a){if(o)return{elementType:Kr(!1,n,a)};if(n)return{referenceType:Kr(!1,!1,a)};if(a.length===1){const l=a[0];return l.startsWith("'")?{string:l.substring(1,l.length-1)}:nf(l)?{primitive:l}:{value:l}}else return{types:a.map(l=>Kr(!1,!1,[l]))}}function BR(o,n,a){const l=a?.documentation.CommentProvider,s={unions:[],interfaces:[]};for(const c of o){const d=[];for(const y of c.attributes){const g={name:y.name,optional:y.isOptional,astNodes:new Set([y]),type:Ga(y.type),comment:l?.getComment(y)};y.defaultValue&&(g.defaultValue=lg(y.defaultValue)),d.push(g)}const p=new Set;for(const y of c.superTypes)y.ref&&p.add(jc(y.ref));const m={name:c.name,declared:!0,abstract:!1,properties:d,superTypes:p,subTypes:new Set,comment:l?.getComment(c)};s.interfaces.push(m)}for(const c of n){const d={name:c.name,declared:!0,type:Ga(c.type),superTypes:new Set,subTypes:new Set,comment:l?.getComment(c)};s.unions.push(d)}return s}function lg(o){return cy(o)?o.true:fy(o)?o.elements.map(lg):o.value}function Ga(o){if(Bc(o))return{elementType:Ga(o.elementType)};if(Fc(o))return{referenceType:Ga(o.referenceType)};if(Ba(o))return{types:o.types.map(Ga)};if(Yr(o)){let n;if(o.primitiveType)return n=o.primitiveType,{primitive:n};if(o.stringType)return n=o.stringType,{string:n};if(o.typeRef){const a=o.typeRef.ref,l=Br(a);if(l)return nf(l)?{primitive:l}:{value:l}}}return{primitive:"unknown"}}function sg(o,n){const a=og(o,void 0,void 0,n),l=BR(a.interfaces,a.types,n),s=OR(a.parserRules,a.datatypeRules,l,n);return{astResources:a,inferred:s,declared:l}}function og(o,n=new Set,a={parserRules:[],datatypeRules:[],interfaces:[],types:[]},l){Array.isArray(o)||(o=[o]);for(const s of o){const c=at(s);if(n.has(c.uri))continue;n.add(c.uri);for(const p of s.rules)se(p)&&!p.fragment&&(On(p)?a.datatypeRules.push(p):a.parserRules.push(p));s.interfaces.forEach(p=>a.interfaces.push(p)),s.types.forEach(p=>a.types.push(p));const d=l?.shared.workspace.LangiumDocuments;if(d){const p=s.imports.map(m=>Ka(d,m)).filter(m=>m!==void 0);og(p,n,a,l)}}return a}function FR(o,n){const{inferred:a,declared:l}=sg(o,n);return zc(a,l)}function PR(o,n){const{inferred:a,declared:l,astResources:s}=sg(o,n);return{astResources:s,inferred:zc(l,a),declared:zc(a,l)}}function zc(o,n){var a,l;const s={interfaces:SR(Bh(...o.interfaces,...(a=n?.interfaces)!==null&&a!==void 0?a:[])),unions:Bh(...o.unions,...(l=n?.unions)!==null&&l!==void 0?l:[])},c=NR(s);return YR(c),c}function Bh(...o){return Array.from(o.reduce((n,a)=>(n.set(a.name,a),n),new Map).values()).sort((n,a)=>n.name.localeCompare(a.name))}function YR(o){const n=VR(o),a=Array.from(n.values());XR(a),ZR(o.interfaces),QR(a)}function QR(o){const n=new Set,a=l=>{if(!n.has(l)){n.add(l),l.typeNames.add(l.name);for(const s of l.subTypes)a(s),s.typeNames.forEach(c=>l.typeNames.add(c))}};o.forEach(a)}function VR({interfaces:o,unions:n}){const a=o.concat(n).reduce((s,c)=>(s.set(c.name,c),s),new Map),l=new Map;for(const s of n)l.set(s,Hc(s.type,new Set));for(const[s,c]of l)c&&a.delete(s.name);return a}function Hc(o,n){if(n.has(o))return!0;if(n.add(o),Ie(o))return o.types.every(a=>Hc(a,n));if(Pt(o)){const a=o.value;return Hn(a)?Hc(a.type,n):!1}else return $t(o)||an(o)}function XR(o){for(const n of o)for(const a of n.superTypes)a.subTypes.add(n)}function ZR(o){var n;const a=o.reduce((d,p)=>(d.set(p.name,p),d),new Map);for(const d of o){const p=d.properties.flatMap(m=>DR(m.type));for(const m of p)(n=a.get(m))===null||n===void 0||n.containerTypes.add(d)}const l=new Set,s=o.filter(d=>d.subTypes.size===0),c=new Set(s);for(;s.length>0;){const d=s.shift();if(d)for(const p of d.superTypes)yn(p)&&(d.containerTypes.size===0?(l.add(p.name),p.containerTypes.clear()):l.has(p.name)||d.containerTypes.forEach(m=>p.containerTypes.add(m)),c.has(p)||(c.add(p),s.push(p)))}}class WR{constructor(n){this.services=n}collectValidationResources(n){try{const a=PR(n,this.services);return{typeToValidationInfo:this.collectValidationInfo(a),typeToSuperProperties:this.collectSuperProperties(a)}}catch(a){return console.error("Error collecting validation resources",a),{typeToValidationInfo:new Map,typeToSuperProperties:new Map}}}collectValidationInfo({astResources:n,inferred:a,declared:l}){const s=new Map,c=IR(n);for(const p of _c(a))s.set(p.name,{inferred:p,inferredNodes:c.get(p.name)});const d=ht(n.interfaces).concat(n.types).reduce((p,m)=>p.set(m.name,m),new Map);for(const p of _c(l)){const m=d.get(p.name);if(m){const y=s.get(p.name);s.set(p.name,Object.assign(Object.assign({},y??{}),{declared:p,declaredNode:m}))}}return s}collectSuperProperties({inferred:n,declared:a}){const l=new Map,s=Gh(n,a),c=new Map(s.map(d=>[d.name,d]));for(const d of Gh(n,a))l.set(d.name,this.addSuperProperties(d,c,new Set));return l}addSuperProperties(n,a,l){if(l.has(n.name))return[];l.add(n.name);const s=[...n.properties];for(const c of n.superTypes){const d=a.get(c.name);d&&s.push(...this.addSuperProperties(d,a,l))}return s}}function IR({parserRules:o,datatypeRules:n}){const a=new Ze;ht(o).concat(n).forEach(s=>a.add(Kc(s),s));function l(s){if(ot(s)){const c=ST(s);c&&a.add(c,s)}(Xt(s)||Vt(s)||mr(s))&&s.elements.forEach(c=>l(c))}return o.forEach(s=>l(s.definition)),a}function ug(o){return o&&"declared"in o}function JR(o){return o&&"inferred"in o}function eS(o){return o&&"inferred"in o&&"declared"in o}function tS(o){const n=o.validation.ValidationRegistry,a=o.validation.LangiumGrammarTypesValidator,l={Action:[a.checkActionIsNotUnionType],Grammar:[a.checkDeclaredTypesConsistency,a.checkDeclaredAndInferredTypesConsistency,a.checkAttributeDefaultValue],Interface:[a.checkCyclicInterface],Type:[a.checkCyclicType]};n.register(l,a)}class nS{checkAttributeDefaultValue(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of n.interfaces){const d=rS(s,c);for(const[p,m]of d){const y=cg(p.defaultValue);y&&!pl(y,m.type)&&a("error",`Cannot assign default value of type '${Qt(y,"DeclaredType")}' to type '${Qt(m.type,"DeclaredType")}'.`,{node:p,property:"defaultValue"})}}}checkCyclicType(n,a){fr(n,new Set)&&a("error",`Type alias '${n.name}' circularly references itself.`,{node:n,property:"name"})}checkCyclicInterface(n,a){fr(n,new Set)&&a("error",`Type '${n.name}' recursively references itself as a base type.`,{node:n,property:"name"})}checkDeclaredTypesConsistency(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s){for(const c of s.typeToValidationInfo.values())if(ug(c)&&yn(c.declared)&&Yt(c.declaredNode)){const d=c;lS(d,a),sS(d,a)}}}checkDeclaredAndInferredTypesConsistency(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of s.typeToValidationInfo.values())JR(c)&&c.inferred instanceof Ws&&iS(c.inferred,a),eS(c)&&cS(c,s,a)}checkActionIsNotUnionType(n,a){ln(n.type)&&a("error","Actions cannot create union types.",{node:n,property:"type"})}}function rS(o,n){const a=[],l=o.typeToValidationInfo.get(n.name);if(l&&ug(l)&&yn(l.declared))for(const s of n.attributes.filter(c=>c.defaultValue)){const c=l.declared.properties.find(d=>d.name===s.name);c&&a.push([s,c])}return a}function cg(o){return cy(o)?{primitive:"boolean"}:DT(o)?{primitive:"number"}:$T(o)?{string:o.value}:fy(o)?{elementType:aS(o)}:void 0}function aS(o){if(o.elements.length===0)return;const n=[];for(const a of o.elements){const l=cg(a);l&&($t(l)?n.some(s=>$t(s)&&s.primitive===l.primitive)||n.push(l):an(l)&&n.some(s=>an(s)&&s.string===l.string)||n.push(l))}if(n.length!==0)return n.length===1?n[0]:{types:n}}function fr(o,n){var a;if(n.has(o))return!0;if(n.add(o),ln(o))return fr(o.type,n);if(Yt(o))return o.superTypes.some(l=>l.ref&&fr(l.ref,new Set(n)));if(Yr(o)){if(!((a=o.typeRef)===null||a===void 0)&&a.ref)return fr(o.typeRef.ref,n)}else{if(Fc(o))return fr(o.referenceType,n);if(Bc(o))return fr(o.elementType,n);if(Ba(o))return o.types.some(l=>fr(l,new Set(n)))}return!1}function iS(o,n){o.properties.forEach(a=>{var l;const s=Qy(a.type);if(s.length>1){const c=p=>hr(p)?"ref":"other",d=c(s[0]);if(s.slice(1).some(p=>c(p)!==d)){const p=(l=a.astNodes.values().next())===null||l===void 0?void 0:l.value;p&&n("error",`Mixing a cross-reference with other types is not supported. Consider splitting property "${a.name}" into two or more different properties.`,{node:p})}}})}function lS({declared:o,declaredNode:n},a){Array.from(o.superTypes).forEach((l,s)=>{l&&(Hn(l)&&a("error","Interfaces cannot extend union types.",{node:n,property:"superTypes",index:s}),l.declared||a("error","Extending an inferred type is discouraged.",{node:n,property:"superTypes",index:s}))})}function sS({declared:o,declaredNode:n},a){const l=o.properties.reduce((d,p)=>d.add(p.name,p),new Ze);for(const[d,p]of l.entriesGroupedByKey())if(p.length>1)for(const m of p)a("error",`Cannot have two properties with the same name '${d}'.`,{node:Array.from(m.astNodes)[0],property:"name"});const s=Array.from(o.superTypes);for(let d=0;d<s.length;d++)for(let p=d+1;p<s.length;p++){const m=s[d],y=s[p],g=yn(m)?m.superProperties:[],T=yn(y)?y.superProperties:[],R=oS(g,T);R.length>0&&a("error",`Cannot simultaneously inherit from '${m}' and '${y}'. Their ${R.map(D=>"'"+D+"'").join(", ")} properties are not identical.`,{node:n,property:"name"})}const c=new Set;for(const d of s){const p=yn(d)?d.superProperties:[];for(const m of p)c.add(m.name)}for(const d of o.properties)if(c.has(d.name)){const p=n.attributes.find(m=>m.name===d.name);p&&a("error",`Cannot redeclare property '${d.name}'. It is already inherited from another interface.`,{node:p,property:"name"})}}function oS(o,n){const a=[];for(const l of o){const s=n.find(c=>c.name===l.name);s&&!uS(l,s)&&a.push(l.name)}return a}function uS(o,n){return pl(o.type,n.type)&&pl(n.type,o.type)}function cS(o,n,a){const{inferred:l,declared:s,declaredNode:c,inferredNodes:d}=o,p=s.name,m=T=>R=>d.forEach(D=>a("error",`${R}${T?` ${T}`:""}.`,D?.inferredType?{node:D?.inferredType,property:"name"}:{node:D,property:ot(D)?"type":"name"})),y=(T,R)=>T.forEach(D=>a("error",R,{node:D,property:pt(D)||ot(D)?"feature":"name"})),g=T=>{d.forEach(R=>{se(R)&&Vs(R.definition).find(U=>U.feature===T)===void 0&&a("error",`Property '${T}' is missing in a rule '${R.name}', but is required in type '${p}'.`,{node:R,property:"parameters"})})};if(Hn(l)&&Hn(s))fS(l.type,s.type,m(`in a rule that returns type '${p}'`));else if(yn(l)&&yn(s))dS(l,s,n,m(`in a rule that returns type '${p}'`),y,g);else{const T=`Inferred and declared versions of type '${p}' both have to be interfaces or unions.`;m()(T),a("error",T,{node:c,property:"name"})}}function fS(o,n,a){pl(o,n)||a(`Cannot assign type '${Qt(o,"DeclaredType")}' to '${Qt(n,"DeclaredType")}'`)}function Fh(o){return o.optional||Jc(o.type)}function dS(o,n,a,l,s,c){const d=new Set(o.properties.map(T=>T.name)),p=new Map(o.allProperties.map(T=>[T.name,T])),m=new Map(n.superProperties.map(T=>[T.name,T])),y=T=>{if(Ie(T))return{types:T.types.map(R=>y(R))};if(hr(T))return{referenceType:y(T.referenceType)};if(Gn(T))return{elementType:T.elementType&&y(T.elementType)};if(Pt(T)){const R=a.typeToValidationInfo.get(T.value.name);return R?{value:"declared"in R?R.declared:R.inferred}:T}return T};for(const[T,R]of p.entries()){const D=m.get(T);if(D){const U=Qt(R.type,"DeclaredType"),B=Qt(D.type,"DeclaredType");if(!pl(y(R.type),D.type)&&B!=="unknown"){const F=`The assigned type '${U}' is not compatible with the declared property '${T}' of type '${B}'.`;s(R.astNodes,F)}R.optional&&!Fh(D)&&c(T)}else d.has(T)&&s(R.astNodes,`A property '${T}' is not expected.`)}const g=new Set;for(const[T,R]of m.entries())!p.get(T)&&!Fh(R)&&R.defaultValue===void 0&&g.add(T);if(g.size>0){const T=g.size>1?"Properties":"A property",R=g.size>1?"are expected":"is expected",D=Array.from(g).map(U=>`'${U}'`).sort().join(", ");l(`${T} ${D} ${R}.`)}}const pS={validation:{LangiumGrammarValidator:o=>new AS(o),ValidationResourcesCollector:o=>new WR(o),LangiumGrammarTypesValidator:()=>new nS},lsp:{FoldingRangeProvider:o=>new dR(o),CodeActionProvider:o=>new _S(o),SemanticTokenProvider:o=>new yR(o),Formatter:()=>new hR,DefinitionProvider:o=>new _R(o),CallHierarchyProvider:o=>new Mb(o),TypeHierarchyProvider:o=>new zb(o),CompletionProvider:o=>new fR(o)},references:{ScopeComputation:o=>new cR(o),ScopeProvider:o=>new uR(o),References:o=>new CR(o),NameProvider:()=>new gR}};function mS(o,n,a){const l=Bs(Yy(o),hb,n),s=Bs(Py({shared:l}),yb,pS,a);return hS(l,s),l.ServiceRegistry.register(s),$S(s),tS(s),o.connection||l.workspace.ConfigurationProvider.initialized({}),{shared:l,grammar:s}}function hS(o,n){o.workspace.DocumentBuilder.onDocumentPhase(AT.IndexedReferences,async l=>{const s=n.validation.ValidationResourcesCollector,c=l.parseResult.value;l.validationResources=s.collectValidationResources(c)})}function yS(o,n){let a;dl(o)?a=FR(o,n):a=o;const l=a.interfaces.map(p=>p.name).concat(a.unions.filter(p=>$R(p.type)).map(p=>p.name)),s=vS(a),c=TS(a),d=RR(_c(a)).superTypes;return new gS({allTypes:l,references:s,metaData:c,superTypes:d})}class gS extends CT{constructor(n){super(),this.allTypes=n.allTypes,this.references=n.references,this.metaData=n.metaData,this.superTypes=n.superTypes}getAllTypes(){return this.allTypes}getReferenceType(n){const a=`${n.container.$type}:${n.property}`,l=this.references.get(a);if(l)return l;throw new Error("Could not find reference type for "+a)}getTypeMetaData(n){var a;return(a=this.metaData.get(n))!==null&&a!==void 0?a:{name:n,properties:[]}}computeIsSubtype(n,a){const l=this.superTypes.get(n);for(const s of l)if(this.isSubtype(s,a))return!0;return!1}}function vS(o){const n=new Ze;for(const l of o.interfaces){for(const s of l.properties)for(const c of wc(s.type))n.add(l.name,[s.name,c]);for(const s of l.interfaceSuperTypes){const c=n.get(s.name);n.addAll(l.name,c)}}const a=new Map;for(const[l,[s,c]]of n)a.set(`${l}:${s}`,c);return a}function TS(o){const n=new Map;for(const a of o.interfaces){const l=a.superProperties;n.set(a.name,{name:a.name,properties:bS(l)})}return n}function bS(o){const n=[],a=o.sort((l,s)=>l.name.localeCompare(s.name));for(const l of a){const s={name:l.name,defaultValue:l.defaultValue};n.push(s)}return n}function RS(o){var n;const a=(n=o.returnType)===null||n===void 0?void 0:n.ref;return o.dataType!==void 0||ln(a)&&_T(a)}function SS(o){return ol(o,new Set)}function ol(o,n){var a,l;if(n.has(o))return!0;if(n.add(o),se(o)){if(o.dataType)return o.dataType==="string";if(!((a=o.returnType)===null||a===void 0)&&a.ref)return ol(o.returnType.ref,n)}else{if(ln(o))return ol(o.type,n);if(Bc(o))return!1;if(Fc(o))return!1;if(Ba(o))return o.types.every(s=>ol(s,n));if(Yr(o)){if(o.primitiveType==="string")return!0;if(o.stringType)return!0;if(!((l=o.typeRef)===null||l===void 0)&&l.ref)return ol(o.typeRef.ref,n)}}return!1}function Br(o){if(o)try{return jc(o)}catch{return}}function fg(o){if(o.path===void 0||o.path.length===0)return;const n=Ne.dirname(at(o).uri);let a=o.path;return a.endsWith(".langium")||(a+=".langium"),Ne.resolvePath(n,a)}function Ka(o,n){const a=fg(n);if(!a)return;const l=o.getDocument(a);if(!l)return;const s=l.parseResult.value;if(dl(s))return s}function qs(o,n){if(uy(n)){const a=Ka(o,n);if(a){const l=Uc(o,a);return l.push(a),l}return[]}else return Uc(o,n)}function Uc(o,n,a=n,l=new Set,s=new Set){const c=at(n);if(a!==n&&s.add(n),!l.has(c.uri)){l.add(c.uri);for(const d of n.imports){const p=Ka(o,d);p&&Uc(o,p,a,l,s)}}return Array.from(s)}function Vs(o){return pt(o)?[o]:Xt(o)||Vt(o)||mr(o)?o.elements.flatMap(n=>Vs(n)):Ye(o)&&o.rule.ref?Vs(o.rule.ref.definition):[]}const DS=["string","number","boolean","Date","bigint"];function nf(o){return DS.includes(o)}async function rf(o){var n,a,l,s,c,d;const p=(n=o.grammarServices)!==null&&n!==void 0?n:mS(rh).grammar,m=pr.parse("memory:///grammar.langium"),y=p.shared.workspace.LangiumDocumentFactory,g=typeof o.grammar=="string"?y.fromString(o.grammar,m):at(o.grammar),T=g.parseResult.value;await p.shared.workspace.DocumentBuilder.build([g],{validation:!1});const D=(a=o.parserConfig)!==null&&a!==void 0?a:{skipValidations:!1},U=(l=o.languageMetaData)!==null&&l!==void 0?l:{caseInsensitive:!1,fileExtensions:[`.${(c=(s=T.name)===null||s===void 0?void 0:s.toLowerCase())!==null&&c!==void 0?c:"unknown"}`],languageId:(d=T.name)!==null&&d!==void 0?d:"UNKNOWN",mode:"development"},B={AstReflection:()=>yS(T)},L={Grammar:()=>T,LanguageMetaData:()=>U,parser:{ParserConfig:()=>D}},F=Bs(Yy(rh),B,o.sharedModule),j=Bs(Py({shared:F}),L,o.module);return F.ServiceRegistry.register(j),j}function $S(o){const n=o.validation.ValidationRegistry,a=o.validation.LangiumGrammarValidator,l={Action:[a.checkAssignmentReservedName],AbstractRule:a.checkRuleName,Assignment:[a.checkAssignmentWithFeatureName,a.checkAssignmentToFragmentRule,a.checkAssignmentTypes,a.checkAssignmentReservedName],ParserRule:[a.checkParserRuleDataType,a.checkRuleParametersUsed,a.checkEmptyParserRule,a.checkParserRuleReservedName,a.checkOperatorMultiplicitiesForMultiAssignments],TerminalRule:[a.checkTerminalRuleReturnType,a.checkHiddenTerminalRule,a.checkEmptyTerminalRule],InferredType:a.checkTypeReservedName,Keyword:a.checkKeyword,UnorderedGroup:a.checkUnorderedGroup,Grammar:[a.checkGrammarName,a.checkEntryGrammarRule,a.checkUniqueRuleName,a.checkUniqueTypeName,a.checkUniqueImportedRules,a.checkDuplicateImportedGrammar,a.checkGrammarHiddenTokens,a.checkGrammarForUnusedRules,a.checkGrammarTypeInfer,a.checkClashingTerminalNames],GrammarImport:a.checkPackageImport,CharacterRange:a.checkInvalidCharacterRange,Interface:[a.checkTypeReservedName,a.checkInterfacePropertyTypes],Type:[a.checkTypeReservedName],TypeAttribute:a.checkTypeReservedName,RuleCall:[a.checkUsedHiddenTerminalRule,a.checkUsedFragmentTerminalRule,a.checkRuleCallParameters,a.checkMultiRuleCallsAreAssigned],TerminalRuleCall:a.checkUsedHiddenTerminalRule,CrossReference:[a.checkCrossReferenceSyntax,a.checkCrossRefNameAssignment,a.checkCrossRefTerminalType,a.checkCrossRefType,a.checkCrossReferenceToTypeUnion],SimpleType:a.checkFragmentsInTypes,ReferenceType:a.checkReferenceTypeUnion,RegexToken:[a.checkInvalidRegexFlags,a.checkDirectlyUsedRegexFlags]};n.register(l,a)}var Re;(function(o){o.GrammarNameUppercase="grammar-name-uppercase",o.RuleNameUppercase="rule-name-uppercase",o.HiddenGrammarTokens="hidden-grammar-tokens",o.UseRegexTokens="use-regex-tokens",o.EntryRuleTokenSyntax="entry-rule-token-syntax",o.CrossRefTokenSyntax="cross-ref-token-syntax",o.ParserRuleToTypeDecl="parser-rule-to-type-decl",o.UnnecessaryFileExtension="unnecessary-file-extension",o.InvalidReturns="invalid-returns",o.InvalidInfers="invalid-infers",o.MissingInfer="missing-infer",o.MissingReturns="missing-returns",o.SuperfluousInfer="superfluous-infer",o.OptionalUnorderedGroup="optional-unordered-group",o.ParsingRuleEmpty="parsing-rule-empty"})(Re||(Re={}));class AS{constructor(n){this.references=n.references.References,this.nodeLocator=n.workspace.AstNodeLocator,this.documents=n.shared.workspace.LangiumDocuments}checkGrammarName(n,a){if(n.name){const l=n.name.substring(0,1);l.toUpperCase()!==l&&a("warning","Grammar name should start with an upper case letter.",{node:n,property:"name",data:mn(Re.GrammarNameUppercase)})}}checkEntryGrammarRule(n,a){if(n.isDeclared&&!n.name)return;const l=n.rules.filter(s=>se(s)&&s.entry);if(n.isDeclared&&l.length===0){const s=n.rules.find(c=>se(c)&&!On(c));s?a("error","The grammar is missing an entry parser rule. This rule can be an entry one.",{node:s,property:"name",data:mn(Re.EntryRuleTokenSyntax)}):a("error","This grammar is missing an entry parser rule.",{node:n,property:"name"})}else!n.isDeclared&&l.length>=1?l.forEach(s=>a("error","Cannot declare entry rules for unnamed grammars.",{node:s,property:"name"})):l.length>1?l.forEach(s=>a("error","The entry rule has to be unique.",{node:s,property:"name"})):l.length===1&&On(l[0])&&a("error","The entry rule cannot be a data type rule.",{node:l[0],property:"name"})}checkUniqueRuleName(n,a){const l=s=>ht(s.rules).filter(c=>!sl(c));this.checkUniqueName(n,a,l,"rule")}checkUniqueTypeName(n,a){const l=s=>ht(s.types).concat(s.interfaces);this.checkUniqueName(n,a,l,"type")}checkUniqueName(n,a,l,s){const c=new Ze;l(n).forEach(m=>c.add(m.name,m));for(const[,m]of c.entriesGroupedByKey())m.length>1&&m.forEach(y=>{a("error",`A ${s}'s name has to be unique.`,{node:y,property:"name"})});const d=new Set,p=qs(this.documents,n);for(const m of p)l(m).forEach(y=>d.add(y.name));for(const m of c.keys())d.has(m)&&c.get(m).forEach(g=>{a("error",`A ${s} with the name '${g.name}' already exists in an imported grammar.`,{node:g,property:"name"})})}checkDuplicateImportedGrammar(n,a){const l=new Ze;for(const s of n.imports){const c=Ka(this.documents,s);c&&l.add(c,s)}for(const[,s]of l.entriesGroupedByKey())s.length>1&&s.forEach((c,d)=>{d>0&&a("warning","The grammar is already being directly imported.",{node:c,tags:[cc.Unnecessary]})})}checkUniqueImportedRules(n,a){const l=new Map;for(const c of n.imports){const d=qs(this.documents,c);l.set(c,d)}const s=new Ze;for(const c of n.imports){const d=l.get(c);for(const p of n.imports){if(c===p)continue;const m=l.get(p),y=this.getDuplicateExportedRules(d,m);for(const g of y)s.add(c,g)}}for(const c of n.imports){const d=s.get(c);d.length>0&&a("error","Some rules exported by this grammar are also included in other imports: "+ht(d).distinct().join(", "),{node:c,property:"path"})}}getDuplicateExportedRules(n,a){const s=n.filter(p=>!a.includes(p)).flatMap(p=>p.rules),c=a.flatMap(p=>p.rules),d=new Set;for(const p of s){const m=p.name;for(const y of c){const g=y.name;m===g&&d.add(y.name)}}return d}checkGrammarTypeInfer(n,a){var l,s,c;const d=new Set;for(const m of n.types)d.add(m.name);for(const m of n.interfaces)d.add(m.name);for(const m of qs(this.documents,n))m.types.forEach(y=>d.add(y.name)),m.interfaces.forEach(y=>d.add(y.name));for(const m of n.rules.filter(se)){if(sl(m))continue;const y=On(m),g=!m.returnType&&!m.dataType,T=Br(m);if(!y&&T&&d.has(T)===g){if((g||((l=m.returnType)===null||l===void 0?void 0:l.ref)!==void 0)&&m.inferredType===void 0)a("error",p(T,g),{node:m,property:"name",data:mn(Re.MissingReturns)});else if(g||((s=m.returnType)===null||s===void 0?void 0:s.ref)!==void 0){const R=Lr(m.inferredType.$cstNode,"infers");a("error",p(T,g),{node:m.inferredType,property:"name",data:{code:Re.InvalidInfers,actionSegment:jr(R)}})}}else if(y&&g){const R=Lr(m.$cstNode,"infer");a("error","Data type rules cannot infer a type.",{node:m,property:"inferredType",data:{code:Re.InvalidInfers,actionSegment:jr(R)}})}}for(const m of hn(n).filter(ot)){const y=this.getActionType(m);if(y){const g=!!m.inferredType,T=Br(m);if(m.type&&T&&d.has(T)===g){const R=g?Lr(m.$cstNode,"infer"):Lr(m.$cstNode,"{");a("error",p(T,g),{node:m,property:"type",data:{code:g?Re.SuperfluousInfer:Re.MissingInfer,actionSegment:jr(R)}})}else if(y&&T&&d.has(T)&&g&&m.$cstNode){const R=Fr((c=m.inferredType)===null||c===void 0?void 0:c.$cstNode,"name"),D=Lr(m.$cstNode,"{");R&&D&&a("error",`${T} is a declared type and cannot be redefined.`,{node:m,property:"type",data:{code:Re.SuperfluousInfer,actionRange:{start:D.range.end,end:R.range.start}}})}}}function p(m,y){return y?`The type '${m}' is already explicitly declared and cannot be inferred.`:`The type '${m}' is not explicitly declared and must be inferred.`}}getActionType(n){var a;if(n.type)return(a=n.type)===null||a===void 0?void 0:a.ref;if(n.inferredType)return n.inferredType}checkGrammarHiddenTokens(n,a){n.definesHiddenTokens&&a("error","Hidden terminals are declared at the terminal definition.",{node:n,property:"definesHiddenTokens",data:mn(Re.HiddenGrammarTokens)})}checkHiddenTerminalRule(n,a){n.hidden&&n.fragment&&a("error","Cannot use terminal fragments as hidden tokens.",{node:n,property:"hidden"})}checkEmptyTerminalRule(n,a){try{const l=gl(n);new RegExp(l).test("")&&a("error","This terminal could match an empty string.",{node:n,property:"name"})}catch{}}checkEmptyParserRule(n,a){if(!n.definition||n.entry||n.fragment)return;const l=s=>{var c;return s.cardinality==="?"||s.cardinality==="*"||ot(s)||mr(s)?!1:Vt(s)?s.elements.some(l):Xt(s)?s.elements.every(l):Ye(s)&&(!((c=s.rule.ref)===null||c===void 0)&&c.definition)?l(s.rule.ref.definition):!0};l(n.definition)||a("warning","This parser rule potentially consumes no input.",{node:n,property:"name",code:Re.ParsingRuleEmpty})}checkInvalidRegexFlags(n,a){const l=n.regex;if(l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d="gmy",m=d+"isu",y=new Set,g=new Set;for(let R=0;R<c.length;R++){const D=c.charAt(R);m.includes(D)?d.includes(D)&&g.add(D):y.add(D)}const T=this.getFlagRange(n);T&&(y.size>0?a("error",`'${Array.from(y).join("")}' ${y.size>1?"are":"is"} not valid regular expression flag${y.size>1?"s":""}.`,{node:n,range:T}):g.size>0&&a("warning",`'${Array.from(g).join("")}' regular expression flag${g.size>1?"s":""} will be ignored by Langium.`,{node:n,range:T}))}}checkDirectlyUsedRegexFlags(n,a){const l=n.regex;if(!rt(n.$container)&&l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d=this.getFlagRange(n);d&&c&&a("warning","Regular expression flags are only applied if the terminal is not a composition.",{node:n,range:d})}}getFlagRange(n){const a=Fr(n.$cstNode,"regex");if(!a||!n.regex)return;const l=n.regex,s=l.lastIndexOf("/")+1;return{start:{line:a.range.end.line,character:a.range.end.character-l.length+s},end:a.range.end}}checkUsedHiddenTerminalRule(n,a){const l=We(n,s=>rt(s)||se(s));if(l){if("hidden"in l&&l.hidden||n.lookahead)return;const s=pg(n);if(s&&s.lookahead)return;const c=n.rule.ref;rt(c)&&c.hidden&&a("error","Cannot use hidden terminal in non-hidden rule",{node:n,property:"rule"})}}checkUsedFragmentTerminalRule(n,a){const l=n.rule.ref;rt(l)&&l.fragment&&We(n,se)&&a("error","Cannot use terminal fragments as part of parser rules.",{node:n,property:"rule"})}checkCrossReferenceSyntax(n,a){n.deprecatedSyntax&&a("error","'|' is deprecated. Please, use ':' instead.",{node:n,property:"deprecatedSyntax",data:mn(Re.CrossRefTokenSyntax)})}checkPackageImport(n,a){Ka(this.documents,n)===void 0?a("error","Import cannot be resolved.",{node:n,property:"path"}):n.path.endsWith(".langium")&&a("warning","Imports do not need file extensions.",{node:n,property:"path",data:mn(Re.UnnecessaryFileExtension)})}checkInvalidCharacterRange(n,a){if(n.right){const l="Character ranges cannot use more than one character";let s=!1;n.left.value.length>1&&(s=!0,a("error",l,{node:n.left,property:"value"})),n.right.value.length>1&&(s=!0,a("error",l,{node:n.right,property:"value"})),s||a("hint","Consider using regex instead of character ranges",{node:n,data:mn(Re.UseRegexTokens)})}}checkGrammarForUnusedRules(n,a){const l=Vh(n,!0),s=wT(n);for(const c of n.rules)rt(c)&&c.hidden||sl(c)||l.has(c)||(se(c)&&s.has(c)?a("hint","This parser rule is not used for parsing, but referenced by cross-references. Consider to replace this rule by a type declaration.",{node:c,data:mn(Re.ParserRuleToTypeDecl)}):a("hint","This rule is declared but never referenced.",{node:c,property:"name",tags:[cc.Unnecessary]}))}checkClashingTerminalNames(n,a){const l=new Ze,s=new Set;for(const y of n.rules)rt(y)&&y.name&&l.add(y.name,y),se(y)&&hn(y).filter(rn).forEach(T=>s.add(T.value));const c=new Ze,d=new Ze;for(const y of n.imports){const g=qs(this.documents,y);for(const T of g)for(const R of T.rules)rt(R)&&R.name?c.add(R.name,y):se(R)&&R.name&&hn(R).filter(rn).forEach(U=>d.add(U.value,y))}for(const y of l.values())if(s.has(y.name))a("error","Terminal name clashes with existing keyword.",{node:y,property:"name"});else if(d.has(y.name)){const g=d.get(y.name);a("error",`Terminal name clashes with imported keyword from "${g[0].path}".`,{node:y,property:"name"})}const p=new Ze;for(const y of s)for(const g of c.get(y))p.add(g,y);for(const[y,g]of p.entriesGroupedByKey())g.length>0&&a("error",`Imported terminals (${g.join(", ")}) clash with locally defined keywords.`,{node:y,property:"path"});const m=new Ze;for(const[y,g]of c.entriesGroupedByKey()){const T=d.get(y);T.length>0&&g.filter(R=>!T.includes(R)).forEach(R=>m.add(R,y))}for(const[y,g]of m.entriesGroupedByKey())g.length>0&&a("error",`Imported terminals (${g.join(", ")}) clash with imported keywords.`,{node:y,property:"path"})}checkRuleName(n,a){if(n.name&&!sl(n)){const l=n.name.substring(0,1);l.toUpperCase()!==l&&a("warning","Rule name should start with an upper case letter.",{node:n,property:"name",data:mn(Re.RuleNameUppercase)})}}checkMultiRuleCallsAreAssigned(n,a){const l=m=>{let y=m;for(;y!==void 0&&!(Ks(y)&&(y.cardinality==="+"||y.cardinality==="*"));)y=y.$container;return y},s=n.rule.ref;if(!s||rt(s)||s.fragment||On(s))return;const c=We(n,se);if(!c||On(c))return;const d=l(n)!==void 0,p=We(n,pt)!==void 0;d&&!p&&a("error",`Rule call '${s.name}' requires assignment when parsed multiple times.`,{node:n})}checkTypeReservedName(n,a){this.checkReservedName(n,"name",a)}checkAssignmentReservedName(n,a){this.checkReservedName(n,"feature",a)}checkParserRuleReservedName(n,a){n.inferredType||this.checkReservedName(n,"name",a)}checkReservedName(n,a,l){const s=n[a];typeof s=="string"&&CS.has(s)&&l("error",`'${s}' is a reserved name of the JavaScript runtime.`,{node:n,property:a})}checkKeyword(n,a){We(n,se)&&(n.value.length===0?a("error","Keywords cannot be empty.",{node:n}):n.value.trim().length===0?a("error","Keywords cannot only consist of whitespace characters.",{node:n}):/\s/g.test(n.value)&&a("warning","Keywords should not contain whitespace characters.",{node:n}))}checkUnorderedGroup(n,a){n.elements.forEach(l=>{qn(l.cardinality)&&a("error","Optional elements in Unordered groups are currently not supported",{node:l,data:mn(Re.OptionalUnorderedGroup)})})}checkRuleParametersUsed(n,a){const l=n.parameters;if(l.length>0){const s=hn(n).filter(ly);for(const c of l)s.some(d=>d.parameter.ref===c)||a("hint",`Parameter '${c.name}' is unused.`,{node:c,tags:[cc.Unnecessary]})}}checkParserRuleDataType(n,a){if(sl(n))return;const l=RS(n),s=On(n);!l&&s?a("error","This parser rule does not create an object. Add a primitive return type or an action to the start of the rule to force object instantiation.",{node:n,property:"name"}):l&&!s&&a("error","Normal parser rules are not allowed to return a primitive value. Use a datatype rule for that.",{node:n,property:n.dataType?"dataType":"returnType"})}checkAssignmentToFragmentRule(n,a){n.terminal&&Ye(n.terminal)&&se(n.terminal.rule.ref)&&n.terminal.rule.ref.fragment&&a("error",`Cannot use fragment rule '${n.terminal.rule.ref.name}' for assignment of property '${n.feature}'.`,{node:n,property:"terminal"})}checkAssignmentTypes(n,a){if(!n.terminal)return;let l;hn(n.terminal).map(c=>Ln(c)?"ref":"other").find(c=>l?c!==l:(l=c,!1))&&a("error",this.createMixedTypeError(n.feature),{node:n,property:"terminal"})}checkOperatorMultiplicitiesForMultiAssignments(n,a){n.dataType||this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent([n.definition],a)}checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n,a,l=new Map){this.checkOperatorMultiplicitiesForMultiAssignmentsNested(n,1,l,a);for(const s of l.values())if(s.counter>=2)for(const c of s.assignments)c.operator!=="+="&&a("warning",`Found multiple assignments to '${c.feature}' with the '${c.operator}' assignment operator. Consider using '+=' instead to prevent data loss.`,{node:c,property:"feature"})}checkOperatorMultiplicitiesForMultiAssignmentsNested(n,a,l,s){let c=!1;for(let d=0;d<n.length;d++){const p=n[d];if(ot(p)&&p.feature){const y=new Map;Ph(y,p.feature,1,p),this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n.slice(d+1),s,y),c=!0;break}let m=a;if(Ks(p)&&Wh(p.cardinality)&&(m*=2),pt(p)&&Ph(l,p.feature,m,p),Ye(p)&&se(p.rule.ref)&&p.rule.ref.fragment&&(c=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([p.rule.ref.definition],m,l,s)||c),Vt(p)||mr(p)){const y=new Map,g=this.checkOperatorMultiplicitiesForMultiAssignmentsNested(p.elements,1,y,s);bc(y,l,g?(T,R)=>T+R:(T,R)=>T*m+R),c=g||c}if(Xt(p)){const y=new Map;let g=0;for(const T of p.elements){const R=new Map,D=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([T],1,R,s);bc(R,y,D?(U,B)=>Math.max(U,B):(U,B)=>Math.max(U*m,B)),D&&g++}bc(y,l),g===p.elements.length&&(c=!0)}}return c}checkInterfacePropertyTypes(n,a){for(const l of n.attributes)if(l.type){const s=Ga(l.type),c=hl(s);let d=!1,p=!1;for(const m of c.union.concat(c.array))ml(m)?d=!0:ml(m)||(p=!0);d&&p&&a("error",this.createMixedTypeError(l.name),{node:l,property:"type"})}}createMixedTypeError(n){return`Mixing a cross-reference with other types is not supported. Consider splitting property "${n}" into two or more different properties.`}checkTerminalRuleReturnType(n,a){var l;!((l=n.type)===null||l===void 0)&&l.name&&!nf(n.type.name)&&a("error","Terminal rules can only return primitive types like 'string', 'boolean', 'number', 'Date' or 'bigint'.",{node:n.type,property:"name"})}checkRuleCallParameters(n,a){const l=n.rule.ref;if(se(l)){const s=l.parameters.length,c=n.arguments.length;s!==c&&a("error",`Rule '${l.name}' expects ${s} arguments, but got ${c}.`,{node:n})}else rt(l)&&n.arguments.length>0&&a("error","Terminal rules do not accept any arguments",{node:n})}checkCrossRefNameAssignment(n,a){!n.terminal&&n.type.ref&&!NT(n.type.ref)&&a("error","Cannot infer terminal or data type rule for cross-reference.",{node:n,property:"type"})}checkCrossRefTerminalType(n,a){var l;const s=n.terminal;if(Ye(s)){const c=s.rule.ref;se(c)&&!On(c)?a("error","Parser rules cannot be used for cross-references.",{node:s,property:"rule"}):se(c)&&!SS(c)?a("error","Data type rules for cross-references must be of type string.",{node:s,property:"rule"}):rt(c)&&(!((l=c.type)===null||l===void 0)&&l.name)&&c.type.name!=="string"&&a("error","Terminal rules for cross-references must be of type string.",{node:s,property:"rule"})}}checkCrossRefType(n,a){const l=this.checkReferenceToRuleButNotType(n?.type);l&&a("error",l,{node:n,property:"type"})}checkCrossReferenceToTypeUnion(n,a){if(ln(n.type.ref)&&Ba(n.type.ref.type)){const l=dg(n.type.ref.type);l.length>0&&a("error",`Cross-reference on type union is only valid if all alternatives are AST nodes. ${l.join(", ")} ${l.length>1?"are":"is"} not ${l.length>1?"":"an "}AST node${l.length>1?"s":""}.`,{node:n,property:"type"})}}checkFragmentsInTypes(n,a){var l,s;se((l=n.typeRef)===null||l===void 0?void 0:l.ref)&&(!((s=n.typeRef)===null||s===void 0)&&s.ref.fragment)&&a("error","Cannot use rule fragments in types.",{node:n,property:"typeRef"})}checkReferenceTypeUnion(n,a){Yr(n.referenceType)||a("error","Only direct rule references are allowed in reference types.",{node:n,property:"referenceType"})}checkReferenceToRuleButNotType(n){if(n&&se(n.ref)&&!On(n.ref)&&(n.ref.returnType||n.ref.inferredType)){const a=Br(n.ref);if(a)return`Use the rule type '${a}' instead of the typed rule name '${n.ref.name}' for cross-references.`}}checkAssignmentWithFeatureName(n,a){n.feature==="name"&&Ln(n.terminal)&&a("warning",'The "name" property is not recommended for cross-references.',{node:n,property:"feature"})}}function sl(o){return!o.definition||!o.definition.$cstNode||o.definition.$cstNode.length===0}const CS=new Set(["Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","Map","Set","WeakMap","WeakSet","Error","AggregateError","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","BigInt","RegExp","Number","Object","Function","Symbol","String","Math","NaN","Infinity","isFinite","isNaN","Buffer","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","globalThis","decodeURIComponent","decodeURI","encodeURIComponent","encodeURI","parseInt","parseFloat","Promise","Generator","GeneratorFunction","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Reflect","Proxy","Date","Intl","eval","undefined","langium"]);function dg(o){const n=[];return o.types.forEach(a=>{var l;Yr(a)&&(!((l=a.typeRef)===null||l===void 0)&&l.ref?ln(a.typeRef.ref)&&(Ba(a.typeRef.ref.type)?n.push(...dg(a.typeRef.ref.type)):n.push(a.typeRef.ref.name)):a.stringType?n.push(`"${a.stringType}"`):a.primitiveType&&n.push(a.primitiveType))}),Array.from(new Set(n))}function pg(o){const n=We(o,kT);if(n)return n.lookahead?n:pg(n.$container)}function Ph(o,n,a,...l){let s=o.get(n);s||(s={assignments:new Set,counter:0},o.set(n,s)),l.forEach(c=>s.assignments.add(c)),s.counter+=a}function bc(o,n,a=(l,s)=>l+s){for(const[l,s]of o.entries()){const c=n.get(l);c?(s.assignments.forEach(d=>c.assignments.add(d)),c.counter=a(s.counter,c.counter)):(n.set(l,s),s.counter=a(s.counter,0))}o.clear()}class _S{constructor(n){this.reflection=n.shared.AstReflection,this.indexManager=n.shared.workspace.IndexManager}getCodeActions(n,a){const l=[],s=c=>c&&l.push(c);for(const c of a.context.diagnostics)this.createCodeActions(c,n,s);return l}createCodeActions(n,a,l){var s;switch((s=n.data)===null||s===void 0?void 0:s.code){case Re.GrammarNameUppercase:case Re.RuleNameUppercase:l(this.makeUpperCase(n,a));break;case Re.HiddenGrammarTokens:l(this.fixHiddenTerminals(n,a));break;case Re.UseRegexTokens:l(this.fixRegexTokens(n,a));break;case Re.EntryRuleTokenSyntax:l(this.addEntryKeyword(n,a));break;case Re.CrossRefTokenSyntax:l(this.fixCrossRefSyntax(n,a));break;case Re.ParserRuleToTypeDecl:l(this.replaceParserRuleByTypeDeclaration(n,a));break;case Re.UnnecessaryFileExtension:l(this.fixUnnecessaryFileExtension(n,a));break;case Re.MissingReturns:l(this.fixMissingReturns(n,a));break;case Re.InvalidInfers:case Re.InvalidReturns:l(this.fixInvalidReturnsInfers(n,a));break;case Re.MissingInfer:l(this.fixMissingInfer(n,a));break;case Re.SuperfluousInfer:l(this.fixSuperfluousInfer(n,a));break;case xT.LinkingError:{const c=n.data;c&&c.containerType==="RuleCall"&&c.property==="rule"&&l(this.addNewRule(n,c,a)),c&&this.lookInGlobalScope(n,c,a).forEach(l);break}}}fixMissingReturns(n,a){const l=a.textDocument.getText(n.range);if(l)return{title:`Add explicit return type for parser rule ${l}`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:`${l} returns ${l}`}]}}}}fixInvalidReturnsInfers(n,a){const l=n.data;if(l&&l.actionSegment){const s=a.textDocument.getText(l.actionSegment.range);return{title:`Correct ${s} usage`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:l.actionSegment.range,newText:s==="infers"?"returns":"infers"}]}}}}}fixMissingInfer(n,a){const l=n.data;if(l&&l.actionSegment)return{title:"Correct 'infer' usage",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:{start:l.actionSegment.range.end,end:l.actionSegment.range.end},newText:"infer "}]}}}}fixSuperfluousInfer(n,a){const l=n.data;if(l&&l.actionRange)return{title:"Remove the 'infer' keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:l.actionRange,newText:""}]}}}}isRuleReplaceable(n){return!n.fragment&&!n.entry&&n.parameters.length===0&&!n.definesHiddenTokens&&!n.wildcard&&!n.returnType&&!n.dataType}replaceRule(n){var a;return((a=n.inferredType)!==null&&a!==void 0?a:n).name}isDefinitionReplaceable(n){return Ye(n)?n.arguments.length===0&&se(n.rule.ref)&&this.isRuleReplaceable(n.rule.ref):Xt(n)?n.elements.every(a=>this.isDefinitionReplaceable(a)):!1}replaceDefinition(n){if(Ye(n)&&n.rule.ref)return n.rule.ref.name;if(Xt(n))return n.elements.map(a=>this.replaceDefinition(a)).join(" | ");throw new Error("missing code for "+n)}replaceParserRuleByTypeDeclaration(n,a){const l=a.parseResult.value.$cstNode;if(l){const s=a.textDocument.offsetAt(n.range.start),c=ul(l,s),d=We(c?.astNode,se);if(d&&d.$cstNode&&this.isRuleReplaceable(d)&&this.isDefinitionReplaceable(d.definition)){const m=`type ${this.replaceRule(d)} = ${this.replaceDefinition(d.definition)};`;return{title:"Replace with type declaration",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:m}]}}}}}}fixUnnecessaryFileExtension(n,a){const l=Object.assign({},n.range.end);l.character-=1;const s=Object.assign({},l);return s.character-=8,{title:"Remove file extension",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:{start:s,end:l},newText:""}]}}}}makeUpperCase(n,a){const l={start:n.range.start,end:{line:n.range.start.line,character:n.range.start.character+1}};return{title:"First letter to upper case",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:l,newText:a.textDocument.getText(l).toUpperCase()}]}}}}addEntryKeyword(n,a){return{title:"Add entry keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:{start:n.range.start,end:n.range.start},newText:"entry "}]}}}}fixRegexTokens(n,a){const l=a.textDocument.offsetAt(n.range.start),s=a.parseResult.value.$cstNode;if(s){const c=ul(s,l),d=We(c?.astNode,ET);if(d&&d.right&&d.$cstNode){const p=d.left.value,m=d.right.value;return{title:"Refactor into regular expression",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:d.$cstNode.range,newText:`/[${Sc(p)}-${Sc(m)}]/`}]}}}}}}fixCrossRefSyntax(n,a){return{title:"Replace '|' with ':'",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:":"}]}}}}fixHiddenTerminals(n,a){const l=a.parseResult.value,s=l.hiddenTokens,c=[],d=Fr(l.$cstNode,"definesHiddenTokens");if(d){const p=d.range.start,m=d.offset,y=l.$cstNode.text.indexOf(")",m)+1;c.push({newText:"",range:{start:p,end:a.textDocument.positionAt(y)}})}for(const p of s){const m=p.ref;if(m&&rt(m)&&!m.hidden&&m.$cstNode){const y=m.$cstNode.range.start;c.push({newText:"hidden ",range:{start:y,end:y}})}}return{title:"Fix hidden terminals",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:c}}}}addNewRule(n,a,l){const s=l.textDocument.offsetAt(n.range.start),c=l.parseResult.value.$cstNode;if(c){const d=ul(c,s),p=We(d?.astNode,se);if(p&&p.$cstNode)return{title:`Add new rule '${a.refText}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:p.$cstNode.range.end,end:p.$cstNode.range.end},newText:`

`+a.refText+`:
    /* TODO implement rule */ {infer `+a.refText+"};"}]}}}}}lookInGlobalScope(n,a,l){var s,c;const d={container:{$type:a.containerType},property:a.property,reference:{$refText:a.refText}},p=this.reflection.getReferenceType(d),m=this.indexManager.allElements(p).filter(R=>R.name===a.refText),y=[];let g=-1,T=-1;for(const R of m){if(Ne.equals(R.documentUri,l.uri))continue;const D=wS(l.uri,R.documentUri);let U,B="";const L=l.parseResult.value,F=L.imports.find(j=>j.path&&D<j.path);if(F)U=(s=F.$cstNode)===null||s===void 0?void 0:s.range.start;else if(L.imports.length>0){const j=L.imports[L.imports.length-1].$cstNode.range.end;j&&(U={line:j.line+1,character:0})}else L.rules.length>0&&(U=(c=L.rules[0].$cstNode)===null||c===void 0?void 0:c.range.start,B=`
`);U&&((g<0||D.length<T)&&(g=y.length,T=D.length),y.push({title:`Add import to '${D}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:U,end:U},newText:`import '${D}'
${B}`}]}}}))}return g>=0&&(y[g].isPreferred=!0),y}}function wS(o,n){const a=Ne.dirname(o);let l=Ne.relative(a,n);return!l.startsWith("./")&&!l.startsWith("../")&&(l="./"+l),l.endsWith(".langium")&&(l=l.substring(0,l.length-8)),l}const NS=()=>({TextEditorWorker:()=>new Worker(new URL(""+new URL("editor.worker-CJGr5wzi.js",import.meta.url).href,import.meta.url),{type:"module"}),TextMateWorker:()=>new Worker(new URL(""+new URL("worker-DxiVtFZu.js",import.meta.url).href,import.meta.url),{type:"module"}),OutputLinkDetectionWorker:void 0,LanguageDetectionWorker:void 0,NotebookEditorWorker:void 0,LocalFileSearchWorker:void 0}),kS=o=>{j0({workerLoaders:NS(),logger:o})};function af(o,n,a,l,s){const c=a+"-grammar.json";return{$type:"extended",logLevel:MT.Warning,extensions:[{config:{name:a,publisher:"Example.com",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:[{id:a}],grammars:[{language:a,scopeName:"source."+a,path:c}]}},filesOrContents:new Map([[c,l]])}],vscodeApiConfig:{userConfiguration:{json:JSON.stringify({"editor.wordBasedSuggestions":"off","editor.experimental.asyncTokenization":!1})}},editorAppConfig:{codeResources:{modified:{text:n,enforceLanguageId:a,uri:o}},monacoWorkerFactory:kS},languageClientConfigs:{configs:{[a]:{clientOptions:{documentSelector:[a]},connection:{options:s}}}}}}var Rc,Yh;function xS(){return Yh||(Yh=1,Rc=qy()),Rc}var mg=xS();const hg="browser/DocumentChange";new mg.NotificationType(hg);const yg="browser/ModelDocumentChange";new mg.NotificationType(yg);const ES=Se.memo(Zc);function yl(o){const n=Se.useRef(void 0),[a,l]=Se.useState();Se.useEffect(()=>{let c=!0;async function d(){n.current=await MS(o.grammar,o.excludeText,o.includeAst);const{Grammar:p}=await rf({grammar:o.grammar}),m=Ey(p,{id:o.language});c&&l(af(o.uri,o.value??"",o.language,m,{$type:"WorkerDirect",worker:n.current}))}return d(),()=>{c=!1,setTimeout(()=>{n.current?.terminate(),n.current=void 0},5e3)}},[o.grammar,o.uri]),Se.useEffect(()=>{n.current?.postMessage({type:"setValue",uri:o.uri,value:o.value??""})},[o.uri,o.value]);const s=Se.useCallback(c=>{const d=o.onChange;if(d){const p=c.getLanguageClient(o.language);if(!p)throw new Error;p.onNotification(hg,m=>{m.uri===o.uri&&d({text:m.text,ast:m.ast})})}},[o.language,o.onChange,o.uri]);return a?ne.jsx(ES,{className:o.className,wrapperConfig:a,onLoad:s}):ne.jsx("div",{})}function MS(o,n,a){return new Promise((l,s)=>{const c=new Worker(new URL(""+new URL("LangiumEditorWorker-CooEVjxs.js",import.meta.url).href,import.meta.url),{type:"module"});c.onmessage=d=>{d.data.type==="started"&&l(c)},c.onerror=s,c.postMessage({type:"start",grammar:o,excludeText:n,includeAst:a})})}const OS=Vc();function zS(){const[,o]=Se.useState(),[n,a]=Se.useState(),l=Zs(s=>{o(c=>(a(Xc(OS.diff(c,s.ast)??{},c)),s.ast))},500);return ne.jsxs("main",{children:[ne.jsx(yl,{uri:"file:///code",language:"dsl",grammar:Un,value:Xs,onChange:l,excludeText:!0,includeAst:!0}),ne.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}})]})}function HS(){return ne.jsx("main",{children:ne.jsx(yl,{uri:"file:///code",language:"dsl",grammar:Un,value:Xs})})}const US={name:"Langium",scopeName:"source.langium",fileTypes:["langium"],patterns:[{include:"#regex"},{include:"#comments"},{name:"keyword.control.langium",match:"\\b(current|entry|extends|fragment|grammar|hidden|import|infer|infers|interface|returns|terminal|type|with)\\b"},{name:"constant.language.langium",match:"\\b(?i:true|false)\\b"},{name:"keyword.symbol.langium",match:"(\\{|\\}|\\:|\\]|\\[|\\(|\\)|(\\??|\\+?)\\=|->|\\=>|<|>|\\,|\\*|\\+|\\@|\\||\\&|\\?|\\!|\\;)"},{name:"string.quoted.double.langium",begin:'"',end:'"',patterns:[{include:"#string-character-escape"}]},{name:"string.quoted.single.langium",begin:"'",end:"'",patterns:[{include:"#string-character-escape"}]}],repository:{comments:{patterns:[{name:"comment.block.langium",begin:"/\\*",beginCaptures:{0:{name:"punctuation.definition.comment.langium"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.langium"}}},{begin:"(^\\s+)?(?=//)",beginCaptures:{1:{name:"punctuation.whitespace.comment.leading.cs"}},end:"(?=$)",name:"comment.line.langium"}]},"string-character-escape":{name:"constant.character.escape.langium",match:"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u\\{[0-9A-Fa-f]+\\}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"},regex:{patterns:[{name:"string.regexp.ts",begin:"(?<!\\+\\+|--|})(?<=[=(:,\\[?+!]|^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case|=>|&&|\\|\\||\\*\\/)\\s*(\\/)(?![\\/*])(?=(?:[^\\/\\\\\\[\\()]|\\\\.|\\[([^\\]\\\\]|\\\\.)+\\]|\\(([^\\)\\\\]|\\\\.)+\\))+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))",beginCaptures:{1:{name:"punctuation.definition.string.begin.ts"}},end:"(/)([a-z]*)",endCaptures:{1:{name:"punctuation.definition.string.end.ts"},2:{name:"keyword.other.ts"}},patterns:[{include:"#regexp"}]},{name:"string.regexp.ts",begin:"((?<![_$[:alnum:])\\]]|\\+\\+|--|}|\\*\\/)|((?<=^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case))\\s*)\\/(?![\\/*])(?=(?:[^\\/\\\\\\[]|\\\\.|\\[([^\\]\\\\]|\\\\.)*\\])+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))",beginCaptures:{0:{name:"punctuation.definition.string.begin.ts"}},end:"(/)([a-z]*)",endCaptures:{1:{name:"punctuation.definition.string.end.ts"},2:{name:"keyword.other.ts"}},patterns:[{include:"#regexp"}]}]},regexp:{patterns:[{name:"keyword.control.anchor.regexp",match:"\\\\[bB]|\\^|\\$"},{match:"\\\\[1-9]\\d*|\\\\k<([a-zA-Z_$][\\w$]*)>",captures:{0:{name:"keyword.other.back-reference.regexp"},1:{name:"variable.other.regexp"}}},{name:"keyword.operator.quantifier.regexp",match:"[?+*]|\\{(\\d+,\\d+|\\d+,|,\\d+|\\d+)\\}\\??"},{name:"keyword.operator.or.regexp",match:"\\|"},{name:"meta.group.assertion.regexp",begin:"(\\()((\\?=)|(\\?!)|(\\?<=)|(\\?<!))",beginCaptures:{1:{name:"punctuation.definition.group.regexp"},2:{name:"punctuation.definition.group.assertion.regexp"},3:{name:"meta.assertion.look-ahead.regexp"},4:{name:"meta.assertion.negative-look-ahead.regexp"},5:{name:"meta.assertion.look-behind.regexp"},6:{name:"meta.assertion.negative-look-behind.regexp"}},end:"(\\))",endCaptures:{1:{name:"punctuation.definition.group.regexp"}},patterns:[{include:"#regexp"}]},{name:"meta.group.regexp",begin:"\\((?:(\\?:)|(?:\\?<([a-zA-Z_$][\\w$]*)>))?",beginCaptures:{0:{name:"punctuation.definition.group.regexp"},1:{name:"punctuation.definition.group.no-capture.regexp"},2:{name:"variable.other.regexp"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.group.regexp"}},patterns:[{include:"#regexp"}]},{name:"constant.other.character-class.set.regexp",begin:"(\\[)(\\^)?",beginCaptures:{1:{name:"punctuation.definition.character-class.regexp"},2:{name:"keyword.operator.negation.regexp"}},end:"(\\])",endCaptures:{1:{name:"punctuation.definition.character-class.regexp"}},patterns:[{name:"constant.other.character-class.range.regexp",match:"(?:.|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))\\-(?:[^\\]\\\\]|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))",captures:{1:{name:"constant.character.numeric.regexp"},2:{name:"constant.character.control.regexp"},3:{name:"constant.character.escape.backslash.regexp"},4:{name:"constant.character.numeric.regexp"},5:{name:"constant.character.control.regexp"},6:{name:"constant.character.escape.backslash.regexp"}}},{include:"#regex-character-class"}]},{include:"#regex-character-class"}]},"regex-character-class":{patterns:[{name:"constant.other.character-class.regexp",match:"\\\\[wWsSdDtrnvf]|\\."},{name:"constant.character.numeric.regexp",match:"\\\\([0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})"},{name:"constant.character.control.regexp",match:"\\\\c[A-Z]"},{name:"constant.character.escape.backslash.regexp",match:"\\\\."}]}}},qS=Se.memo(Zc);function LS(o){const[n,a]=Se.useState();Se.useEffect(()=>{let s=!0,c=new Worker(new URL(""+new URL("LangiumGrammarEditorWorker-CR5hxQXi.js",import.meta.url).href,import.meta.url),{type:"module"});const d=JSON.stringify(US);return s&&a(af(o.uri,o.value??"","langium",d,{$type:"WorkerDirect",worker:c})),()=>{s=!1,setTimeout(()=>{c?.terminate(),c=void 0},5e3)}},[o.uri]);const l=Se.useCallback(s=>{const c=o.onChange;c&&s.modified&&c(s.modified)},[o.onChange]);return n?ne.jsx(qS,{className:o.className,wrapperConfig:n,onTextChanged:l}):ne.jsx("div",{})}function GS(){const[o,n]=Se.useState(Un),a=Zs(n,500);return ne.jsxs("main",{children:[ne.jsx(LS,{uri:"file:///grammar",value:Un,onChange:a}),ne.jsx(yl,{uri:"file:///code",value:Xs,language:"dsl",grammar:o})]})}const jS={json:{version:"1.0",encoding:"utf-8"},ns:{classmodel:"https://example.com/class-model",ecore:"http://www.eclipse.org/emf/2002/Ecore"},content:[{id:"01977522-4f1d-7001-bd21-58316f012208",eClass:"classmodel:ClassModel",data:{name:"model1",classes:[{id:"01977522-53b4-7133-88b4-43b01dd76590",eClass:"classmodel:Class",data:{localizedName:[{id:"01977522-53b4-7133-88b4-4543b55c3bef",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"тест"}},{id:"01977522-53b4-7133-88b4-4bcebf764da5",eClass:"ecore:EStringToStringMapEntry",data:{key:"fr-FR",value:"french"}}],localizedDescription:[{id:"01977522-53b4-7133-88b4-4ecf7b819c04",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"описание"}}],kind:"Regular",name:"Cls",generals:["01977522-53b4-7133-88b4-656c2dab1f0f","01977522-53b4-7133-88b4-6a42d3c27494","01977522-53b4-7133-88b4-73337216610c"],properties:[{id:"01977522-53b4-7133-88b4-53367dfdae44",eClass:"classmodel:Attribute",data:{localizedName:[{id:"01977522-53b4-7133-88b4-5496f8a69f70",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"атрибут"}}],name:"a1",dataType:"01977522-53b4-7133-88b4-7590aef8a6d5"}},{id:"01977522-53b4-7133-88b4-5bd3de0ec379",eClass:"classmodel:Reference",data:{localizedName:[{id:"01977522-53b4-7133-88b4-5ca2dec3c106",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"ссылка"}}],name:"r1",target:"01977522-53b4-7133-88b4-43b01dd76590",localizedDescription:[]}},{id:"01977522-53b4-7133-88b4-6291aef99619",eClass:"classmodel:Attribute",data:{name:"a2",dataType:"01977522-53b4-7133-88b4-7dbbb745fe33"}}]}},{id:"01977522-53b4-7133-88b4-656c2dab1f0f",eClass:"classmodel:Class",data:{kind:"Abstract",name:"Qwe"}},{id:"01977522-53b4-7133-88b4-6a42d3c27494",eClass:"classmodel:Class",data:{localizedName:[{id:"01977522-53b4-7133-88b4-6ee45c328a16",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"интерфейс"}}],kind:"Interface",name:"Zxc"}},{id:"01977522-53b4-7133-88b4-73337216610c",eClass:"classmodel:Class",data:{kind:"Interface",name:"Rty"}}],dataTypes:[{id:"01977522-53b4-7133-88b4-7590aef8a6d5",eClass:"classmodel:StringType",data:{localizedName:[{id:"01977522-53b4-7133-88b4-7953e1184d6b",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"строка"}}],name:"String100",length:100,pattern:`q\\we'c
"c`}},{id:"01977522-53b4-7133-88b4-7dbbb745fe33",eClass:"classmodel:NumericType",data:{localizedName:[{id:"01977522-53b4-7133-88b4-81e21d07084e",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"целое"}}],name:"Int",fractionDigits:0}},{id:"01977522-53b4-7133-88b4-8538d900deaf",eClass:"classmodel:TimeType",data:{name:"Date",instantUnits:["Year","Month","Day"]}},{id:"01977522-53b4-7133-88b4-8bfc30ac6e14",eClass:"classmodel:EnumeratedType",data:{name:"Enum",literals:[{id:"01977522-53b4-7133-88b4-8f8ddee10c9f",eClass:"classmodel:EnumeratedTypeLiteral",data:{name:"literal1"}},{id:"01977522-53b4-7133-88b4-9366d6fc9d3b",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"01977522-53b4-7133-88b4-9404d10b3c3f",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"литерал2"}}],name:"literal2"}}]}}]}}]};function gg(o){return typeof o=="object"&&o!==null&&"eClass"in o}class KS{serialize(n,a){return{json:{version:"1.0",encoding:"utf-8"},ns:a.namespaces,content:[this.serializeNode(n,Object.keys(a.namespaces)[0])]}}serializeNode(n,a){const l=n.$type.indexOf("_"),s=l>=0?n.$type.substring(0,l).toLowerCase()+":"+n.$type.substring(l+1):a+":"+n.$type;if(n.$id===void 0)throw new Error;return{id:n.$id,eClass:s,data:Object.fromEntries(Object.entries(n).filter(([c])=>!c.startsWith("$")).map(([c,d])=>[c,this.serializeValue(d,a)]))}}serializeValue(n,a){if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return n;if(Array.isArray(n))return n.map(l=>this.serializeValue(l,a));if(BS(n)){const l=n.$type.indexOf("__");return l>=0?n.$type.substring(l+2):this.serializeNode(n,a)}if(dy(n)){if(!n.ref)throw new Error(`Unresolved reference ${n.$refText}`);if(!("$id"in n.ref))throw new Error;return n.ref.$id}throw new Error(`Unsupported value of type ${typeof n}`)}deserialize(n,a){const l=new Map;qc(n.content[0],l);function s(c){const d=l.get(c);if(!d)throw new Error(`Object ${c} not found`);return d}return this.deserializeNode(n.content[0],s,Object.keys(n.ns)[0],a.grammar)}deserializeNode(n,a,l,s){const[c,d]=n.eClass.split(":",2),p=c===l?d:c+"_"+d,m=s.rules.find(y=>se(y)&&y.name.toLowerCase()===p.toLowerCase());if(!m)throw new Error(`Rule not found for ${p}`);return{$id:n.id,$type:m.name,...Object.fromEntries(Object.entries(n.data).map(([y,g])=>[y,this.deserializeValue(g,a,l,s,Lc(m.definition,y))]))}}deserializeValue(n,a,l,s,c){if(n==null)return n;if(typeof n=="string")return Ye(c)&&se(c.rule.ref)?{$type:c.rule.ref.name+"__"+n}:Ln(c)?{$refText:a(n).data.name}:n;if(typeof n=="number"||typeof n=="boolean")return n;if(Array.isArray(n))return n.map(d=>this.deserializeValue(d,a,l,s,c));if(gg(n))return this.deserializeNode(n,a,l,s);throw console.error(n),new Error(`Unsupported value of type ${typeof n}`)}}function qc(o,n){if(Array.isArray(o))for(const a of o)qc(a,n);if(gg(o)){n.set(o.id,o);for(const a of Object.values(o.data))qc(a,n)}}function Lc(o,n){if(Vt(o)||Xt(o)){for(const a of o.elements){const l=Lc(a,n);if(l!==void 0)return l}return}if(pt(o))return o.feature===n&&(Ye(o.terminal)||Ln(o.terminal))?o.terminal:void 0;if(Ye(o))return o.rule.ref?Lc(o.rule.ref?.definition,n):void 0;if(!(ot(o)||rn(o)))throw new Error(`Unsupported ${o.$type}`)}function BS(o){return Gc(o)}class vg{node;indices;constructor(n){this.node=n,this.indices=new Map}type(){return this.node.$type}get(n){const a=this.node[n];if(!Array.isArray(a))return a;const l=this.indices.get(n)??0;return this.indices.set(n,l+1),a[l]}}function Tg(o,n,a={indent:""}){const l=n.rules.find(c=>se(c)&&c.name===o.$type);if(!l)throw new Error(`Rule not found for ${o.$type}`);const s=vl(new vg(o),n,l.definition,a);return VS(s?.trim().replace(/[ ]+$/gm,"")??"")+`
`}function vl(o,n,a,l){if(Vt(a))return Ls(o,n,a,l,FS);if(Xt(a))return Ls(o,n,a,l,PS);if(pt(a))return Ls(o,n,a,l,YS);if(Ye(a))return a.rule.ref?.name==="_NL"?`
`:a.rule.ref?.fragment||o.type()===a.rule.ref?.name?Ls(o,n,a.rule.ref?.definition,l,vl,a.cardinality):void 0;if(ot(a))return o.type()===a.inferredType?.name?"":void 0;if(rn(a))return a.value;throw new Error(`Unsupported ${a.$type}`)}function FS(o,n,a,l){const s=[];for(const c of a.elements){const d=vl(o,n,c,l);if(d===void 0)return;s.push(d)}return bg(s)}function PS(o,n,a,l){for(const s of a.elements){const c=vl(o,n,s,l);if(c!==void 0)return c}}function YS(o,n,a,l){if(Ye(a.terminal)){const s=o.get(a.feature);if(s===void 0)return;if(se(a.terminal.rule.ref)){if(!Gc(s))throw new Error(`Expected AST node but got '${s}' with type ${typeof s}`);return vl(new vg(s),n,a.terminal.rule.ref.definition,l)}if(rt(a.terminal.rule.ref)){if(typeof s=="string")return a.terminal.rule.ref.name==="STRING"?"'"+s.replace("\\","\\\\").replace("\b","\\b").replace("\f","\\f").replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t").replace("\v","\\v").replace("'","\\'")+"'":s;if(typeof s=="number")return s.toString();throw new Error(`Unsupported value '${s}' with type ${typeof s}`)}throw new Error}if(Ln(a.terminal)){const s=o.get(a.feature);if(s===void 0)return;if(!dy(s))throw new Error(`Expected cross-reference but got '${s}' with type ${typeof s}`);return s.$refText}throw new Error(`Unsupported terminal ${a.terminal.$type}`)}const QS=1e4;function Ls(o,n,a,l,s,c){const d=[],p=c==="*"||c==="+"||a.cardinality==="*"||a.cardinality==="+";let m=0;do{const g=s(o,n,a,l);if(g===void 0)break;if(m++>=QS)throw new Error;d.push(g)}while(p);const y=c==="?"||c==="*"||a.cardinality==="?"||a.cardinality==="*";return d.length||y?bg(d):void 0}function bg(o){let n="";for(const a of o)!n.length||n.endsWith(`
`)||n.endsWith("(")||a.startsWith(",")||a.startsWith("(")||a.startsWith(")")?n+=a:a&&(n+=" "+a);return n}function VS(o){let n="",a=0;for(let l=0;l<o.length;l++)n+=o[l],o[l]==="{"?a++:o[l]==="}"?a--:o[l]===`
`&&o[l+1]!==`
`&&o[l+1]!=="}"&&(n+="  ".repeat(a));return n}const XS=Se.memo(Zc),ZS=new KS;function Qh(o){const n=Se.useRef(void 0),[a,l]=Se.useState();Se.useEffect(()=>{let c=!0;async function d(){n.current=await WS(o.grammar,o.value.ns);const{Grammar:p}=await rf({grammar:o.grammar}),m=Ey(p,{id:o.language});if(c){const y=ZS.deserialize(o.value,{grammar:p}),g=Tg(y,p);l(af(o.uri,g,o.language,m,{$type:"WorkerDirect",worker:n.current}))}}return d(),()=>{c=!1,setTimeout(()=>{n.current?.terminate(),n.current=void 0},5e3)}},[o.grammar,o.uri]),Se.useEffect(()=>{n.current?.postMessage({type:"setValue",uri:o.uri,value:o.value??""})},[o.uri,o.value]);const s=Se.useCallback(c=>{const d=o.onChange;if(d){const p=c.getLanguageClient(o.language);if(!p)throw new Error;p.onNotification(yg,m=>{m.uri===o.uri&&d(m.model)})}},[o.language,o.onChange,o.uri]);return a?ne.jsx(XS,{className:o.className,wrapperConfig:a,onLoad:s}):ne.jsx("div",{})}function WS(o,n){return new Promise((a,l)=>{const s=new Worker(new URL(""+new URL("LangiumModelEditorWorker-Cs0PBwp5.js",import.meta.url).href,import.meta.url),{type:"module"});s.onmessage=c=>{c.data.type==="started"&&a(s)},s.onerror=l,s.postMessage({type:"start",grammar:o,namespaces:n})})}const IS=Vc({});function JS(){const[o,n]=Se.useState(),[a,l]=Se.useState(),s=Zs(async c=>{n(d=>(l(Xc(IS.diff(d,c)??{},d)),c))},500);return ne.jsxs("main",{children:[ne.jsx(Qh,{uri:"file:///code",language:"dsl",grammar:Un,value:jS,onChange:s}),ne.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:a??""}}),o?ne.jsx(Qh,{uri:"file:///code2",language:"dsl2",grammar:Un,value:o}):ne.jsx("div",{})]})}const e1=Vc();function t1(){const[,o]=Se.useState(),[n,a]=Se.useState(),[l,s]=Se.useState(),c=Zs(async d=>{if(o(p=>(a(Xc(e1.diff(p,d.ast)??{},p)),d.ast)),d.ast){const{Grammar:p}=await rf({grammar:Un});s(Tg(d.ast,p))}},500);return ne.jsxs("main",{children:[ne.jsx(yl,{uri:"file:///code",value:Xs,language:"dsl",grammar:Un,onChange:c,excludeText:!0,includeAst:!0}),ne.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}}),ne.jsx(yl,{uri:"file:///code2",value:l,language:"dsl2",grammar:Un})]})}function n1(){return ne.jsxs(U0,{children:[ne.jsx("header",{children:ne.jsx("nav",{children:ne.jsxs("ul",{children:[ne.jsx("li",{children:ne.jsx(Ki,{to:"/",children:"Editor"})}),ne.jsx("li",{children:ne.jsx(Ki,{to:"/ast",children:"AST"})}),ne.jsx("li",{children:ne.jsx(Ki,{to:"/print",children:"Print"})}),ne.jsx("li",{children:ne.jsx(Ki,{to:"/grammar",children:"Grammar"})}),ne.jsx("li",{children:ne.jsx(Ki,{to:"/model",children:"Model"})})]})})}),ne.jsxs(q0,{children:[ne.jsx(Bi,{index:!0,element:ne.jsx(HS,{})}),ne.jsx(Bi,{path:"ast",element:ne.jsx(zS,{})}),ne.jsx(Bi,{path:"print",element:ne.jsx(t1,{})}),ne.jsx(Bi,{path:"grammar",element:ne.jsx(GS,{})}),ne.jsx(Bi,{path:"model",element:ne.jsx(JS,{})})]})]})}GT.createRoot(document.getElementById("root")).render(ne.jsx(n1,{}));

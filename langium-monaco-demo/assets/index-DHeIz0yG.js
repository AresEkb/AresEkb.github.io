import{r as $0,a as _0,b as me,R as w0,H as x0,N as Hr,c as k0,d as Lr}from"./react-DaXNwOpS.js";import{r as E0}from"./vscode-languageclient-DAogGu5a.js";import"./monaco-vscode-editor-api-CKn10-dZ.js";import"./monaco-vscode-api-CfKh107e.js";import{M as M0,u as z0}from"./monaco-editor-wrapper-BYYni6Vk.js";import{r as Ye}from"./vscode-lsp-GPiB9BOq.js";import{aR as Yy}from"./monaco-vscode-base-service-override-DWrDktfJ.js";import{l as O0,L as U0,f as zt,U as fa,i as se,d as fl,g as Ze,s as zn,e as lt,h as nt,j as Yt,k as Qy,n as tn,o as nn,p as pa,q as mt,t as ft,u as Lc,v as Xy,w as Un,x as Bs,y as Vy,z as Hn,A as Ba,B as H0,C as pt,D as qc,E as Mt,F as Ym,G as Qm,H as L0,I as we,J as Zy,K as q0,M as G0,N as j0,O as K0,P as B0,Q as js,R as P0,S as Iy,T as F0,V as Pa,W as Wy,X as La,Y as Jy,Z as Xm,_ as Y0,$ as eh,a0 as th,a1 as Q0,a2 as X0,a3 as V0,a4 as Z0,a5 as Vm,a6 as nh,a7 as Zm,a8 as Im,a9 as Dc,aa as I0,ab as W0,ac as yl,ad as J0,ae as ah,af as Ga,ag as eT,ah as Wm,ai as tT,aj as Jm,ak as nT,al as aT,am as rT,an as iT,ao as lT,ap as sT,aq as rn,ar as Ya,as as oT,at as rh,au as ih,av as uT,aw as Br,ax as Cc,ay as cT,az as fT,aA as Ve,aB as Qr,aC as dT,aD as lh,aE as pT,aF as sh,aG as Gc,aH as jc,aI as Kc,aJ as oh,aK as uh,aL as En,aM as mT,aN as yT,aO as hT,aP as Ps,aQ as gT,aR as vT,aS as ey,aT as TT,aU as pn,aV as fc,aW as bT,aX as RT,aY as ST,aZ as DT,a_ as CT,a$ as ty,b0 as AT,b1 as NT}from"./langium-_yyiCiW_.js";import"./monaco-vscode-extension-api-Bjm93krH.js";import"./monaco-vscode-configuration-service-override-CUpVvDQd.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();var dc={exports:{}},Yi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function $T(){if(ny)return Yi;ny=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:o,type:l,key:d,ref:s!==void 0?s:null,props:c}}return Yi.Fragment=n,Yi.jsx=r,Yi.jsxs=r,Yi}var ay;function _T(){return ay||(ay=1,dc.exports=$T()),dc.exports}var Z=_T(),pc={exports:{}},Qi={},mc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function wT(){return ry||(ry=1,function(o){function n(M,Q){var ee=M.length;M.push(Q);e:for(;0<ee;){var Y=ee-1>>>1,z=M[Y];if(0<s(z,Q))M[Y]=Q,M[ee]=z,ee=Y;else break e}}function r(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var Q=M[0],ee=M.pop();if(ee!==Q){M[0]=ee;e:for(var Y=0,z=M.length,he=z>>>1;Y<he;){var ke=2*(Y+1)-1,be=M[ke],qe=ke+1,Ct=M[qe];if(0>s(be,ee))qe<z&&0>s(Ct,be)?(M[Y]=Ct,M[qe]=ee,Y=qe):(M[Y]=be,M[ke]=ee,Y=ke);else if(qe<z&&0>s(Ct,ee))M[Y]=Ct,M[qe]=ee,Y=qe;else break e}}return Q}function s(M,Q){var ee=M.sortIndex-Q.sortIndex;return ee!==0?ee:M.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();o.unstable_now=function(){return d.now()-p}}var m=[],h=[],g=1,T=null,R=3,D=!1,H=!1,B=!1,q=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(M){for(var Q=r(h);Q!==null;){if(Q.callback===null)l(h);else if(Q.startTime<=M)l(h),Q.sortIndex=Q.expirationTime,n(m,Q);else break;Q=r(h)}}function oe(M){if(B=!1,W(M),!H)if(r(m)!==null)H=!0,ie||(ie=!0,Le());else{var Q=r(h);Q!==null&&gt(oe,Q.startTime-M)}}var ie=!1,ye=-1,fe=5,Oe=-1;function xe(){return q?!0:!(o.unstable_now()-Oe<fe)}function yt(){if(q=!1,ie){var M=o.unstable_now();Oe=M;var Q=!0;try{e:{H=!1,B&&(B=!1,j(ye),ye=-1),D=!0;var ee=R;try{t:{for(W(M),T=r(m);T!==null&&!(T.expirationTime>M&&xe());){var Y=T.callback;if(typeof Y=="function"){T.callback=null,R=T.priorityLevel;var z=Y(T.expirationTime<=M);if(M=o.unstable_now(),typeof z=="function"){T.callback=z,W(M),Q=!0;break t}T===r(m)&&l(m),W(M)}else l(m);T=r(m)}if(T!==null)Q=!0;else{var he=r(h);he!==null&&gt(oe,he.startTime-M),Q=!1}}break e}finally{T=null,R=ee,D=!1}Q=void 0}}finally{Q?Le():ie=!1}}}var Le;if(typeof F=="function")Le=function(){F(yt)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ln=ht.port2;ht.port1.onmessage=yt,Le=function(){ln.postMessage(null)}}else Le=function(){P(yt,0)};function gt(M,Q){ye=P(function(){M(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return R},o.unstable_next=function(M){switch(R){case 1:case 2:case 3:var Q=3;break;default:Q=R}var ee=R;R=Q;try{return M()}finally{R=ee}},o.unstable_requestPaint=function(){q=!0},o.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=R;R=M;try{return Q()}finally{R=ee}},o.unstable_scheduleCallback=function(M,Q,ee){var Y=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,M={id:g++,callback:Q,priorityLevel:M,startTime:ee,expirationTime:z,sortIndex:-1},ee>Y?(M.sortIndex=ee,n(h,M),r(m)===null&&M===r(h)&&(B?(j(ye),ye=-1):B=!0,gt(oe,ee-Y))):(M.sortIndex=z,n(m,M),H||D||(H=!0,ie||(ie=!0,Le()))),M},o.unstable_shouldYield=xe,o.unstable_wrapCallback=function(M){var Q=R;return function(){var ee=R;R=Q;try{return M.apply(this,arguments)}finally{R=ee}}}}(yc)),yc}var iy;function xT(){return iy||(iy=1,mc.exports=wT()),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function kT(){if(ly)return Qi;ly=1;var o=xT(),n=$0(),r=_0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return p(u),e;if(f===i)return p(u),t;f=f.sibling}throw Error(l(188))}if(a.return!==i.return)a=u,i=f;else{for(var y=!1,v=u.child;v;){if(v===a){y=!0,a=u,i=f;break}if(v===i){y=!0,i=u,a=f;break}v=v.sibling}if(!y){for(v=f.child;v;){if(v===a){y=!0,a=f,i=u;break}if(v===i){y=!0,i=f,a=u;break}v=v.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Symbol.for("react.client.reference");function ln(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case q:return"Profiler";case B:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case Oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case F:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:ln(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return ln(e(t))}catch{}}return null}var gt=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Y=[],z=-1;function he(e){return{current:e}}function ke(e){0>z||(e.current=Y[z],Y[z]=null,z--)}function be(e,t){z++,Y[z]=e.current,e.current=t}var qe=he(null),Ct=he(null),Xt=he(null),ya=he(null);function Qa(e,t){switch(be(Xt,t),be(Ct,e),be(qe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bm(t),e=Rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(qe),be(qe,e)}function qn(){ke(qe),ke(Ct),ke(Xt)}function ae(e){e.memoizedState!==null&&be(ya,e);var t=qe.current,a=Rm(t,e.type);t!==a&&(be(Ct,e),be(qe,a))}function _(e){Ct.current===e&&(ke(qe),ke(Ct)),ya.current===e&&(ke(ya),ji._currentValue=ee)}var G=Object.prototype.hasOwnProperty,le=o.unstable_scheduleCallback,U=o.unstable_cancelCallback,st=o.unstable_shouldYield,Vt=o.unstable_requestPaint,ot=o.unstable_now,bl=o.unstable_getCurrentPriorityLevel,Xr=o.unstable_ImmediatePriority,Vr=o.unstable_UserBlockingPriority,ha=o.unstable_NormalPriority,Xa=o.unstable_LowPriority,Rl=o.unstable_IdlePriority,Va=o.log,Za=o.unstable_setDisableYieldValue,sn=null,Be=null;function E(e){if(typeof Va=="function"&&Za(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(sn,e)}catch{}}var x=Math.clz32?Math.clz32:Ot,X=Math.log,Zt=Math.LN2;function Ot(e){return e>>>=0,e===0?32:31-(X(e)/Zt|0)|0}var Ia=256,Sl=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dl(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~f,i!==0?u=ga(i):(y&=v,y!==0?u=ga(y):a||(a=v&~e,a!==0&&(u=ga(a))))):(v=i&~f,v!==0?u=ga(v):y!==0?u=ga(y):a||(a=i&~e,a!==0&&(u=ga(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Zr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nf(){var e=Ia;return Ia<<=1,(Ia&4194048)===0&&(Ia=256),e}function af(){var e=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),e}function Js(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ir(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yg(e,t,a,i,u,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=y&~a;0<a;){var k=31-x(a),L=1<<k;v[k]=0,b[k]=-1;var $=N[k];if($!==null)for(N[k]=null,k=0;k<$.length;k++){var w=$[k];w!==null&&(w.lane&=-536870913)}a&=~L}i!==0&&rf(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function rf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-x(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function lf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-x(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function eo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function to(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sf(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Gm(e.type))}function hg(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var Gn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Gn,vt="__reactProps$"+Gn,Wa="__reactContainer$"+Gn,no="__reactEvents$"+Gn,gg="__reactListeners$"+Gn,vg="__reactHandles$"+Gn,of="__reactResources$"+Gn,Wr="__reactMarker$"+Gn;function ao(e){delete e[ut],delete e[vt],delete e[no],delete e[gg],delete e[vg]}function Ja(e){var t=e[ut];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Wa]||a[ut]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Am(e);e!==null;){if(a=e[ut])return a;e=Am(e)}return t}e=a,a=e.parentNode}return null}function er(e){if(e=e[ut]||e[Wa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Jr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function tr(e){var t=e[of];return t||(t=e[of]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Wr]=!0}var uf=new Set,cf={};function va(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(cf[e]=t,e=0;e<t.length;e++)uf.add(t[e])}var Tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ff={},df={};function bg(e){return G.call(df,e)?!0:G.call(ff,e)?!1:Tg.test(e)?df[e]=!0:(ff[e]=!0,!1)}function Cl(e,t,a){if(bg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Al(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function yn(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var ro,pf;function ar(e){if(ro===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||"",pf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+e+pf}var io=!1;function lo(e,t){if(!e||io)return"";io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(w){var $=w}Reflect.construct(e,[],L)}else{try{L.call()}catch(w){$=w}e.call(L.prototype)}}else{try{throw Error()}catch(w){$=w}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(w){if(w&&$&&typeof w.stack=="string")return[w.stack,$.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),y=f[0],v=f[1];if(y&&v){var b=y.split(`
`),N=v.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===N.length)for(i=b.length-1,u=N.length-1;1<=i&&0<=u&&b[i]!==N[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==N[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==N[u]){var k=`
`+b[i].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=i&&0<=u);break}}}finally{io=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ar(a):""}function Rg(e){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return lo(e.type,!1);case 11:return lo(e.type.render,!1);case 1:return lo(e.type,!0);case 31:return ar("Activity");default:return""}}function mf(e){try{var t="";do t+=Rg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=yf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){i=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nl(e){e._valueTracker||(e._valueTracker=Sg(e))}function hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=yf(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dg=/[\n"\\]/g;function Ht(e){return e.replace(Dg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function so(e,t,a,i,u,f,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?oo(e,y,Ut(t)):a!=null?oo(e,y,Ut(a)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ut(v):e.removeAttribute("name")}function gf(e,t,a,i,u,f,y,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function oo(e,t,a){t==="number"&&$l(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rr(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function vf(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Tf(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(gt(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function ir(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Cg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Rf(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&bf(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&bf(e,f,t[f])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return Ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var co=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,sr=null;function Sf(e){var t=er(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(so(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[vt]||null;if(!u)throw Error(l(90));so(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&hf(i)}break e;case"textarea":vf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&rr(e,!!a.multiple,t,!1)}}}var po=!1;function Df(e,t,a){if(po)return e(t,a);po=!0;try{var i=e(t);return i}finally{if(po=!1,(lr!==null||sr!==null)&&(ps(),lr&&(t=lr,e=sr,sr=lr=null,Sf(t),e)))for(t=0;t<e.length;t++)Sf(e[t])}}function ei(e,t){var a=e.stateNode;if(a===null)return null;var i=a[vt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(hn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){mo=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{mo=!1}var jn=null,yo=null,wl=null;function Cf(){if(wl)return wl;var e,t=yo,a=t.length,i,u="value"in jn?jn.value:jn.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var y=a-e;for(i=1;i<=y&&t[a-i]===u[f-i];i++);return wl=u.slice(e,1<i?1-i:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function Af(){return!1}function Tt(e){function t(a,i,u,f,y){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kl:Af,this.isPropagationStopped=Af,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Tt(Ta),ni=g({},Ta,{view:0,detail:0}),$g=Tt(ni),ho,go,ai,Ml=g({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(ho=e.screenX-ai.screenX,go=e.screenY-ai.screenY):go=ho=0,ai=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Nf=Tt(Ml),_g=g({},Ml,{dataTransfer:0}),wg=Tt(_g),xg=g({},ni,{relatedTarget:0}),vo=Tt(xg),kg=g({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=Tt(kg),Mg=g({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zg=Tt(Mg),Og=g({},Ta,{data:0}),$f=Tt(Og),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function To(){return qg}var Gg=g({},ni,{key:function(e){if(e.key){var t=Ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=Tt(Gg),Kg=g({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=Tt(Kg),Bg=g({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Pg=Tt(Bg),Fg=g({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=Tt(Fg),Qg=g({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xg=Tt(Qg),Vg=g({},Ta,{newState:0,oldState:0}),Zg=Tt(Vg),Ig=[9,13,27,32],bo=hn&&"CompositionEvent"in window,ri=null;hn&&"documentMode"in document&&(ri=document.documentMode);var Wg=hn&&"TextEvent"in window&&!ri,wf=hn&&(!bo||ri&&8<ri&&11>=ri),xf=" ",kf=!1;function Ef(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Jg(e,t){switch(e){case"compositionend":return Mf(t);case"keypress":return t.which!==32?null:(kf=!0,xf);case"textInput":return e=t.data,e===xf&&kf?null:e;default:return null}}function ev(e,t){if(or)return e==="compositionend"||!bo&&Ef(e,t)?(e=Cf(),wl=yo=jn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tv[e.type]:t==="textarea"}function Of(e,t,a,i){lr?sr?sr.push(i):sr=[i]:lr=i,t=Ts(t,"onChange"),0<t.length&&(a=new El("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var ii=null,li=null;function nv(e){ym(e,0)}function zl(e){var t=Jr(e);if(hf(t))return e}function Uf(e,t){if(e==="change")return t}var Hf=!1;if(hn){var Ro;if(hn){var So="oninput"in document;if(!So){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),So=typeof Lf.oninput=="function"}Ro=So}else Ro=!1;Hf=Ro&&(!document.documentMode||9<document.documentMode)}function qf(){ii&&(ii.detachEvent("onpropertychange",Gf),li=ii=null)}function Gf(e){if(e.propertyName==="value"&&zl(li)){var t=[];Of(t,li,e,fo(e)),Df(nv,t)}}function av(e,t,a){e==="focusin"?(qf(),ii=t,li=a,ii.attachEvent("onpropertychange",Gf)):e==="focusout"&&qf()}function rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(li)}function iv(e,t){if(e==="click")return zl(t)}function lv(e,t){if(e==="input"||e==="change")return zl(t)}function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:sv;function si(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!G.call(t,u)||!At(e[u],t[u]))return!1}return!0}function jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var a=jf(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jf(a)}}function Bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$l(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$l(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ov=hn&&"documentMode"in document&&11>=document.documentMode,ur=null,Co=null,oi=null,Ao=!1;function Ff(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ao||ur==null||ur!==$l(i)||(i=ur,"selectionStart"in i&&Do(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oi&&si(oi,i)||(oi=i,i=Ts(Co,"onSelect"),0<i.length&&(t=new El("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=ur)))}function ba(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cr={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},No={},Yf={};hn&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Ra(e){if(No[e])return No[e];if(!cr[e])return e;var t=cr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yf)return No[e]=t[a];return e}var Qf=Ra("animationend"),Xf=Ra("animationiteration"),Vf=Ra("animationstart"),uv=Ra("transitionrun"),cv=Ra("transitionstart"),fv=Ra("transitioncancel"),Zf=Ra("transitionend"),If=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function It(e,t){If.set(e,t),va(t,[e])}var Wf=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=Wf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:mf(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:mf(t)}}var qt=[],fr=0,_o=0;function Ol(){for(var e=fr,t=_o=fr=0;t<e;){var a=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var u=qt[t];qt[t++]=null;var f=qt[t];if(qt[t++]=null,i!==null&&u!==null){var y=i.pending;y===null?u.next=u:(u.next=y.next,y.next=u),i.pending=u}f!==0&&Jf(a,u,f)}}function Ul(e,t,a,i){qt[fr++]=e,qt[fr++]=t,qt[fr++]=a,qt[fr++]=i,_o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function wo(e,t,a,i){return Ul(e,t,a,i),Hl(e)}function dr(e,t){return Ul(e,null,null,t),Hl(e)}function Jf(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,i=f.alternate,i!==null&&(i.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-x(a),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),f):null}function Hl(e){if(50<Mi)throw Mi=0,Ou=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pr={};function dv(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,i){return new dv(e,t,a,i)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ed(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ll(e,t,a,i,u,f){var y=0;if(i=e,typeof e=="function")xo(e)&&(y=1);else if(typeof e=="string")y=m0(e,a,qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Oe:return e=Nt(31,a,t,u),e.elementType=Oe,e.lanes=f,e;case H:return Sa(a.children,u,f,t);case B:y=8,u|=24;break;case q:return e=Nt(12,a,t,u|2),e.elementType=q,e.lanes=f,e;case oe:return e=Nt(13,a,t,u),e.elementType=oe,e.lanes=f,e;case ie:return e=Nt(19,a,t,u),e.elementType=ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:case F:y=10;break e;case j:y=9;break e;case W:y=11;break e;case ye:y=14;break e;case fe:y=16,i=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Nt(y,a,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function Sa(e,t,a,i){return e=Nt(7,e,i,t),e.lanes=a,e}function ko(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function Eo(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mr=[],yr=0,ql=null,Gl=0,Gt=[],jt=0,Da=null,vn=1,Tn="";function Ca(e,t){mr[yr++]=Gl,mr[yr++]=ql,ql=e,Gl=t}function td(e,t,a){Gt[jt++]=vn,Gt[jt++]=Tn,Gt[jt++]=Da,Da=e;var i=vn;e=Tn;var u=32-x(i)-1;i&=~(1<<u),a+=1;var f=32-x(t)+u;if(30<f){var y=u-u%5;f=(i&(1<<y)-1).toString(32),i>>=y,u-=y,vn=1<<32-x(t)+u|a<<u|i,Tn=f+e}else vn=1<<f|a<<u|i,Tn=e}function Mo(e){e.return!==null&&(Ca(e,1),td(e,1,0))}function zo(e){for(;e===ql;)ql=mr[--yr],mr[yr]=null,Gl=mr[--yr],mr[yr]=null;for(;e===Da;)Da=Gt[--jt],Gt[jt]=null,Tn=Gt[--jt],Gt[jt]=null,vn=Gt[--jt],Gt[jt]=null}var dt=null,Ue=null,Re=!1,Aa=null,on=!1,Oo=Error(l(519));function Na(e){var t=Error(l(418,""));throw fi(Lt(t,e)),Oo}function nd(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[ut]=e,t[vt]=i,a){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(a=0;a<Oi.length;a++)pe(Oi[a],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),gf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Nl(t);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Tf(t,i.value,i.defaultValue,i.children),Nl(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Tm(t.textContent,a)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=bs),t=!0):t=!1,t||Na(e)}function ad(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:dt=dt.return}}function ui(e){if(e!==dt)return!1;if(!Re)return ad(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Iu(e.type,e.memoizedProps)),a=!a),a&&Ue&&Na(e),ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ue=Jt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ue=null}}else t===27?(t=Ue,aa(e.type)?(e=tc,tc=null,Ue=e):Ue=t):Ue=dt?Jt(e.stateNode.nextSibling):null;return!0}function ci(){Ue=dt=null,Re=!1}function rd(){var e=Aa;return e!==null&&(St===null?St=e:St.push.apply(St,e),Aa=null),e}function fi(e){Aa===null?Aa=[e]:Aa.push(e)}var Uo=he(null),$a=null,bn=null;function Kn(e,t,a){be(Uo,t._currentValue),t._currentValue=a}function Rn(e){e._currentValue=Uo.current,ke(Uo)}function Ho(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Lo(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var b=0;b<t.length;b++)if(v.context===t[b]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Ho(f.return,a,e),i||(y=null);break e}f=v.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Ho(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function di(e,t,a,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var v=u.type;At(u.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(u===ya.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}u=u.return}e!==null&&Lo(t,e,a,i),t.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){$a=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return id($a,e)}function Kl(e,t){return $a===null&&_a(e),id(e,t)}function id(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},bn===null){if(e===null)throw Error(l(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return a}var pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},mv=o.unstable_scheduleCallback,yv=o.unstable_NormalPriority,Qe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new pv,data:new Map,refCount:0}}function pi(e){e.refCount--,e.refCount===0&&mv(yv,function(){e.controller.abort()})}var mi=null,Go=0,hr=0,gr=null;function hv(e,t){if(mi===null){var a=mi=[];Go=0,hr=Ku(),gr={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Go++,t.then(ld,ld),t}function ld(){if(--Go===0&&mi!==null){gr!==null&&(gr.status="fulfilled");var e=mi;mi=null,hr=0,gr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gv(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var sd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&hv(e,t),sd!==null&&sd(e,t)};var wa=he(null);function jo(){var e=wa.current;return e!==null?e:Ee.pooledCache}function Bl(e,t){t===null?be(wa,wa.current):be(wa,t.pool)}function od(){var e=jo();return e===null?null:{parent:Qe._currentValue,pool:e}}var yi=Error(l(460)),ud=Error(l(474)),Pl=Error(l(542)),Ko={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fl(){}function fd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Fl,Fl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(Fl,Fl);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw hi=t,yi}}var hi=null;function dd(){if(hi===null)throw Error(l(459));var e=hi;return hi=null,e}function pd(e){if(e===yi||e===Pl)throw Error(l(483))}var Bn=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(De&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Hl(e),Jf(e,null,a),t}return Ul(e,i,t,a),Hl(e)}function gi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,lf(e,a)}}function Fo(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Yo=!1;function vi(){if(Yo){var e=gr;if(e!==null)throw e}}function Ti(e,t,a,i){Yo=!1;var u=e.updateQueue;Bn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var b=v,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var k=e.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==y&&(v===null?k.firstBaseUpdate=N:v.next=N,k.lastBaseUpdate=b))}if(f!==null){var L=u.baseState;y=0,k=N=b=null,v=f;do{var $=v.lane&-536870913,w=$!==v.lane;if(w?(ge&$)===$:(i&$)===$){$!==0&&$===hr&&(Yo=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var re=e,J=v;$=t;var $e=a;switch(J.tag){case 1:if(re=J.payload,typeof re=="function"){L=re.call($e,L,$);break e}L=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=J.payload,$=typeof re=="function"?re.call($e,L,$):re,$==null)break e;L=g({},L,$);break e;case 2:Bn=!0}}$=v.callback,$!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[$]:w.push($))}else w={lane:$,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(N=k=w,b=L):k=k.next=w,y|=$;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;w=v,v=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);k===null&&(b=L),u.baseState=b,u.firstBaseUpdate=N,u.lastBaseUpdate=k,f===null&&(u.shared.lanes=0),Jn|=y,e.lanes=y,e.memoizedState=L}}function md(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function yd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)md(a[e],t)}var vr=he(null),Yl=he(0);function hd(e,t){e=_n,be(Yl,e),be(vr,t),_n=e|t.baseLanes}function Qo(){be(Yl,_n),be(vr,vr.current)}function Xo(){_n=Yl.current,ke(vr),ke(Yl)}var Yn=0,ue=null,Ae=null,Pe=null,Ql=!1,Tr=!1,xa=!1,Xl=0,bi=0,br=null,vv=0;function Ge(){throw Error(l(321))}function Vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function Zo(e,t,a,i,u,f){return Yn=f,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Jd:ep,xa=!1,f=a(i,u),xa=!1,Tr&&(f=vd(t,a,i,u)),gd(e),f}function gd(e){M.H=es;var t=Ae!==null&&Ae.next!==null;if(Yn=0,Pe=Ae=ue=null,Ql=!1,bi=0,br=null,t)throw Error(l(300));e===null||Je||(e=e.dependencies,e!==null&&jl(e)&&(Je=!0))}function vd(e,t,a,i){ue=e;var u=0;do{if(Tr&&(br=null),bi=0,Tr=!1,25<=u)throw Error(l(301));if(u+=1,Pe=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Av,f=t(a,i)}while(Tr);return f}function Tv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ri(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ue.flags|=1024),t}function Io(){var e=Xl!==0;return Xl=0,e}function Wo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Jo(e){if(Ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ql=!1}Yn=0,Pe=Ae=ue=null,Tr=!1,bi=Xl=0,br=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Fe(){if(Ae===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Pe===null?ue.memoizedState:Pe.next;if(t!==null)Pe=t,Ae=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ri(e){var t=bi;return bi+=1,br===null&&(br=[]),e=fd(br,e,t),t=ue,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Jd:ep),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ri(e);if(e.$$typeof===F)return ct(e)}throw Error(l(438,String(e)))}function tu(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=eu(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=xe;return t.index++,a}function Sn(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Fe();return nu(t,Ae,e)}function nu(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var v=y=null,b=null,N=t,k=!1;do{var L=N.lane&-536870913;if(L!==N.lane?(ge&L)===L:(Yn&L)===L){var $=N.revertLane;if($===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),L===hr&&(k=!0);else if((Yn&$)===$){N=N.next,$===hr&&(k=!0);continue}else L={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(v=b=L,y=f):b=b.next=L,ue.lanes|=$,Jn|=$;L=N.action,xa&&a(f,L),f=N.hasEagerState?N.eagerState:a(f,L)}else $={lane:L,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(v=b=$,y=f):b=b.next=$,ue.lanes|=L,Jn|=L;N=N.next}while(N!==null&&N!==t);if(b===null?y=f:b.next=v,!At(f,e.memoizedState)&&(Je=!0,k&&(a=gr,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function au(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);At(f,t.memoizedState)||(Je=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,i]}function Td(e,t,a){var i=ue,u=Fe(),f=Re;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!At((Ae||u).memoizedState,a);y&&(u.memoizedState=a,Je=!0),u=u.queue;var v=Sd.bind(null,i,u,e);if(Si(2048,8,v,[e]),u.getSnapshot!==t||y||Pe!==null&&Pe.memoizedState.tag&1){if(i.flags|=2048,Rr(9,Il(),Rd.bind(null,i,u,a,t),null),Ee===null)throw Error(l(349));f||(Yn&124)!==0||bd(i,t,a)}return a}function bd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=eu(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Rd(e,t,a,i){t.value=a,t.getSnapshot=i,Dd(t)&&Cd(e)}function Sd(e,t,a){return a(function(){Dd(t)&&Cd(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Cd(e){var t=dr(e,2);t!==null&&kt(t,e,2)}function ru(e){var t=bt();if(typeof e=="function"){var a=e;if(e=a(),xa){E(!0);try{a()}finally{E(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Ad(e,t,a,i){return e.baseState=a,nu(e,Ae,typeof i=="function"?i:Sn)}function bv(e,t,a,i,u){if(Jl(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?a(!0):f.isTransition=!1,i(f),a=t.pending,a===null?(f.next=t.pending=f,Nd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Nd(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=M.T,y={};M.T=y;try{var v=a(u,i),b=M.S;b!==null&&b(y,v),$d(e,t,v)}catch(N){iu(e,t,N)}finally{M.T=f}}else try{f=a(u,i),$d(e,t,f)}catch(N){iu(e,t,N)}}function $d(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){_d(e,t,i)},function(i){return iu(e,t,i)}):_d(e,t,a)}function _d(e,t,a){t.status="fulfilled",t.value=a,wd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Nd(e,a)))}function iu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,wd(t),t=t.next;while(t!==i)}e.action=null}function wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xd(e,t){return t}function kd(e,t){if(Re){var a=Ee.formState;if(a!==null){e:{var i=ue;if(Re){if(Ue){t:{for(var u=Ue,f=on;u.nodeType!==8;){if(!f){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ue=Jt(u.nextSibling),i=u.data==="F!";break e}}Na(i)}i=!1}i&&(t=a[0])}}return a=bt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},a.queue=i,a=Zd.bind(null,ue,i),i.dispatch=a,i=ru(!1),f=cu.bind(null,ue,!1,i.queue),i=bt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=bv.bind(null,ue,u,f,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Ed(e){var t=Fe();return Md(t,Ae,e)}function Md(e,t,a){if(t=nu(e,t,xd)[0],e=Zl(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ri(t)}catch(y){throw y===yi?Pl:y}else i=t;t=Fe();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,Rr(9,Il(),Rv.bind(null,u,a),null)),[i,f,e]}function Rv(e,t){e.action=t}function zd(e){var t=Fe(),a=Ae;if(a!==null)return Md(t,a,e);Fe(),t=t.memoizedState,a=Fe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Rr(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ue.updateQueue,t===null&&(t=eu(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Il(){return{destroy:void 0,resource:void 0}}function Od(){return Fe().memoizedState}function Wl(e,t,a,i){var u=bt();i=i===void 0?null:i,ue.flags|=e,u.memoizedState=Rr(1|t,Il(),a,i)}function Si(e,t,a,i){var u=Fe();i=i===void 0?null:i;var f=u.memoizedState.inst;Ae!==null&&i!==null&&Vo(i,Ae.memoizedState.deps)?u.memoizedState=Rr(t,f,a,i):(ue.flags|=e,u.memoizedState=Rr(1|t,f,a,i))}function Ud(e,t){Wl(8390656,8,e,t)}function Hd(e,t){Si(2048,8,e,t)}function Ld(e,t){return Si(4,2,e,t)}function qd(e,t){return Si(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,a){a=a!=null?a.concat([e]):null,Si(4,4,Gd.bind(null,t,e),a)}function lu(){}function Kd(e,t){var a=Fe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Vo(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Bd(e,t){var a=Fe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Vo(t,i[1]))return i[0];if(i=e(),xa){E(!0);try{e()}finally{E(!1)}}return a.memoizedState=[i,t],i}function su(e,t,a){return a===void 0||(Yn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Yp(),ue.lanes|=e,Jn|=e,a)}function Pd(e,t,a,i){return At(a,t)?a:vr.current!==null?(e=su(e,a,i),At(e,t)||(Je=!0),e):(Yn&42)===0?(Je=!0,e.memoizedState=a):(e=Yp(),ue.lanes|=e,Jn|=e,t)}function Fd(e,t,a,i,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var y=M.T,v={};M.T=v,cu(e,!1,t,a);try{var b=u(),N=M.S;if(N!==null&&N(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=gv(b,i);Di(e,t,k,xt(e))}else Di(e,t,i,xt(e))}catch(L){Di(e,t,{then:function(){},status:"rejected",reason:L},xt())}finally{Q.p=f,M.T=y}}function Sv(){}function ou(e,t,a,i){if(e.tag!==5)throw Error(l(476));var u=Yd(e).queue;Fd(e,u,t,ee,a===null?Sv:function(){return Qd(e),a(i)})}function Yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qd(e){var t=Yd(e).next.queue;Di(e,t,{},xt())}function uu(){return ct(ji)}function Xd(){return Fe().memoizedState}function Vd(){return Fe().memoizedState}function Dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=xt();e=Pn(a);var i=Fn(t,e,a);i!==null&&(kt(i,t,a),gi(i,t,a)),t={cache:qo()},e.payload=t;return}t=t.return}}function Cv(e,t,a){var i=xt();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jl(e)?Id(t,a):(a=wo(e,t,a,i),a!==null&&(kt(a,e,i),Wd(a,t,i)))}function Zd(e,t,a){var i=xt();Di(e,t,a,i)}function Di(e,t,a,i){var u={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Id(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,v=f(y,a);if(u.hasEagerState=!0,u.eagerState=v,At(v,y))return Ul(e,t,u,0),Ee===null&&Ol(),!1}catch{}finally{}if(a=wo(e,t,u,i),a!==null)return kt(a,e,i),Wd(a,t,i),!0}return!1}function cu(e,t,a,i){if(i={lane:2,revertLane:Ku(),action:i,hasEagerState:!1,eagerState:null,next:null},Jl(e)){if(t)throw Error(l(479))}else t=wo(e,a,i,2),t!==null&&kt(t,e,2)}function Jl(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Id(e,t){Tr=Ql=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wd(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,lf(e,a)}}var es={readContext:ct,use:Vl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Jd={readContext:ct,use:Vl,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ud,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Wl(4194308,4,Gd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var a=bt();t=t===void 0?null:t;var i=e();if(xa){E(!0);try{e()}finally{E(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=bt();if(a!==void 0){var u=a(t);if(xa){E(!0);try{a(t)}finally{E(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Cv.bind(null,ue,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=ru(e);var t=e.queue,a=Zd.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(e,t){var a=bt();return su(a,e,t)},useTransition:function(){var e=ru(!1);return e=Fd.bind(null,ue,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ue,u=bt();if(Re){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ee===null)throw Error(l(349));(ge&124)!==0||bd(i,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,Ud(Sd.bind(null,i,f,e),[e]),i.flags|=2048,Rr(9,Il(),Rd.bind(null,i,f,a,t),null),a},useId:function(){var e=bt(),t=Ee.identifierPrefix;if(Re){var a=Tn,i=vn;a=(i&~(1<<32-x(i)-1)).toString(32)+a,t="«"+t+"R"+a,a=Xl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=vv++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:uu,useFormState:kd,useActionState:kd,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cu.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:tu,useCacheRefresh:function(){return bt().memoizedState=Dv.bind(null,ue)}},ep={readContext:ct,use:Vl,useCallback:Kd,useContext:ct,useEffect:Hd,useImperativeHandle:jd,useInsertionEffect:Ld,useLayoutEffect:qd,useMemo:Bd,useReducer:Zl,useRef:Od,useState:function(){return Zl(Sn)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Fe();return Pd(a,Ae.memoizedState,e,t)},useTransition:function(){var e=Zl(Sn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:Td,useId:Xd,useHostTransitionStatus:uu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var a=Fe();return Ad(a,Ae,e,t)},useMemoCache:tu,useCacheRefresh:Vd},Av={readContext:ct,use:Vl,useCallback:Kd,useContext:ct,useEffect:Hd,useImperativeHandle:jd,useInsertionEffect:Ld,useLayoutEffect:qd,useMemo:Bd,useReducer:au,useRef:Od,useState:function(){return au(Sn)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Fe();return Ae===null?su(a,e,t):Pd(a,Ae.memoizedState,e,t)},useTransition:function(){var e=au(Sn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:Td,useId:Xd,useHostTransitionStatus:uu,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var a=Fe();return Ae!==null?Ad(a,Ae,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:tu,useCacheRefresh:Vd},Sr=null,Ci=0;function ts(e){var t=Ci;return Ci+=1,Sr===null&&(Sr=[]),fd(Sr,e,t)}function Ai(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ns(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tp(e){var t=e._init;return t(e._payload)}function np(e){function t(C,S){if(e){var A=C.deletions;A===null?(C.deletions=[S],C.flags|=16):A.push(S)}}function a(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function i(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function u(C,S){return C=gn(C,S),C.index=0,C.sibling=null,C}function f(C,S,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<S?(C.flags|=67108866,S):A):(C.flags|=67108866,S)):(C.flags|=1048576,S)}function y(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,S,A,O){return S===null||S.tag!==6?(S=ko(A,C.mode,O),S.return=C,S):(S=u(S,A),S.return=C,S)}function b(C,S,A,O){var V=A.type;return V===H?k(C,S,A.props.children,O,A.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fe&&tp(V)===S.type)?(S=u(S,A.props),Ai(S,A),S.return=C,S):(S=Ll(A.type,A.key,A.props,null,C.mode,O),Ai(S,A),S.return=C,S)}function N(C,S,A,O){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Eo(A,C.mode,O),S.return=C,S):(S=u(S,A.children||[]),S.return=C,S)}function k(C,S,A,O,V){return S===null||S.tag!==7?(S=Sa(A,C.mode,O,V),S.return=C,S):(S=u(S,A),S.return=C,S)}function L(C,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=ko(""+S,C.mode,A),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return A=Ll(S.type,S.key,S.props,null,C.mode,A),Ai(A,S),A.return=C,A;case D:return S=Eo(S,C.mode,A),S.return=C,S;case fe:var O=S._init;return S=O(S._payload),L(C,S,A)}if(gt(S)||Le(S))return S=Sa(S,C.mode,A,null),S.return=C,S;if(typeof S.then=="function")return L(C,ts(S),A);if(S.$$typeof===F)return L(C,Kl(C,S),A);ns(C,S)}return null}function $(C,S,A,O){var V=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:v(C,S,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===V?b(C,S,A,O):null;case D:return A.key===V?N(C,S,A,O):null;case fe:return V=A._init,A=V(A._payload),$(C,S,A,O)}if(gt(A)||Le(A))return V!==null?null:k(C,S,A,O,null);if(typeof A.then=="function")return $(C,S,ts(A),O);if(A.$$typeof===F)return $(C,S,Kl(C,A),O);ns(C,A)}return null}function w(C,S,A,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return C=C.get(A)||null,v(S,C,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return C=C.get(O.key===null?A:O.key)||null,b(S,C,O,V);case D:return C=C.get(O.key===null?A:O.key)||null,N(S,C,O,V);case fe:var ce=O._init;return O=ce(O._payload),w(C,S,A,O,V)}if(gt(O)||Le(O))return C=C.get(A)||null,k(S,C,O,V,null);if(typeof O.then=="function")return w(C,S,A,ts(O),V);if(O.$$typeof===F)return w(C,S,A,Kl(S,O),V);ns(S,O)}return null}function re(C,S,A,O){for(var V=null,ce=null,I=S,te=S=0,tt=null;I!==null&&te<A.length;te++){I.index>te?(tt=I,I=null):tt=I.sibling;var Te=$(C,I,A[te],O);if(Te===null){I===null&&(I=tt);break}e&&I&&Te.alternate===null&&t(C,I),S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te,I=tt}if(te===A.length)return a(C,I),Re&&Ca(C,te),V;if(I===null){for(;te<A.length;te++)I=L(C,A[te],O),I!==null&&(S=f(I,S,te),ce===null?V=I:ce.sibling=I,ce=I);return Re&&Ca(C,te),V}for(I=i(I);te<A.length;te++)tt=w(I,C,te,A[te],O),tt!==null&&(e&&tt.alternate!==null&&I.delete(tt.key===null?te:tt.key),S=f(tt,S,te),ce===null?V=tt:ce.sibling=tt,ce=tt);return e&&I.forEach(function(oa){return t(C,oa)}),Re&&Ca(C,te),V}function J(C,S,A,O){if(A==null)throw Error(l(151));for(var V=null,ce=null,I=S,te=S=0,tt=null,Te=A.next();I!==null&&!Te.done;te++,Te=A.next()){I.index>te?(tt=I,I=null):tt=I.sibling;var oa=$(C,I,Te.value,O);if(oa===null){I===null&&(I=tt);break}e&&I&&oa.alternate===null&&t(C,I),S=f(oa,S,te),ce===null?V=oa:ce.sibling=oa,ce=oa,I=tt}if(Te.done)return a(C,I),Re&&Ca(C,te),V;if(I===null){for(;!Te.done;te++,Te=A.next())Te=L(C,Te.value,O),Te!==null&&(S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te);return Re&&Ca(C,te),V}for(I=i(I);!Te.done;te++,Te=A.next())Te=w(I,C,te,Te.value,O),Te!==null&&(e&&Te.alternate!==null&&I.delete(Te.key===null?te:Te.key),S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te);return e&&I.forEach(function(N0){return t(C,N0)}),Re&&Ca(C,te),V}function $e(C,S,A,O){if(typeof A=="object"&&A!==null&&A.type===H&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var V=A.key;S!==null;){if(S.key===V){if(V=A.type,V===H){if(S.tag===7){a(C,S.sibling),O=u(S,A.props.children),O.return=C,C=O;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fe&&tp(V)===S.type){a(C,S.sibling),O=u(S,A.props),Ai(O,A),O.return=C,C=O;break e}a(C,S);break}else t(C,S);S=S.sibling}A.type===H?(O=Sa(A.props.children,C.mode,O,A.key),O.return=C,C=O):(O=Ll(A.type,A.key,A.props,null,C.mode,O),Ai(O,A),O.return=C,C=O)}return y(C);case D:e:{for(V=A.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(C,S.sibling),O=u(S,A.children||[]),O.return=C,C=O;break e}else{a(C,S);break}else t(C,S);S=S.sibling}O=Eo(A,C.mode,O),O.return=C,C=O}return y(C);case fe:return V=A._init,A=V(A._payload),$e(C,S,A,O)}if(gt(A))return re(C,S,A,O);if(Le(A)){if(V=Le(A),typeof V!="function")throw Error(l(150));return A=V.call(A),J(C,S,A,O)}if(typeof A.then=="function")return $e(C,S,ts(A),O);if(A.$$typeof===F)return $e(C,S,Kl(C,A),O);ns(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(C,S.sibling),O=u(S,A),O.return=C,C=O):(a(C,S),O=ko(A,C.mode,O),O.return=C,C=O),y(C)):a(C,S)}return function(C,S,A,O){try{Ci=0;var V=$e(C,S,A,O);return Sr=null,V}catch(I){if(I===yi||I===Pl)throw I;var ce=Nt(29,I,null,C.mode);return ce.lanes=O,ce.return=C,ce}finally{}}}var Dr=np(!0),ap=np(!1),Kt=he(null),un=null;function Qn(e){var t=e.alternate;be(Xe,Xe.current&1),be(Kt,e),un===null&&(t===null||vr.current!==null||t.memoizedState!==null)&&(un=e)}function rp(e){if(e.tag===22){if(be(Xe,Xe.current),be(Kt,e),un===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(un=e)}}else Xn()}function Xn(){be(Xe,Xe.current),be(Kt,Kt.current)}function Dn(e){ke(Kt),un===e&&(un=null),ke(Xe)}var Xe=he(0);function as(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ec(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:g({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var du={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=xt(),u=Pn(i);u.payload=t,a!=null&&(u.callback=a),t=Fn(e,u,i),t!==null&&(kt(t,e,i),gi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=xt(),u=Pn(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Fn(e,u,i),t!==null&&(kt(t,e,i),gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=xt(),i=Pn(a);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,a),t!==null&&(kt(t,e,a),gi(t,e,a))}};function ip(e,t,a,i,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,y):t.prototype&&t.prototype.isPureReactComponent?!si(a,i)||!si(u,f):!0}function lp(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function ka(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=g({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var rs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sp(e){rs(e)}function op(e){console.error(e)}function up(e){rs(e)}function is(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function cp(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function pu(e,t,a){return a=Pn(a),a.tag=3,a.payload={element:null},a.callback=function(){is(e,t)},a}function fp(e){return e=Pn(e),e.tag=3,e}function dp(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){cp(t,a,i)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cp(t,a,i),typeof u!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Nv(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&di(t,a,u,!0),a=Kt.current,a!==null){switch(a.tag){case 13:return un===null?Hu():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Ko?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),qu(e,i,u)),!1;case 22:return a.flags|=65536,i===Ko?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),qu(e,i,u)),!1}throw Error(l(435,a.tag))}return qu(e,i,u),Hu(),!1}if(Re)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Oo&&(e=Error(l(422),{cause:i}),fi(Lt(e,a)))):(i!==Oo&&(t=Error(l(423),{cause:i}),fi(Lt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Lt(i,a),u=pu(e.stateNode,i,u),Fo(e,u),He!==4&&(He=2)),!1;var f=Error(l(520),{cause:i});if(f=Lt(f,a),Ei===null?Ei=[f]:Ei.push(f),He!==4&&(He=2),t===null)return!0;i=Lt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=pu(a.stateNode,i,e),Fo(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=fp(u),dp(u,e,a,i),Fo(a,u),!1}a=a.return}while(a!==null);return!1}var pp=Error(l(461)),Je=!1;function at(e,t,a,i){t.child=e===null?ap(t,null,a,i):Dr(t,e.child,a,i)}function mp(e,t,a,i,u){a=a.render;var f=t.ref;if("ref"in i){var y={};for(var v in i)v!=="ref"&&(y[v]=i[v])}else y=i;return _a(t),i=Zo(e,t,a,y,f,u),v=Io(),e!==null&&!Je?(Wo(e,t,u),Cn(e,t,u)):(Re&&v&&Mo(t),t.flags|=1,at(e,t,i,u),t.child)}function yp(e,t,a,i,u){if(e===null){var f=a.type;return typeof f=="function"&&!xo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,hp(e,t,f,i,u)):(e=Ll(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Ru(e,u)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:si,a(y,i)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=gn(f,i),e.ref=t.ref,e.return=t,t.child=e}function hp(e,t,a,i,u){if(e!==null){var f=e.memoizedProps;if(si(f,i)&&e.ref===t.ref)if(Je=!1,t.pendingProps=i=f,Ru(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return mu(e,t,a,i,u)}function gp(e,t,a){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|a:a,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return vp(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(t,f!==null?f.cachePool:null),f!==null?hd(t,f):Qo(),rp(t);else return t.lanes=t.childLanes=536870912,vp(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(Bl(t,f.cachePool),hd(t,f),Xn(),t.memoizedState=null):(e!==null&&Bl(t,null),Qo(),Xn());return at(e,t,u,a),t.child}function vp(e,t,a,i){var u=jo();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Bl(t,null),Qo(),rp(t),e!==null&&di(e,t,i,!0),null}function ls(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mu(e,t,a,i,u){return _a(t),a=Zo(e,t,a,i,void 0,u),i=Io(),e!==null&&!Je?(Wo(e,t,u),Cn(e,t,u)):(Re&&i&&Mo(t),t.flags|=1,at(e,t,a,u),t.child)}function Tp(e,t,a,i,u,f){return _a(t),t.updateQueue=null,a=vd(t,i,a,u),gd(e),i=Io(),e!==null&&!Je?(Wo(e,t,f),Cn(e,t,f)):(Re&&i&&Mo(t),t.flags|=1,at(e,t,a,f),t.child)}function bp(e,t,a,i,u){if(_a(t),t.stateNode===null){var f=pr,y=a.contextType;typeof y=="object"&&y!==null&&(f=ct(y)),f=new a(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=du,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},Bo(t),y=a.contextType,f.context=typeof y=="object"&&y!==null?ct(y):pr,f.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(fu(t,a,y,i),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&du.enqueueReplaceState(f,f.state,null),Ti(t,i,f,u),vi(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,b=ka(a,v);f.props=b;var N=f.context,k=a.contextType;y=pr,typeof k=="object"&&k!==null&&(y=ct(k));var L=a.getDerivedStateFromProps;k=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||N!==y)&&lp(t,f,i,y),Bn=!1;var $=t.memoizedState;f.state=$,Ti(t,i,f,u),vi(),N=t.memoizedState,v||$!==N||Bn?(typeof L=="function"&&(fu(t,a,L,i),N=t.memoizedState),(b=Bn||ip(t,a,b,i,$,N,y))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=N),f.props=i,f.state=N,f.context=y,i=b):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Po(e,t),y=t.memoizedProps,k=ka(a,y),f.props=k,L=t.pendingProps,$=f.context,N=a.contextType,b=pr,typeof N=="object"&&N!==null&&(b=ct(N)),v=a.getDerivedStateFromProps,(N=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==L||$!==b)&&lp(t,f,i,b),Bn=!1,$=t.memoizedState,f.state=$,Ti(t,i,f,u),vi();var w=t.memoizedState;y!==L||$!==w||Bn||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof v=="function"&&(fu(t,a,v,i),w=t.memoizedState),(k=Bn||ip(t,a,k,i,$,w,b)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,w,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,w,b)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=w),f.props=i,f.state=w,f.context=b,i=k):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,ls(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Dr(t,e.child,null,u),t.child=Dr(t,null,a,u)):at(e,t,a,u),t.memoizedState=f.state,e=t.child):e=Cn(e,t,u),e}function Rp(e,t,a,i){return ci(),t.flags|=256,at(e,t,a,i),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:od()}}function gu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Bt),e}function Sp(e,t,a){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(u?Qn(t):Xn(),Re){var v=Ue,b;if(b=v){e:{for(b=v,v=on;b.nodeType!==8;){if(!v){v=null;break e}if(b=Jt(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(t.memoizedState={dehydrated:v,treeContext:Da!==null?{id:vn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},b=Nt(18,null,null,0),b.stateNode=v,b.return=t,t.child=b,dt=t,Ue=null,b=!0):b=!1}b||Na(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ec(v)?t.lanes=32:t.lanes=536870912,null;Dn(t)}return v=i.children,i=i.fallback,u?(Xn(),u=t.mode,v=ss({mode:"hidden",children:v},u),i=Sa(i,u,a,null),v.return=t,i.return=t,v.sibling=i,t.child=v,u=t.child,u.memoizedState=hu(a),u.childLanes=gu(e,y,a),t.memoizedState=yu,i):(Qn(t),vu(t,v))}if(b=e.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(f)t.flags&256?(Qn(t),t.flags&=-257,t=Tu(e,t,a)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),u=i.fallback,v=t.mode,i=ss({mode:"visible",children:i.children},v),u=Sa(u,v,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,Dr(t,e.child,null,a),i=t.child,i.memoizedState=hu(a),i.childLanes=gu(e,y,a),t.memoizedState=yu,t=u);else if(Qn(t),ec(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var N=y.dgst;y=N,i=Error(l(419)),i.stack="",i.digest=y,fi({value:i,source:null,stack:null}),t=Tu(e,t,a)}else if(Je||di(e,t,a,!1),y=(a&e.childLanes)!==0,Je||y){if(y=Ee,y!==null&&(i=a&-a,i=(i&42)!==0?1:eo(i),i=(i&(y.suspendedLanes|a))!==0?0:i,i!==0&&i!==b.retryLane))throw b.retryLane=i,dr(e,i),kt(y,e,i),pp;v.data==="$?"||Hu(),t=Tu(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ue=Jt(v.nextSibling),dt=t,Re=!0,Aa=null,on=!1,e!==null&&(Gt[jt++]=vn,Gt[jt++]=Tn,Gt[jt++]=Da,vn=e.id,Tn=e.overflow,Da=t),t=vu(t,i.children),t.flags|=4096);return t}return u?(Xn(),u=i.fallback,v=t.mode,b=e.child,N=b.sibling,i=gn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,N!==null?u=gn(N,u):(u=Sa(u,v,a,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,v=e.child.memoizedState,v===null?v=hu(a):(b=v.cachePool,b!==null?(N=Qe._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=od(),v={baseLanes:v.baseLanes|a,cachePool:b}),u.memoizedState=v,u.childLanes=gu(e,y,a),t.memoizedState=yu,i):(Qn(t),a=e.child,e=a.sibling,a=gn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function vu(e,t){return t=ss({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ss(e,t){return e=Nt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tu(e,t,a){return Dr(t,e.child,null,a),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ho(e.return,t,a)}function bu(e,t,a,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=a,f.tailMode=u)}function Cp(e,t,a){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(at(e,t,i.children,a),i=Xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,a,t);else if(e.tag===19)Dp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(be(Xe,i),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&as(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),bu(t,!1,u,a,f);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&as(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}bu(t,!0,a,null,f);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(di(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=gn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=gn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function $v(e,t,a){switch(t.tag){case 3:Qa(t,t.stateNode.containerInfo),Kn(t,Qe,e.memoizedState.cache),ci();break;case 27:case 5:ae(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Sp(e,t,a):(Qn(t),e=Cn(e,t,a),e!==null?e.sibling:null);Qn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(di(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return Cp(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),be(Xe,Xe.current),i)break;return null;case 22:case 23:return t.lanes=0,gp(e,t,a);case 24:Kn(t,Qe,e.memoizedState.cache)}return Cn(e,t,a)}function Ap(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Ru(e,a)&&(t.flags&128)===0)return Je=!1,$v(e,t,a);Je=(e.flags&131072)!==0}else Je=!1,Re&&(t.flags&1048576)!==0&&td(t,Gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")xo(i)?(e=ka(i,e),t.tag=1,t=bp(null,t,i,e,a)):(t.tag=0,t=mu(null,t,i,e,a));else{if(i!=null){if(u=i.$$typeof,u===W){t.tag=11,t=mp(null,t,i,e,a);break e}else if(u===ye){t.tag=14,t=yp(null,t,i,e,a);break e}}throw t=ln(i)||i,Error(l(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=ka(i,t.pendingProps),bp(e,t,i,u,a);case 3:e:{if(Qa(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,Po(e,t),Ti(t,i,null,a);var y=t.memoizedState;if(i=y.cache,Kn(t,Qe,i),i!==f.cache&&Lo(t,[Qe],a,!0),vi(),i=y.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Rp(e,t,i,a);break e}else if(i!==u){u=Lt(Error(l(424)),t),fi(u),t=Rp(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Jt(e.firstChild),dt=t,Re=!0,Aa=null,on=!0,a=ap(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ci(),i===u){t=Cn(e,t,a);break e}at(e,t,i,a)}t=t.child}return t;case 26:return ls(e,t),e===null?(a=wm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,i=Rs(Xt.current).createElement(a),i[ut]=t,i[vt]=e,it(i,a,e),We(i),t.stateNode=i):t.memoizedState=wm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ae(t),e===null&&Re&&(i=t.stateNode=Nm(t.type,t.pendingProps,Xt.current),dt=t,on=!0,u=Ue,aa(t.type)?(tc=u,Ue=Jt(i.firstChild)):Ue=u),at(e,t,t.pendingProps.children,a),ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((u=i=Ue)&&(i=t0(i,t.type,t.pendingProps,on),i!==null?(t.stateNode=i,dt=t,Ue=Jt(i.firstChild),on=!1,u=!0):u=!1),u||Na(t)),ae(t),u=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,i=f.children,Iu(u,f)?i=null:y!==null&&Iu(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Zo(e,t,Tv,null,null,a),ji._currentValue=u),ls(e,t),at(e,t,i,a),t.child;case 6:return e===null&&Re&&((e=a=Ue)&&(a=n0(a,t.pendingProps,on),a!==null?(t.stateNode=a,dt=t,Ue=null,e=!0):e=!1),e||Na(t)),null;case 13:return Sp(e,t,a);case 4:return Qa(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Dr(t,null,i,a):at(e,t,i,a),t.child;case 11:return mp(e,t,t.type,t.pendingProps,a);case 7:return at(e,t,t.pendingProps,a),t.child;case 8:return at(e,t,t.pendingProps.children,a),t.child;case 12:return at(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Kn(t,t.type,i.value),at(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,_a(t),u=ct(u),i=i(u),t.flags|=1,at(e,t,i,a),t.child;case 14:return yp(e,t,t.type,t.pendingProps,a);case 15:return hp(e,t,t.type,t.pendingProps,a);case 19:return Cp(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=ss(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=gn(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return gp(e,t,a);case 24:return _a(t),i=ct(Qe),e===null?(u=jo(),u===null&&(u=Ee,f=qo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:i,cache:u},Bo(t),Kn(t,Qe,u)):((e.lanes&a)!==0&&(Po(e,t),Ti(t,null,null,a),vi()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Kn(t,Qe,i)):(i=f.cache,Kn(t,Qe,i),i!==u.cache&&Lo(t,[Qe],a,!0))),at(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function An(e){e.flags|=4}function Np(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zm(t)){if(t=Kt.current,t!==null&&((ge&4194048)===ge?un!==null:(ge&62914560)!==ge&&(ge&536870912)===0||t!==un))throw hi=Ko,ud;e.flags|=8192}}function os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?af():536870912,e.lanes|=t,$r|=t)}function Ni(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function _v(e,t,a){var i=t.pendingProps;switch(zo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Rn(Qe),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ui(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rd())),ze(t),null;case 26:return a=t.memoizedState,e===null?(An(t),a!==null?(ze(t),Np(t,a)):(ze(t),t.flags&=-16777217)):a?a!==e.memoizedState?(An(t),ze(t),Np(t,a)):(ze(t),t.flags&=-16777217):(e.memoizedProps!==i&&An(t),ze(t),t.flags&=-16777217),null;case 27:_(t),a=Xt.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=qe.current,ui(t)?nd(t):(e=Nm(u,i,a),t.stateNode=e,An(t))}return ze(t),null;case 5:if(_(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(e=qe.current,ui(t))nd(t);else{switch(u=Rs(Xt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(a,{is:i.is}):u.createElement(a)}}e[ut]=t,e[vt]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(it(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&An(t)}}return ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=Xt.current,ui(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=dt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ut]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Tm(e.nodeValue,a)),e||Na(t)}else e=Rs(e).createTextNode(i),e[ut]=t,t.stateNode=e}return ze(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ui(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ut]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),u=!1}else u=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Dn(t),t):(Dn(t),null)}if(Dn(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),os(t,t.updateQueue),ze(t),null;case 4:return qn(),e===null&&Yu(t.stateNode.containerInfo),ze(t),null;case 10:return Rn(t.type),ze(t),null;case 19:if(ke(Xe),u=t.memoizedState,u===null)return ze(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)Ni(u,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=as(e),f!==null){for(t.flags|=128,Ni(u,!1),e=f.updateQueue,t.updateQueue=e,os(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ed(a,e),a=a.sibling;return be(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&ot()>fs&&(t.flags|=128,i=!0,Ni(u,!1),t.lanes=4194304)}else{if(!i)if(e=as(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,os(t,e),Ni(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Re)return ze(t),null}else 2*ot()-u.renderingStartTime>fs&&a!==536870912&&(t.flags|=128,i=!0,Ni(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ot(),t.sibling=null,e=Xe.current,be(Xe,i?e&1|2:e&1),t):(ze(t),null);case 22:case 23:return Dn(t),Xo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),a=t.updateQueue,a!==null&&os(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&ke(wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Rn(Qe),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function wv(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(Qe),qn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _(t),null;case 13:if(Dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Xe),null;case 4:return qn(),null;case 10:return Rn(t.type),null;case 22:case 23:return Dn(t),Xo(),e!==null&&ke(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rn(Qe),null;case 25:return null;default:return null}}function $p(e,t){switch(zo(t),t.tag){case 3:Rn(Qe),qn();break;case 26:case 27:case 5:_(t);break;case 4:qn();break;case 13:Dn(t);break;case 19:ke(Xe);break;case 10:Rn(t.type);break;case 22:case 23:Dn(t),Xo(),e!==null&&ke(wa);break;case 24:Rn(Qe)}}function $i(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var f=a.create,y=a.inst;i=f(),y.destroy=i}a=a.next}while(a!==u)}}catch(v){_e(t,t.return,v)}}function Vn(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var y=i.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,u=t;var b=a,N=v;try{N()}catch(k){_e(u,b,k)}}}i=i.next}while(i!==f)}}catch(k){_e(t,t.return,k)}}function _p(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{yd(t,a)}catch(i){_e(e,e.return,i)}}}function wp(e,t,a){a.props=ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){_e(e,t,i)}}function _i(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){_e(e,t,u)}}function cn(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){_e(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){_e(e,t,u)}else a.current=null}function xp(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){_e(e,e.return,u)}}function Su(e,t,a){try{var i=e.stateNode;Zv(i,e.type,a,t),i[vt]=t}catch(u){_e(e,e.return,u)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=bs));else if(i!==4&&(i===27&&aa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Cu(e,t,a),e=e.sibling;e!==null;)Cu(e,t,a),e=e.sibling}function us(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&aa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(us(e,t,a),e=e.sibling;e!==null;)us(e,t,a),e=e.sibling}function Ep(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,i,a),t[ut]=e,t[vt]=a}catch(f){_e(e,e.return,f)}}var Nn=!1,je=!1,Au=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,et=null;function xv(e,t){if(e=e.containerInfo,Vu=$s,e=Pf(e),Do(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,v=-1,b=-1,N=0,k=0,L=e,$=null;t:for(;;){for(var w;L!==a||u!==0&&L.nodeType!==3||(v=y+u),L!==f||i!==0&&L.nodeType!==3||(b=y+i),L.nodeType===3&&(y+=L.nodeValue.length),(w=L.firstChild)!==null;)$=L,L=w;for(;;){if(L===e)break t;if($===a&&++N===u&&(v=y),$===f&&++k===i&&(b=y),(w=L.nextSibling)!==null)break;L=$,$=L.parentNode}L=w}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zu={focusedElem:e,selectionRange:a},$s=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,i=a.stateNode;try{var re=ka(a.type,u,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(re,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(J){_e(a,a.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ju(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function zp(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(e,a),i&4&&$i(5,a);break;case 1:if(Zn(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){_e(a,a.return,y)}else{var u=ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){_e(a,a.return,y)}}i&64&&_p(a),i&512&&_i(a,a.return);break;case 3:if(Zn(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yd(e,t)}catch(y){_e(a,a.return,y)}}break;case 27:t===null&&i&4&&Ep(a);case 26:case 5:Zn(e,a),t===null&&i&4&&xp(a),i&512&&_i(a,a.return);break;case 12:Zn(e,a);break;case 13:Zn(e,a),i&4&&Hp(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qv.bind(null,a),a0(e,a))));break;case 22:if(i=a.memoizedState!==null||Nn,!i){t=t!==null&&t.memoizedState!==null||je,u=Nn;var f=je;Nn=i,(je=t)&&!f?In(e,a,(a.subtreeFlags&8772)!==0):Zn(e,a),Nn=u,je=f}break;case 30:break;default:Zn(e,a)}}function Op(e){var t=e.alternate;t!==null&&(e.alternate=null,Op(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ao(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,Rt=!1;function $n(e,t,a){for(a=a.child;a!==null;)Up(e,t,a),a=a.sibling}function Up(e,t,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(sn,a)}catch{}switch(a.tag){case 26:je||cn(a,t),$n(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||cn(a,t);var i=Me,u=Rt;aa(a.type)&&(Me=a.stateNode,Rt=!1),$n(e,t,a),Hi(a.stateNode),Me=i,Rt=u;break;case 5:je||cn(a,t);case 6:if(i=Me,u=Rt,Me=null,$n(e,t,a),Me=i,Rt=u,Me!==null)if(Rt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(a.stateNode)}catch(f){_e(a,t,f)}else try{Me.removeChild(a.stateNode)}catch(f){_e(a,t,f)}break;case 18:Me!==null&&(Rt?(e=Me,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fi(e)):Cm(Me,a.stateNode));break;case 4:i=Me,u=Rt,Me=a.stateNode.containerInfo,Rt=!0,$n(e,t,a),Me=i,Rt=u;break;case 0:case 11:case 14:case 15:je||Vn(2,a,t),je||Vn(4,a,t),$n(e,t,a);break;case 1:je||(cn(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&wp(a,t,i)),$n(e,t,a);break;case 21:$n(e,t,a);break;case 22:je=(i=je)||a.memoizedState!==null,$n(e,t,a),je=i;break;default:$n(e,t,a)}}function Hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fi(e)}catch(a){_e(t,t.return,a)}}function kv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mp),t;default:throw Error(l(435,e.tag))}}function Nu(e,t){var a=kv(e);t.forEach(function(i){var u=Gv.bind(null,e,i);a.has(i)||(a.add(i),i.then(u,u))})}function $t(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],f=e,y=t,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(aa(v.type)){Me=v.stateNode,Rt=!1;break e}break;case 5:Me=v.stateNode,Rt=!1;break e;case 3:case 4:Me=v.stateNode.containerInfo,Rt=!0;break e}v=v.return}if(Me===null)throw Error(l(160));Up(f,y,u),Me=null,Rt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Lp(t,e),t=t.sibling}var Wt=null;function Lp(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),_t(e),i&4&&(Vn(3,e,e.return),$i(3,e),Vn(5,e,e.return));break;case 1:$t(t,e),_t(e),i&512&&(je||a===null||cn(a,a.return)),i&64&&Nn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Wt;if($t(t,e),_t(e),i&512&&(je||a===null||cn(a,a.return)),i&4){var f=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Wr]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),it(f,i,a),f[ut]=e,We(f),i=f;break e;case"link":var y=Em("link","href",u).get(i+(a.href||""));if(y){for(var v=0;v<y.length;v++)if(f=y[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(v,1);break t}}f=u.createElement(i),it(f,i,a),u.head.appendChild(f);break;case"meta":if(y=Em("meta","content",u).get(i+(a.content||""))){for(v=0;v<y.length;v++)if(f=y[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(v,1);break t}}f=u.createElement(i),it(f,i,a),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ut]=e,We(f),i=f}e.stateNode=i}else Mm(u,e.type,e.stateNode);else e.stateNode=km(u,i,e.memoizedProps);else f!==i?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,i===null?Mm(u,e.type,e.stateNode):km(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Su(e,e.memoizedProps,a.memoizedProps)}break;case 27:$t(t,e),_t(e),i&512&&(je||a===null||cn(a,a.return)),a!==null&&i&4&&Su(e,e.memoizedProps,a.memoizedProps);break;case 5:if($t(t,e),_t(e),i&512&&(je||a===null||cn(a,a.return)),e.flags&32){u=e.stateNode;try{ir(u,"")}catch(w){_e(e,e.return,w)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Su(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Au=!0);break;case 6:if($t(t,e),_t(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(w){_e(e,e.return,w)}}break;case 3:if(Cs=null,u=Wt,Wt=Ss(t.containerInfo),$t(t,e),Wt=u,_t(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(w){_e(e,e.return,w)}Au&&(Au=!1,qp(e));break;case 4:i=Wt,Wt=Ss(e.stateNode.containerInfo),$t(t,e),_t(e),Wt=i;break;case 12:$t(t,e),_t(e);break;case 13:$t(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eu=ot()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nu(e,i)));break;case 22:u=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,N=Nn,k=je;if(Nn=N||u,je=k||b,$t(t,e),je=k,Nn=N,_t(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||b||Nn||je||Ea(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(f=b.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=b.stateNode;var L=b.memoizedProps.style,$=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(w){_e(b,b.return,w)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(w){_e(b,b.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Nu(e,a))));break;case 19:$t(t,e),_t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nu(e,i)));break;case 30:break;case 21:break;default:$t(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(kp(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,f=Du(e);us(e,f,u);break;case 5:var y=a.stateNode;a.flags&32&&(ir(y,""),a.flags&=-33);var v=Du(e);us(e,v,y);break;case 3:case 4:var b=a.stateNode.containerInfo,N=Du(e);Cu(e,N,b);break;default:throw Error(l(161))}}catch(k){_e(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zp(e,t.alternate,t),t=t.sibling}function Ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),Ea(t);break;case 1:cn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&wp(t,t.return,a),Ea(t);break;case 27:Hi(t.stateNode);case 26:case 5:cn(t,t.return),Ea(t);break;case 22:t.memoizedState===null&&Ea(t);break;case 30:Ea(t);break;default:Ea(t)}e=e.sibling}}function In(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:In(u,f,a),$i(4,f);break;case 1:if(In(u,f,a),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){_e(i,i.return,N)}if(i=f,u=i.updateQueue,u!==null){var v=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)md(b[u],v)}catch(N){_e(i,i.return,N)}}a&&y&64&&_p(f),_i(f,f.return);break;case 27:Ep(f);case 26:case 5:In(u,f,a),a&&i===null&&y&4&&xp(f),_i(f,f.return);break;case 12:In(u,f,a);break;case 13:In(u,f,a),a&&y&4&&Hp(u,f);break;case 22:f.memoizedState===null&&In(u,f,a),_i(f,f.return);break;case 30:break;default:In(u,f,a)}t=t.sibling}}function $u(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pi(a))}function _u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e))}function fn(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(e,t,a,i),t=t.sibling}function Gp(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,a,i),u&2048&&$i(9,t);break;case 1:fn(e,t,a,i);break;case 3:fn(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e)));break;case 12:if(u&2048){fn(e,t,a,i),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,v=f.onPostCommit;typeof v=="function"&&v(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){_e(t,t.return,b)}}else fn(e,t,a,i);break;case 13:fn(e,t,a,i);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?fn(e,t,a,i):wi(e,t):f._visibility&2?fn(e,t,a,i):(f._visibility|=2,Cr(e,t,a,i,(t.subtreeFlags&10256)!==0)),u&2048&&$u(y,t);break;case 24:fn(e,t,a,i),u&2048&&_u(t.alternate,t);break;default:fn(e,t,a,i)}}function Cr(e,t,a,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,v=a,b=i,N=y.flags;switch(y.tag){case 0:case 11:case 15:Cr(f,y,v,b,u),$i(8,y);break;case 23:break;case 22:var k=y.stateNode;y.memoizedState!==null?k._visibility&2?Cr(f,y,v,b,u):wi(f,y):(k._visibility|=2,Cr(f,y,v,b,u)),u&&N&2048&&$u(y.alternate,y);break;case 24:Cr(f,y,v,b,u),u&&N&2048&&_u(y.alternate,y);break;default:Cr(f,y,v,b,u)}t=t.sibling}}function wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:wi(a,i),u&2048&&$u(i.alternate,i);break;case 24:wi(a,i),u&2048&&_u(i.alternate,i);break;default:wi(a,i)}t=t.sibling}}var xi=8192;function Ar(e){if(e.subtreeFlags&xi)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 26:Ar(e),e.flags&xi&&e.memoizedState!==null&&h0(Wt,e.memoizedState,e.memoizedProps);break;case 5:Ar(e);break;case 3:case 4:var t=Wt;Wt=Ss(e.stateNode.containerInfo),Ar(e),Wt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xi,xi=16777216,Ar(e),xi=t):Ar(e));break;default:Ar(e)}}function Kp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];et=i,Pp(i,e)}Kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cs(e)):ki(e);break;default:ki(e)}}function cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];et=i,Pp(i,e)}Kp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),cs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,cs(t));break;default:cs(t)}e=e.sibling}}function Pp(e,t){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:Vn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:pi(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,et=i;else e:for(a=e;et!==null;){i=et;var u=i.sibling,f=i.return;if(Op(i),i===a){et=null;break e}if(u!==null){u.return=f,et=u;break e}et=f}}}var Ev={getCacheForType:function(e){var t=ct(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Mv=typeof WeakMap=="function"?WeakMap:Map,De=0,Ee=null,de=null,ge=0,Ce=0,wt=null,Wn=!1,Nr=!1,wu=!1,_n=0,He=0,Jn=0,Ma=0,xu=0,Bt=0,$r=0,Ei=null,St=null,ku=!1,Eu=0,fs=1/0,ds=null,ea=null,rt=0,ta=null,_r=null,wr=0,Mu=0,zu=null,Fp=null,Mi=0,Ou=null;function xt(){if((De&2)!==0&&ge!==0)return ge&-ge;if(M.T!==null){var e=hr;return e!==0?e:Ku()}return sf()}function Yp(){Bt===0&&(Bt=(ge&536870912)===0||Re?nf():536870912);var e=Kt.current;return e!==null&&(e.flags|=32),Bt}function kt(e,t,a){(e===Ee&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(xr(e,0),na(e,ge,Bt,!1)),Ir(e,a),((De&2)===0||e!==Ee)&&(e===Ee&&((De&2)===0&&(Ma|=a),He===4&&na(e,ge,Bt,!1)),dn(e))}function Qp(e,t,a){if((De&6)!==0)throw Error(l(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Zr(e,t),u=i?Uv(e,t):Lu(e,t,!0),f=i;do{if(u===0){Nr&&!i&&na(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!zv(a)){u=Lu(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var v=e;u=Ei;var b=v.current.memoizedState.isDehydrated;if(b&&(xr(v,y).flags|=256),y=Lu(v,y,!1),y!==2){if(wu&&!b){v.errorRecoveryDisabledLanes|=f,Ma|=f,u=4;break e}f=St,St=u,f!==null&&(St===null?St=f:St.push.apply(St,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){xr(e,0),na(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:na(i,t,Bt,!Wn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Eu+300-ot(),10<u)){if(na(i,t,Bt,!Wn),Dl(i,0,!0)!==0)break e;i.timeoutHandle=Sm(Xp.bind(null,i,a,St,ds,ku,t,Bt,Ma,$r,Wn,f,2,-0,0),u);break e}Xp(i,a,St,ds,ku,t,Bt,Ma,$r,Wn,f,0,-0,0)}}break}while(!0);dn(e)}function Xp(e,t,a,i,u,f,y,v,b,N,k,L,$,w){if(e.timeoutHandle=-1,L=t.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(Gi={stylesheets:null,count:0,unsuspend:y0},jp(t),L=g0(),L!==null)){e.cancelPendingCommit=L(tm.bind(null,e,t,f,a,i,u,y,v,b,k,1,$,w)),na(e,f,y,!N);return}tm(e,t,f,a,i,u,y,v,b)}function zv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],f=u.getSnapshot;u=u.value;try{if(!At(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,a,i){t&=~xu,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-x(u),y=1<<f;i[f]=-1,u&=~y}a!==0&&rf(e,a,t)}function ps(){return(De&6)===0?(zi(0),!1):!0}function Uu(){if(de!==null){if(Ce===0)var e=de.return;else e=de,bn=$a=null,Jo(e),Sr=null,Ci=0,e=de;for(;e!==null;)$p(e.alternate,e),e=e.return;de=null}}function xr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uu(),Ee=e,de=a=gn(e.current,null),ge=t,Ce=0,wt=null,Wn=!1,Nr=Zr(e,t),wu=!1,$r=Bt=xu=Ma=Jn=He=0,St=Ei=null,ku=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-x(i),f=1<<u;t|=e[u],i&=~f}return _n=t,Ol(),a}function Vp(e,t){ue=null,M.H=es,t===yi||t===Pl?(t=dd(),Ce=3):t===ud?(t=dd(),Ce=4):Ce=t===pp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,de===null&&(He=1,is(e,Lt(t,e.current)))}function Zp(){var e=M.H;return M.H=es,e===null?es:e}function Ip(){var e=M.A;return M.A=Ev,e}function Hu(){He=4,Wn||(ge&4194048)!==ge&&Kt.current!==null||(Nr=!0),(Jn&134217727)===0&&(Ma&134217727)===0||Ee===null||na(Ee,ge,Bt,!1)}function Lu(e,t,a){var i=De;De|=2;var u=Zp(),f=Ip();(Ee!==e||ge!==t)&&(ds=null,xr(e,t)),t=!1;var y=He;e:do try{if(Ce!==0&&de!==null){var v=de,b=wt;switch(Ce){case 8:Uu(),y=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var N=Ce;if(Ce=0,wt=null,kr(e,v,b,N),a&&Nr){y=0;break e}break;default:N=Ce,Ce=0,wt=null,kr(e,v,b,N)}}Ov(),y=He;break}catch(k){Vp(e,k)}while(!0);return t&&e.shellSuspendCounter++,bn=$a=null,De=i,M.H=u,M.A=f,de===null&&(Ee=null,ge=0,Ol()),y}function Ov(){for(;de!==null;)Wp(de)}function Uv(e,t){var a=De;De|=2;var i=Zp(),u=Ip();Ee!==e||ge!==t?(ds=null,fs=ot()+500,xr(e,t)):Nr=Zr(e,t);e:do try{if(Ce!==0&&de!==null){t=de;var f=wt;t:switch(Ce){case 1:Ce=0,wt=null,kr(e,t,f,1);break;case 2:case 9:if(cd(f)){Ce=0,wt=null,Jp(t);break}t=function(){Ce!==2&&Ce!==9||Ee!==e||(Ce=7),dn(e)},f.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:cd(f)?(Ce=0,wt=null,Jp(t)):(Ce=0,wt=null,kr(e,t,f,7));break;case 5:var y=null;switch(de.tag){case 26:y=de.memoizedState;case 5:case 27:var v=de;if(!y||zm(y)){Ce=0,wt=null;var b=v.sibling;if(b!==null)de=b;else{var N=v.return;N!==null?(de=N,ms(N)):de=null}break t}}Ce=0,wt=null,kr(e,t,f,5);break;case 6:Ce=0,wt=null,kr(e,t,f,6);break;case 8:Uu(),He=6;break e;default:throw Error(l(462))}}Hv();break}catch(k){Vp(e,k)}while(!0);return bn=$a=null,M.H=i,M.A=u,De=a,de!==null?0:(Ee=null,ge=0,Ol(),He)}function Hv(){for(;de!==null&&!st();)Wp(de)}function Wp(e){var t=Ap(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?ms(e):de=t}function Jp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Tp(a,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Tp(a,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:Jo(t);default:$p(a,t),t=de=ed(t,_n),t=Ap(a,t,_n)}e.memoizedProps=e.pendingProps,t===null?ms(e):de=t}function kr(e,t,a,i){bn=$a=null,Jo(t),Sr=null,Ci=0;var u=t.return;try{if(Nv(e,u,t,a,ge)){He=1,is(e,Lt(a,e.current)),de=null;return}}catch(f){if(u!==null)throw de=u,f;He=1,is(e,Lt(a,e.current)),de=null;return}t.flags&32768?(Re||i===1?e=!0:Nr||(ge&536870912)!==0?e=!1:(Wn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),em(t,e)):ms(t)}function ms(e){var t=e;do{if((t.flags&32768)!==0){em(t,Wn);return}e=t.return;var a=_v(t.alternate,t,_n);if(a!==null){de=a;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);He===0&&(He=5)}function em(e,t){do{var a=wv(e.alternate,e);if(a!==null){a.flags&=32767,de=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=a}while(e!==null);He=6,de=null}function tm(e,t,a,i,u,f,y,v,b){e.cancelPendingCommit=null;do ys();while(rt!==0);if((De&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=_o,yg(e,a,f,y,v,b),e===Ee&&(de=Ee=null,ge=0),_r=t,ta=e,wr=a,Mu=f,zu=u,Fp=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jv(ha,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=Q.p,Q.p=2,y=De,De|=4;try{xv(e,t,a)}finally{De=y,Q.p=u,M.T=i}}rt=1,nm(),am(),rm()}}function nm(){if(rt===1){rt=0;var e=ta,t=_r,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{Lp(t,e);var f=Zu,y=Pf(e.containerInfo),v=f.focusedElem,b=f.selectionRange;if(y!==v&&v&&v.ownerDocument&&Bf(v.ownerDocument.documentElement,v)){if(b!==null&&Do(v)){var N=b.start,k=b.end;if(k===void 0&&(k=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(k,v.value.length);else{var L=v.ownerDocument||document,$=L&&L.defaultView||window;if($.getSelection){var w=$.getSelection(),re=v.textContent.length,J=Math.min(b.start,re),$e=b.end===void 0?J:Math.min(b.end,re);!w.extend&&J>$e&&(y=$e,$e=J,J=y);var C=Kf(v,J),S=Kf(v,$e);if(C&&S&&(w.rangeCount!==1||w.anchorNode!==C.node||w.anchorOffset!==C.offset||w.focusNode!==S.node||w.focusOffset!==S.offset)){var A=L.createRange();A.setStart(C.node,C.offset),w.removeAllRanges(),J>$e?(w.addRange(A),w.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),w.addRange(A))}}}}for(L=[],w=v;w=w.parentNode;)w.nodeType===1&&L.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var O=L[v];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}$s=!!Vu,Zu=Vu=null}finally{De=u,Q.p=i,M.T=a}}e.current=t,rt=2}}function am(){if(rt===2){rt=0;var e=ta,t=_r,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{zp(e,t.alternate,t)}finally{De=u,Q.p=i,M.T=a}}rt=3}}function rm(){if(rt===4||rt===3){rt=0,Vt();var e=ta,t=_r,a=wr,i=Fp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,_r=ta=null,im(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ea=null),to(a),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(sn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,u=Q.p,Q.p=2,M.T=null;try{for(var f=e.onRecoverableError,y=0;y<i.length;y++){var v=i[y];f(v.value,{componentStack:v.stack})}}finally{M.T=t,Q.p=u}}(wr&3)!==0&&ys(),dn(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Ou?Mi++:(Mi=0,Ou=e):Mi=0,zi(0)}}function im(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pi(t)))}function ys(e){return nm(),am(),rm(),lm()}function lm(){if(rt!==5)return!1;var e=ta,t=Mu;Mu=0;var a=to(wr),i=M.T,u=Q.p;try{Q.p=32>a?32:a,M.T=null,a=zu,zu=null;var f=ta,y=wr;if(rt=0,_r=ta=null,wr=0,(De&6)!==0)throw Error(l(331));var v=De;if(De|=4,Bp(f.current),Gp(f,f.current,y,a),De=v,zi(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(sn,f)}catch{}return!0}finally{Q.p=u,M.T=i,im(e,t)}}function sm(e,t,a){t=Lt(a,t),t=pu(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(Ir(e,2),dn(e))}function _e(e,t,a){if(e.tag===3)sm(e,e,a);else for(;t!==null;){if(t.tag===3){sm(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ea===null||!ea.has(i))){e=Lt(a,e),a=fp(2),i=Fn(t,a,2),i!==null&&(dp(a,i,t,e),Ir(i,2),dn(i));break}}t=t.return}}function qu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Mv;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(wu=!0,u.add(a),e=Lv.bind(null,e,t,a),t.then(e,e))}function Lv(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ee===e&&(ge&a)===a&&(He===4||He===3&&(ge&62914560)===ge&&300>ot()-Eu?(De&2)===0&&xr(e,0):xu|=a,$r===ge&&($r=0)),dn(e)}function om(e,t){t===0&&(t=af()),e=dr(e,t),e!==null&&(Ir(e,t),dn(e))}function qv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),om(e,a)}function Gv(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),om(e,a)}function jv(e,t){return le(e,t)}var hs=null,Er=null,Gu=!1,gs=!1,ju=!1,za=0;function dn(e){e!==Er&&e.next===null&&(Er===null?hs=Er=e:Er=Er.next=e),gs=!0,Gu||(Gu=!0,Bv())}function zi(e,t){if(!ju&&gs){ju=!0;do for(var a=!1,i=hs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var y=i.suspendedLanes,v=i.pingedLanes;f=(1<<31-x(42|e)+1)-1,f&=u&~(y&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,dm(i,f))}else f=ge,f=Dl(i,i===Ee?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Zr(i,f)||(a=!0,dm(i,f));i=i.next}while(a);ju=!1}}function Kv(){um()}function um(){gs=Gu=!1;var e=0;za!==0&&(Iv()&&(e=za),za=0);for(var t=ot(),a=null,i=hs;i!==null;){var u=i.next,f=cm(i,t);f===0?(i.next=null,a===null?hs=u:a.next=u,u===null&&(Er=a)):(a=i,(e!==0||(f&3)!==0)&&(gs=!0)),i=u}zi(e)}function cm(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-x(f),v=1<<y,b=u[y];b===-1?((v&a)===0||(v&i)!==0)&&(u[y]=mg(v,t)):b<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ee,a=ge,a=Dl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&U(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&U(i),to(a)){case 2:case 8:a=Vr;break;case 32:a=ha;break;case 268435456:a=Rl;break;default:a=ha}return i=fm.bind(null,e),a=le(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&U(i),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ys()&&e.callbackNode!==a)return null;var i=ge;return i=Dl(e,e===Ee?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Qp(e,i,t),cm(e,ot()),e.callbackNode!=null&&e.callbackNode===a?fm.bind(null,e):null)}function dm(e,t){if(ys())return null;Qp(e,t,!0)}function Bv(){Jv(function(){(De&6)!==0?le(Xr,Kv):um()})}function Ku(){return za===0&&(za=nf()),za}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function mm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Pv(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var f=pm((u[vt]||null).action),y=i.submitter;y&&(t=(t=y[vt]||null)?pm(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var v=new El("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(za!==0){var b=y?mm(u,y):new FormData(u);ou(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=y?mm(u,y):new FormData(u),ou(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Bu=0;Bu<$o.length;Bu++){var Pu=$o[Bu],Fv=Pu.toLowerCase(),Yv=Pu[0].toUpperCase()+Pu.slice(1);It(Fv,"on"+Yv)}It(Qf,"onAnimationEnd"),It(Xf,"onAnimationIteration"),It(Vf,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(uv,"onTransitionRun"),It(cv,"onTransitionStart"),It(fv,"onTransitionCancel"),It(Zf,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function ym(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var y=i.length-1;0<=y;y--){var v=i[y],b=v.instance,N=v.currentTarget;if(v=v.listener,b!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(k){rs(k)}u.currentTarget=null,f=b}else for(y=0;y<i.length;y++){if(v=i[y],b=v.instance,N=v.currentTarget,v=v.listener,b!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(k){rs(k)}u.currentTarget=null,f=b}}}}function pe(e,t){var a=t[no];a===void 0&&(a=t[no]=new Set);var i=e+"__bubble";a.has(i)||(hm(t,e,2,!1),a.add(i))}function Fu(e,t,a){var i=0;t&&(i|=4),hm(a,e,i,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[vs]){e[vs]=!0,uf.forEach(function(a){a!=="selectionchange"&&(Qv.has(a)||Fu(a,!1,e),Fu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,Fu("selectionchange",!1,t))}}function hm(e,t,a,i){switch(Gm(t)){case 2:var u=b0;break;case 8:u=R0;break;default:u=lc}a=u.bind(null,t,a,e),u=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Qu(e,t,a,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var v=i.stateNode.containerInfo;if(v===u)break;if(y===4)for(y=i.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;v!==null;){if(y=Ja(v),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){i=f=y;continue e}v=v.parentNode}}i=i.return}Df(function(){var N=f,k=fo(a),L=[];e:{var $=If.get(e);if($!==void 0){var w=El,re=e;switch(e){case"keypress":if(xl(a)===0)break e;case"keydown":case"keyup":w=jg;break;case"focusin":re="focus",w=vo;break;case"focusout":re="blur",w=vo;break;case"beforeblur":case"afterblur":w=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Pg;break;case Qf:case Xf:case Vf:w=Eg;break;case Zf:w=Yg;break;case"scroll":case"scrollend":w=$g;break;case"wheel":w=Xg;break;case"copy":case"cut":case"paste":w=zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=_f;break;case"toggle":case"beforetoggle":w=Zg}var J=(t&4)!==0,$e=!J&&(e==="scroll"||e==="scrollend"),C=J?$!==null?$+"Capture":null:$;J=[];for(var S=N,A;S!==null;){var O=S;if(A=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||A===null||C===null||(O=ei(S,C),O!=null&&J.push(Ui(S,O,A))),$e)break;S=S.return}0<J.length&&($=new w($,re,null,a,k),L.push({event:$,listeners:J}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",$&&a!==co&&(re=a.relatedTarget||a.fromElement)&&(Ja(re)||re[Wa]))break e;if((w||$)&&($=k.window===k?k:($=k.ownerDocument)?$.defaultView||$.parentWindow:window,w?(re=a.relatedTarget||a.toElement,w=N,re=re?Ja(re):null,re!==null&&($e=c(re),J=re.tag,re!==$e||J!==5&&J!==27&&J!==6)&&(re=null)):(w=null,re=N),w!==re)){if(J=Nf,O="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(J=_f,O="onPointerLeave",C="onPointerEnter",S="pointer"),$e=w==null?$:Jr(w),A=re==null?$:Jr(re),$=new J(O,S+"leave",w,a,k),$.target=$e,$.relatedTarget=A,O=null,Ja(k)===N&&(J=new J(C,S+"enter",re,a,k),J.target=A,J.relatedTarget=$e,O=J),$e=O,w&&re)t:{for(J=w,C=re,S=0,A=J;A;A=Mr(A))S++;for(A=0,O=C;O;O=Mr(O))A++;for(;0<S-A;)J=Mr(J),S--;for(;0<A-S;)C=Mr(C),A--;for(;S--;){if(J===C||C!==null&&J===C.alternate)break t;J=Mr(J),C=Mr(C)}J=null}else J=null;w!==null&&gm(L,$,w,J,!1),re!==null&&$e!==null&&gm(L,$e,re,J,!0)}}e:{if($=N?Jr(N):window,w=$.nodeName&&$.nodeName.toLowerCase(),w==="select"||w==="input"&&$.type==="file")var V=Uf;else if(zf($))if(Hf)V=lv;else{V=rv;var ce=av}else w=$.nodeName,!w||w.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?N&&uo(N.elementType)&&(V=Uf):V=iv;if(V&&(V=V(e,N))){Of(L,V,a,k);break e}ce&&ce(e,$,N),e==="focusout"&&N&&$.type==="number"&&N.memoizedProps.value!=null&&oo($,"number",$.value)}switch(ce=N?Jr(N):window,e){case"focusin":(zf(ce)||ce.contentEditable==="true")&&(ur=ce,Co=N,oi=null);break;case"focusout":oi=Co=ur=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Ff(L,a,k);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Ff(L,a,k)}var I;if(bo)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else or?Ef(e,a)&&(te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(te="onCompositionStart");te&&(wf&&a.locale!=="ko"&&(or||te!=="onCompositionStart"?te==="onCompositionEnd"&&or&&(I=Cf()):(jn=k,yo="value"in jn?jn.value:jn.textContent,or=!0)),ce=Ts(N,te),0<ce.length&&(te=new $f(te,e,null,a,k),L.push({event:te,listeners:ce}),I?te.data=I:(I=Mf(a),I!==null&&(te.data=I)))),(I=Wg?Jg(e,a):ev(e,a))&&(te=Ts(N,"onBeforeInput"),0<te.length&&(ce=new $f("onBeforeInput","beforeinput",null,a,k),L.push({event:ce,listeners:te}),ce.data=I)),Pv(L,e,N,a,k)}ym(L,t)})}function Ui(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ts(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ei(e,a),u!=null&&i.unshift(Ui(e,u,f)),u=ei(e,t),u!=null&&i.push(Ui(e,u,f))),e.tag===3)return i;e=e.return}return[]}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gm(e,t,a,i,u){for(var f=t._reactName,y=[];a!==null&&a!==i;){var v=a,b=v.alternate,N=v.stateNode;if(v=v.tag,b!==null&&b===i)break;v!==5&&v!==26&&v!==27||N===null||(b=N,u?(N=ei(a,f),N!=null&&y.unshift(Ui(a,N,b))):u||(N=ei(a,f),N!=null&&y.push(Ui(a,N,b)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Xv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Vv,"")}function Tm(e,t){return t=vm(t),vm(e)===t}function bs(){}function Ne(e,t,a,i,u,f){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ir(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ir(e,""+i);break;case"className":Al(e,"class",i);break;case"tabIndex":Al(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,a,i);break;case"style":Rf(e,i,f);break;case"data":if(t!=="object"){Al(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=_l(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=_l(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=bs);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=_l(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Cl(e,"popover",i);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ag.get(a)||a,Cl(e,a,i))}}function Xu(e,t,a,i,u,f){switch(a){case"style":Rf(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?ir(e,i):(typeof i=="number"||typeof i=="bigint")&&ir(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Cl(e,a,i)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,f,y,a,null)}}u&&Ne(e,t,"srcSet",a.srcSet,a,null),i&&Ne(e,t,"src",a.src,a,null);return;case"input":pe("invalid",e);var v=f=y=u=null,b=null,N=null;for(i in a)if(a.hasOwnProperty(i)){var k=a[i];if(k!=null)switch(i){case"name":u=k;break;case"type":y=k;break;case"checked":b=k;break;case"defaultChecked":N=k;break;case"value":f=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:Ne(e,t,i,k,a,null)}}gf(e,f,v,b,N,y,u,!1),Nl(e);return;case"select":pe("invalid",e),i=y=f=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":y=v;break;case"multiple":i=v;default:Ne(e,t,u,v,a,null)}t=f,a=y,e.multiple=!!i,t!=null?rr(e,!!i,t,!1):a!=null&&rr(e,!!i,a,!0);return;case"textarea":pe("invalid",e),f=u=i=null;for(y in a)if(a.hasOwnProperty(y)&&(v=a[y],v!=null))switch(y){case"value":i=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ne(e,t,y,v,a,null)}Tf(e,i,u,f),Nl(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(i=a[b],i!=null))switch(b){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(e,t,b,i,a,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<Oi.length;i++)pe(Oi[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(i=a[N],i!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,N,i,a,null)}return;default:if(uo(t)){for(k in a)a.hasOwnProperty(k)&&(i=a[k],i!==void 0&&Xu(e,t,k,i,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(i=a[v],i!=null&&Ne(e,t,v,i,a,null))}function Zv(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,v=null,b=null,N=null,k=null;for(w in a){var L=a[w];if(a.hasOwnProperty(w)&&L!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":b=L;default:i.hasOwnProperty(w)||Ne(e,t,w,null,i,L)}}for(var $ in i){var w=i[$];if(L=a[$],i.hasOwnProperty($)&&(w!=null||L!=null))switch($){case"type":f=w;break;case"name":u=w;break;case"checked":N=w;break;case"defaultChecked":k=w;break;case"value":y=w;break;case"defaultValue":v=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,t));break;default:w!==L&&Ne(e,t,$,w,i,L)}}so(e,y,v,b,N,k,f,u);return;case"select":w=y=v=$=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":w=b;default:i.hasOwnProperty(f)||Ne(e,t,f,null,i,b)}for(u in i)if(f=i[u],b=a[u],i.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":$=f;break;case"defaultValue":v=f;break;case"multiple":y=f;default:f!==b&&Ne(e,t,u,f,i,b)}t=v,a=y,i=w,$!=null?rr(e,!!a,$,!1):!!i!=!!a&&(t!=null?rr(e,!!a,t,!0):rr(e,!!a,a?[]:"",!1));return;case"textarea":w=$=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ne(e,t,v,null,i,u)}for(y in i)if(u=i[y],f=a[y],i.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":$=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ne(e,t,y,u,i,f)}vf(e,$,w);return;case"option":for(var re in a)if($=a[re],a.hasOwnProperty(re)&&$!=null&&!i.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ne(e,t,re,null,i,$)}for(b in i)if($=i[b],w=a[b],i.hasOwnProperty(b)&&$!==w&&($!=null||w!=null))switch(b){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ne(e,t,b,$,i,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)$=a[J],a.hasOwnProperty(J)&&$!=null&&!i.hasOwnProperty(J)&&Ne(e,t,J,null,i,$);for(N in i)if($=i[N],w=a[N],i.hasOwnProperty(N)&&$!==w&&($!=null||w!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ne(e,t,N,$,i,w)}return;default:if(uo(t)){for(var $e in a)$=a[$e],a.hasOwnProperty($e)&&$!==void 0&&!i.hasOwnProperty($e)&&Xu(e,t,$e,void 0,i,$);for(k in i)$=i[k],w=a[k],!i.hasOwnProperty(k)||$===w||$===void 0&&w===void 0||Xu(e,t,k,$,i,w);return}}for(var C in a)$=a[C],a.hasOwnProperty(C)&&$!=null&&!i.hasOwnProperty(C)&&Ne(e,t,C,null,i,$);for(L in i)$=i[L],w=a[L],!i.hasOwnProperty(L)||$===w||$==null&&w==null||Ne(e,t,L,$,i,w)}var Vu=null,Zu=null;function Rs(e){return e.nodeType===9?e:e.ownerDocument}function bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=null;function Iv(){var e=window.event;return e&&e.type==="popstate"?e===Wu?!1:(Wu=e,!0):(Wu=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(e0)}:Sm;function e0(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function Cm(e,t){var a=t,i=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<i&&8>i){a=i;var y=e.ownerDocument;if(a&1&&Hi(y.documentElement),a&2&&Hi(y.body),a&4)for(a=y.head,Hi(a),y=a.firstChild;y;){var v=y.nextSibling,b=y.nodeName;y[Wr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=v}}if(u===0){e.removeChild(f),Fi(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:i=a.charCodeAt(0)-48;else i=0;a=f}while(a);Fi(t)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ju(a),ao(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function t0(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Wr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function n0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function a0(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var tc=null;function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Nm(e,t,a){switch(t=Rs(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ao(e)}var Pt=new Map,$m=new Set;function Ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=Q.d;Q.d={f:r0,r:i0,D:l0,C:s0,L:o0,m:u0,X:f0,S:c0,M:d0};function r0(){var e=wn.f(),t=ps();return e||t}function i0(e){var t=er(e);t!==null&&t.tag===5&&t.type==="form"?Qd(t):wn.r(e)}var zr=typeof document>"u"?null:document;function _m(e,t,a){var i=zr;if(i&&typeof t=="string"&&t){var u=Ht(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),$m.has(u)||($m.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function l0(e){wn.D(e),_m("dns-prefetch",e,null)}function s0(e,t){wn.C(e,t),_m("preconnect",e,t)}function o0(e,t,a){wn.L(e,t,a);var i=zr;if(i&&e&&t){var u='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ht(a.imageSizes)+'"]')):u+='[href="'+Ht(e)+'"]';var f=u;switch(t){case"style":f=Or(e);break;case"script":f=Ur(e)}Pt.has(f)||(e=g({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Li(f))||t==="script"&&i.querySelector(qi(f))||(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function u0(e,t){wn.m(e,t);var a=zr;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ur(e)}if(!Pt.has(f)&&(e=g({rel:"modulepreload",href:e},t),Pt.set(f,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qi(f)))return}i=a.createElement("link"),it(i,"link",e),We(i),a.head.appendChild(i)}}}function c0(e,t,a){wn.S(e,t,a);var i=zr;if(i&&e){var u=tr(i).hoistableStyles,f=Or(e);t=t||"default";var y=u.get(f);if(!y){var v={loading:0,preload:null};if(y=i.querySelector(Li(f)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(f))&&nc(e,a);var b=y=i.createElement("link");We(b),it(b,"link",e),b._p=new Promise(function(N,k){b.onload=N,b.onerror=k}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ds(y,t,i)}y={type:"stylesheet",instance:y,count:1,state:v},u.set(f,y)}}}function f0(e,t){wn.X(e,t);var a=zr;if(a&&e){var i=tr(a).hoistableScripts,u=Ur(e),f=i.get(u);f||(f=a.querySelector(qi(u)),f||(e=g({src:e,async:!0},t),(t=Pt.get(u))&&ac(e,t),f=a.createElement("script"),We(f),it(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function d0(e,t){wn.M(e,t);var a=zr;if(a&&e){var i=tr(a).hoistableScripts,u=Ur(e),f=i.get(u);f||(f=a.querySelector(qi(u)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Pt.get(u))&&ac(e,t),f=a.createElement("script"),We(f),it(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function wm(e,t,a,i){var u=(u=Xt.current)?Ss(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Or(a.href),a=tr(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Or(a.href);var f=tr(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Li(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),f||p0(u,e,a,y.state))),t&&i===null)throw Error(l(528,""));return y}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ur(a),a=tr(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Or(e){return'href="'+Ht(e)+'"'}function Li(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function p0(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),it(t,"link",a),We(t),e.head.appendChild(t))}function Ur(e){return'[src="'+Ht(e)+'"]'}function qi(e){return"script[async]"+e}function km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(i)return t.instance=i,We(i),i;var u=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),We(i),it(i,"style",u),Ds(i,a.precedence,e),t.instance=i;case"stylesheet":u=Or(a.href);var f=e.querySelector(Li(u));if(f)return t.state.loading|=4,t.instance=f,We(f),f;i=xm(a),(u=Pt.get(u))&&nc(i,u),f=(e.ownerDocument||e).createElement("link"),We(f);var y=f;return y._p=new Promise(function(v,b){y.onload=v,y.onerror=b}),it(f,"link",i),t.state.loading|=4,Ds(f,a.precedence,e),t.instance=f;case"script":return f=Ur(a.src),(u=e.querySelector(qi(f)))?(t.instance=u,We(u),u):(i=a,(u=Pt.get(f))&&(i=g({},a),ac(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),it(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ds(i,a.precedence,e));return t.instance}function Ds(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,y=0;y<i.length;y++){var v=i[y];if(v.dataset.precedence===t)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cs=null;function Em(e,t,a){if(Cs===null){var i=new Map,u=Cs=new Map;u.set(a,i)}else u=Cs,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Wr]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var v=i.get(y);v?v.push(f):i.set(y,[f])}}return i}function Mm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function m0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Gi=null;function y0(){}function h0(e,t,a){if(Gi===null)throw Error(l(475));var i=Gi;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Or(a.href),f=e.querySelector(Li(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=As.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,We(f);return}f=e.ownerDocument||e,a=xm(a),(u=Pt.get(u))&&nc(a,u),f=f.createElement("link"),We(f);var y=f;y._p=new Promise(function(v,b){y.onload=v,y.onerror=b}),it(f,"link",a),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=As.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function g0(){if(Gi===null)throw Error(l(475));var e=Gi;return e.stylesheets&&e.count===0&&rc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function As(){if(this.count--,this.count===0){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function rc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,t.forEach(v0,e),Ns=null,As.call(e))}function v0(e,t){if(!(t.state.loading&4)){var a=Ns.get(e);if(a)var i=a.get(null);else{a=new Map,Ns.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),i=y)}i&&a.set(null,i)}u=t.instance,y=u.getAttribute("data-precedence"),f=a.get(y)||i,f===i&&a.set(null,u),a.set(y,u),this.count++,i=As.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:F,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function T0(e,t,a,i,u,f,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Om(e,t,a,i,u,f,y,v,b,N,k,L){return e=new T0(e,t,a,y,v,b,N,L),t=1,f===!0&&(t|=24),f=Nt(3,null,null,t),e.current=f,f.stateNode=e,t=qo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:a,cache:t},Bo(f),e}function Um(e){return e?(e=pr,e):pr}function Hm(e,t,a,i,u,f){u=Um(u),i.context===null?i.context=u:i.pendingContext=u,i=Pn(t),i.payload={element:a},f=f===void 0?null:f,f!==null&&(i.callback=f),a=Fn(e,i,t),a!==null&&(kt(a,e,t),gi(a,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ic(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function qm(e){if(e.tag===13){var t=dr(e,67108864);t!==null&&kt(t,e,67108864),ic(e,67108864)}}var $s=!0;function b0(e,t,a,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=2,lc(e,t,a,i)}finally{Q.p=f,M.T=u}}function R0(e,t,a,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=8,lc(e,t,a,i)}finally{Q.p=f,M.T=u}}function lc(e,t,a,i){if($s){var u=sc(i);if(u===null)Qu(e,t,i,_s,a),jm(e,i);else if(D0(u,e,t,a,i))i.stopPropagation();else if(jm(e,i),t&4&&-1<S0.indexOf(e)){for(;u!==null;){var f=er(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ga(f.pendingLanes);if(y!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var b=1<<31-x(y);v.entanglements[1]|=b,y&=~b}dn(f),(De&6)===0&&(fs=ot()+500,zi(0))}}break;case 13:v=dr(f,2),v!==null&&kt(v,f,2),ps(),ic(f,2)}if(f=sc(i),f===null&&Qu(e,t,i,_s,a),f===u)break;u=f}u!==null&&i.stopPropagation()}else Qu(e,t,i,null,a)}}function sc(e){return e=fo(e),oc(e)}var _s=null;function oc(e){if(_s=null,e=Ja(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _s=e,null}function Gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bl()){case Xr:return 2;case Vr:return 8;case ha:case Xa:return 32;case Rl:return 268435456;default:return 32}default:return 32}}var uc=!1,ra=null,ia=null,la=null,Ki=new Map,Bi=new Map,sa=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function Pi(e,t,a,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=er(t),t!==null&&qm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function D0(e,t,a,i,u){switch(t){case"focusin":return ra=Pi(ra,e,t,a,i,u),!0;case"dragenter":return ia=Pi(ia,e,t,a,i,u),!0;case"mouseover":return la=Pi(la,e,t,a,i,u),!0;case"pointerover":var f=u.pointerId;return Ki.set(f,Pi(Ki.get(f)||null,e,t,a,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Bi.set(f,Pi(Bi.get(f)||null,e,t,a,i,u)),!0}return!1}function Km(e){var t=Ja(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,hg(e.priority,function(){if(a.tag===13){var i=xt();i=eo(i);var u=dr(a,i);u!==null&&kt(u,a,i),ic(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=sc(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);co=i,a.target.dispatchEvent(i),co=null}else return t=er(a),t!==null&&qm(t),e.blockedOn=a,!1;t.shift()}return!0}function Bm(e,t,a){ws(e)&&a.delete(t)}function C0(){uc=!1,ra!==null&&ws(ra)&&(ra=null),ia!==null&&ws(ia)&&(ia=null),la!==null&&ws(la)&&(la=null),Ki.forEach(Bm),Bi.forEach(Bm)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,C0)))}var ks=null;function Pm(e){ks!==e&&(ks=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ks===e&&(ks=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(oc(i||a)===null)continue;break}var f=er(a);f!==null&&(e.splice(t,3),t-=3,ou(f,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function Fi(e){function t(b){return xs(b,e)}ra!==null&&xs(ra,e),ia!==null&&xs(ia,e),la!==null&&xs(la,e),Ki.forEach(t),Bi.forEach(t);for(var a=0;a<sa.length;a++){var i=sa[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<sa.length&&(a=sa[0],a.blockedOn===null);)Km(a),a.blockedOn===null&&sa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],f=a[i+1],y=u[vt]||null;if(typeof f=="function")y||Pm(a);else if(y){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[vt]||null)v=y.formAction;else if(oc(u)!==null)continue}else v=y.action;typeof v=="function"?a[i+1]=v:(a.splice(i,3),i-=3),Pm(a)}}}function cc(e){this._internalRoot=e}Es.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=xt();Hm(a,i,e,t,null,null)},Es.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),ps(),t[Wa]=null}};function Es(e){this._internalRoot=e}Es.prototype.unstable_scheduleHydration=function(e){if(e){var t=sf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<sa.length&&t!==0&&t<sa[a].priority;a++);sa.splice(a,0,e),a===0&&Km(e)}};var Fm=n.version;if(Fm!=="19.1.0")throw Error(l(527,Fm,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var A0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{sn=Ms.inject(A0),Be=Ms}catch{}}return Qi.createRoot=function(e,t){if(!s(e))throw Error(l(299));var a=!1,i="",u=sp,f=op,y=up,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Om(e,1,!1,null,null,a,i,u,f,y,v,null),e[Wa]=t.current,Yu(e),new cc(t)},Qi.hydrateRoot=function(e,t,a){if(!s(e))throw Error(l(299));var i=!1,u="",f=sp,y=op,v=up,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),t=Om(e,1,!0,t,a??null,i,u,f,y,v,b,N),t.context=Um(null),a=t.current,i=xt(),i=eo(i),u=Pn(i),u.callback=null,Fn(a,u,i),a=i,t.current.lanes=a,Ir(t,a),dn(t),e[Wa]=t.current,Yu(e),new Es(t)},Qi.version="19.1.0",Qi}var sy;function ET(){if(sy)return pc.exports;sy=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),pc.exports=kT(),pc.exports}var MT=ET();function zT(o){var n;const r=/^\/(.*)\/([gimyu]*)$/.exec(o.toString());if(!r)throw new Error("Invalid RegExp");return new RegExp((n=r[1])!==null&&n!==void 0?n:"",r[2])}function Fs(o){if(typeof o!="object")return o;if(o===null)return null;if(Array.isArray(o))return o.map(Fs);if(o instanceof Date)return new Date(o.getTime());if(o instanceof RegExp)return zT(o);const n={};for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=Fs(o[r]));return n}function OT(o,n){if(o.length===0)throw new Error("Expected a non-empty array")}function UT(o,n){if(o.length<2)throw new Error("Expected an array with at least 2 items")}const HT=o=>o[o.length-1];class Bc{setResult(n){return this.result=n,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(n,r){return n.parent=this,typeof r<"u"&&(n.childName=r),n.root=this.root||this,n.options=n.options||this.options,this.children?(OT(this.children),HT(this.children).next=n,this.children.push(n)):(this.children=[n],this.nextAfterChildren=this.next||null,this.next=n),n.next=this,this}}class qa extends Bc{constructor(n,r){super(),this.left=n,this.right=r,this.pipe="diff"}prepareDeltaResult(n){var r,l,s,c;if(typeof n=="object"&&(!((r=this.options)===null||r===void 0)&&r.omitRemovedValues&&Array.isArray(n)&&n.length>1&&(n.length===2||n[2]===0||n[2]===3)&&(n[0]=0),!((l=this.options)===null||l===void 0)&&l.cloneDiffValues)){const d=typeof((s=this.options)===null||s===void 0?void 0:s.cloneDiffValues)=="function"?(c=this.options)===null||c===void 0?void 0:c.cloneDiffValues:Fs;typeof n[0]=="object"&&(n[0]=d(n[0])),typeof n[1]=="object"&&(n[1]=d(n[1]))}return n}setResult(n){return this.prepareDeltaResult(n),super.setResult(n)}}class Pc extends Bc{constructor(n,r){super(),this.left=n,this.delta=r,this.pipe="patch"}}class Fc extends Bc{constructor(n){super(),this.delta=n,this.pipe="reverse"}}class hc{constructor(n){this.name=n,this.filters=[]}process(n){if(!this.processor)throw new Error("add this pipe to a processor before using it");const r=this.debug,l=this.filters.length,s=n;for(let c=0;c<l;c++){const d=this.filters[c];if(d&&(r&&this.log(`filter: ${d.filterName}`),d(s),typeof s=="object"&&s.exiting)){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}log(n){console.log(`[jsondiffpatch] ${this.name} pipe, ${n}`)}append(...n){return this.filters.push(...n),this}prepend(...n){return this.filters.unshift(...n),this}indexOf(n){if(!n)throw new Error("a filter name is required");for(let r=0;r<this.filters.length;r++){const l=this.filters[r];if(l?.filterName===n)return r}throw new Error(`filter not found: ${n}`)}list(){return this.filters.map(n=>n.filterName)}after(n,...r){const l=this.indexOf(n);return this.filters.splice(l+1,0,...r),this}before(n,...r){const l=this.indexOf(n);return this.filters.splice(l,0,...r),this}replace(n,...r){const l=this.indexOf(n);return this.filters.splice(l,1,...r),this}remove(n){const r=this.indexOf(n);return this.filters.splice(r,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(n){return n===!1?(this.resultCheck=null,this):this.resultCheck?this:(this.resultCheck=r=>{if(!r.hasResult){console.log(r);const l=new Error(`${this.name} failed`);throw l.noResult=!0,l}},this)}}class LT{constructor(n){this.selfOptions=n||{},this.pipes={}}options(n){return n&&(this.selfOptions=n),this.selfOptions}pipe(n,r){let l=r;if(typeof n=="string"){if(typeof l>"u")return this.pipes[n];this.pipes[n]=l}if(n&&n.name){if(l=n,l.processor===this)return l;this.pipes[l.name]=l}if(!l)throw new Error(`pipe is not defined: ${n}`);return l.processor=this,l}process(n,r){let l=n;l.options=this.options();let s=r||n.pipe||"default",c;for(;s;)typeof l.nextAfterChildren<"u"&&(l.next=l.nextAfterChildren,l.nextAfterChildren=null),typeof s=="string"&&(s=this.pipe(s)),s.process(l),c=s,s=null,l&&l.next&&(l=l.next,s=l.pipe||c);return l.hasResult?l.result:void 0}}const qT=(o,n,r,l)=>o[r]===n[l],GT=(o,n,r,l)=>{var s,c,d;const p=o.length,m=n.length;let h,g;const T=new Array(p+1);for(h=0;h<p+1;h++){const R=new Array(m+1);for(g=0;g<m+1;g++)R[g]=0;T[h]=R}for(T.match=r,h=1;h<p+1;h++){const R=T[h];if(R===void 0)throw new Error("LCS matrix row is undefined");const D=T[h-1];if(D===void 0)throw new Error("LCS matrix row is undefined");for(g=1;g<m+1;g++)r(o,n,h-1,g-1,l)?R[g]=((s=D[g-1])!==null&&s!==void 0?s:0)+1:R[g]=Math.max((c=D[g])!==null&&c!==void 0?c:0,(d=R[g-1])!==null&&d!==void 0?d:0)}return T},jT=(o,n,r,l)=>{let s=n.length,c=r.length;const d={sequence:[],indices1:[],indices2:[]};for(;s!==0&&c!==0;){if(o.match===void 0)throw new Error("LCS matrix match function is undefined");if(o.match(n,r,s-1,c-1,l))d.sequence.unshift(n[s-1]),d.indices1.unshift(s-1),d.indices2.unshift(c-1),--s,--c;else{const m=o[s];if(m===void 0)throw new Error("LCS matrix row is undefined");const h=m[c-1];if(h===void 0)throw new Error("LCS matrix value is undefined");const g=o[s-1];if(g===void 0)throw new Error("LCS matrix row is undefined");const T=g[c];if(T===void 0)throw new Error("LCS matrix value is undefined");h>T?--c:--s}}return d},KT=(o,n,r,l)=>{const s=l||{},c=GT(o,n,r||qT,s);return jT(c,o,n,s)},BT={get:KT},Fa=3;function PT(o,n,r,l){for(let s=0;s<r;s++){const c=o[s];for(let d=0;d<l;d++){const p=n[d];if(s!==d&&c===p)return!0}}return!1}function zs(o,n,r,l,s){const c=o[r],d=n[l];if(c===d)return!0;if(typeof c!="object"||typeof d!="object")return!1;const p=s.objectHash;if(!p)return s.matchByPosition&&r===l;s.hashCache1=s.hashCache1||[];let m=s.hashCache1[r];if(typeof m>"u"&&(s.hashCache1[r]=m=p(c,r)),typeof m>"u")return!1;s.hashCache2=s.hashCache2||[];let h=s.hashCache2[l];return typeof h>"u"&&(s.hashCache2[l]=h=p(d,l)),typeof h>"u"?!1:m===h}const ch=function(n){var r,l,s,c,d;if(!n.leftIsArray)return;const p={objectHash:(r=n.options)===null||r===void 0?void 0:r.objectHash,matchByPosition:(l=n.options)===null||l===void 0?void 0:l.matchByPosition};let m=0,h=0,g,T,R;const D=n.left,H=n.right,B=D.length,q=H.length;let P;for(B>0&&q>0&&!p.objectHash&&typeof p.matchByPosition!="boolean"&&(p.matchByPosition=!PT(D,H,B,q));m<B&&m<q&&zs(D,H,m,m,p);)g=m,P=new qa(D[g],H[g]),n.push(P,g),m++;for(;h+m<B&&h+m<q&&zs(D,H,B-1-h,q-1-h,p);)T=B-1-h,R=q-1-h,P=new qa(D[T],H[R]),n.push(P,R),h++;let j;if(m+h===B){if(B===q){n.setResult(void 0).exit();return}for(j=j||{_t:"a"},g=m;g<q-h;g++)j[g]=[H[g]],n.prepareDeltaResult(j[g]);n.setResult(j).exit();return}if(m+h===q){for(j=j||{_t:"a"},g=m;g<B-h;g++){const xe=`_${g}`;j[xe]=[D[g],0,0],n.prepareDeltaResult(j[xe])}n.setResult(j).exit();return}p.hashCache1=void 0,p.hashCache2=void 0;const F=D.slice(m,B-h),W=H.slice(m,q-h),oe=BT.get(F,W,zs,p),ie=[];for(j=j||{_t:"a"},g=m;g<B-h;g++)if(oe.indices1.indexOf(g-m)<0){const xe=`_${g}`;j[xe]=[D[g],0,0],n.prepareDeltaResult(j[xe]),ie.push(g)}let ye=!0;!((s=n.options)===null||s===void 0)&&s.arrays&&n.options.arrays.detectMove===!1&&(ye=!1);let fe=!1;!((d=(c=n.options)===null||c===void 0?void 0:c.arrays)===null||d===void 0)&&d.includeValueOnMove&&(fe=!0);const Oe=ie.length;for(g=m;g<q-h;g++){const xe=oe.indices2.indexOf(g-m);if(xe<0){let yt=!1;if(ye&&Oe>0)for(let Le=0;Le<Oe;Le++){T=ie[Le];const ht=T===void 0?void 0:j[`_${T}`];if(T!==void 0&&ht&&zs(F,W,T-m,g-m,p)){ht.splice(1,2,g,Fa),ht.splice(1,2,g,Fa),fe||(ht[0]=""),R=g,P=new qa(D[T],H[R]),n.push(P,R),ie.splice(Le,1),yt=!0;break}}yt||(j[g]=[H[g]],n.prepareDeltaResult(j[g]))}else{if(oe.indices1[xe]===void 0)throw new Error(`Invalid indexOnArray2: ${xe}, seq.indices1: ${oe.indices1}`);if(T=oe.indices1[xe]+m,oe.indices2[xe]===void 0)throw new Error(`Invalid indexOnArray2: ${xe}, seq.indices2: ${oe.indices2}`);R=oe.indices2[xe]+m,P=new qa(D[T],H[R]),n.push(P,R)}}n.setResult(j).exit()};ch.filterName="arrays";const oy={numerically(o,n){return o-n},numericallyBy(o){return(n,r)=>n[o]-r[o]}},fh=function(n){var r;if(!n.nested)return;const l=n.delta;if(l._t!=="a")return;let s,c;const d=l,p=n.left;let m=[],h=[];const g=[];for(s in d)if(s!=="_t")if(s[0]==="_"){const D=s;if(d[D]!==void 0&&(d[D][2]===0||d[D][2]===Fa))m.push(Number.parseInt(s.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${(r=d[D])===null||r===void 0?void 0:r[2]}`)}else{const D=s;d[D].length===1?h.push({index:Number.parseInt(D,10),value:d[D][0]}):g.push({index:Number.parseInt(D,10),delta:d[D]})}for(m=m.sort(oy.numerically),s=m.length-1;s>=0;s--){if(c=m[s],c===void 0)continue;const D=d[`_${c}`],H=p.splice(c,1)[0];D?.[2]===Fa&&h.push({index:D[1],value:H})}h=h.sort(oy.numericallyBy("index"));const T=h.length;for(s=0;s<T;s++){const D=h[s];D!==void 0&&p.splice(D.index,0,D.value)}const R=g.length;if(R>0)for(s=0;s<R;s++){const D=g[s];if(D===void 0)continue;const H=new Pc(p[D.index],D.delta);n.push(H,D.index)}if(!n.children){n.setResult(p).exit();return}n.exit()};fh.filterName="arrays";const dh=function(n){if(!n||!n.children||n.delta._t!=="a")return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;l[p]=d.result}n.setResult(l).exit()};dh.filterName="arraysCollectChildren";const ph=function(n){if(!n.nested){const s=n.delta;if(s[2]===Fa){const c=s;n.newName=`_${c[1]}`,n.setResult([c[0],Number.parseInt(n.childName.substring(1),10),Fa]).exit()}return}const r=n.delta;if(r._t!=="a")return;const l=r;for(const s in l){if(s==="_t")continue;const c=new Fc(l[s]);n.push(c,s)}n.exit()};ph.filterName="arrays";const FT=(o,n,r)=>{if(typeof n=="string"&&n[0]==="_")return Number.parseInt(n.substring(1),10);if(Array.isArray(r)&&r[2]===0)return`_${n}`;let l=+n;for(const s in o){const c=o[s];if(Array.isArray(c))if(c[2]===Fa){const d=Number.parseInt(s.substring(1),10),p=c[1];if(p===+n)return d;d<=l&&p>l?l++:d>=l&&p<l&&l--}else c[2]===0?Number.parseInt(s.substring(1),10)<=l&&l++:c.length===1&&Number.parseInt(s,10)<=l&&l--}return l},mh=o=>{if(!o||!o.children)return;const n=o.delta;if(n._t!=="a")return;const r=n,l=o.children.length,s={_t:"a"};for(let c=0;c<l;c++){const d=o.children[c];if(d===void 0)continue;let p=d.newName;if(typeof p>"u"){if(d.childName===void 0)throw new Error("child.childName is undefined");p=FT(r,d.childName,d.result)}s[p]!==d.result&&(s[p]=d.result)}o.setResult(s).exit()};mh.filterName="arraysCollectChildren";const yh=function(n){n.left instanceof Date?(n.right instanceof Date?n.left.getTime()!==n.right.getTime()?n.setResult([n.left,n.right]):n.setResult(void 0):n.setResult([n.left,n.right]),n.exit()):n.right instanceof Date&&n.setResult([n.left,n.right]).exit()};yh.filterName="dates";const hh=o=>{if(!o||!o.children)return;const n=o.children.length;let r=o.result;for(let l=0;l<n;l++){const s=o.children[l];if(s!==void 0&&!(typeof s.result>"u")){if(r=r||{},s.childName===void 0)throw new Error("diff child.childName is undefined");r[s.childName]=s.result}}r&&o.leftIsArray&&(r._t="a"),o.setResult(r).exit()};hh.filterName="collectChildren";const gh=o=>{var n;if(o.leftIsArray||o.leftType!=="object")return;const r=o.left,l=o.right,s=(n=o.options)===null||n===void 0?void 0:n.propertyFilter;for(const c in r){if(!Object.prototype.hasOwnProperty.call(r,c)||s&&!s(c,o))continue;const d=new qa(r[c],l[c]);o.push(d,c)}for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&!(s&&!s(c,o))&&typeof r[c]>"u"){const d=new qa(void 0,l[c]);o.push(d,c)}if(!o.children||o.children.length===0){o.setResult(void 0).exit();return}o.exit()};gh.filterName="objects";const vh=function(n){if(!n.nested)return;const r=n.delta;if(r._t)return;const l=r;for(const s in l){const c=new Pc(n.left[s],l[s]);n.push(c,s)}n.exit()};vh.filterName="objects";const Th=function(n){if(!n||!n.children||n.delta._t)return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;Object.prototype.hasOwnProperty.call(n.left,p)&&d.result===void 0?delete l[p]:l[p]!==d.result&&(l[p]=d.result)}n.setResult(l).exit()};Th.filterName="collectChildren";const bh=function(n){if(!n.nested||n.delta._t)return;const l=n.delta;for(const s in l){const c=new Fc(l[s]);n.push(c,s)}n.exit()};bh.filterName="objects";const Rh=o=>{if(!o||!o.children||o.delta._t)return;const r=o.children.length,l={};for(let s=0;s<r;s++){const c=o.children[s];if(c===void 0)continue;const d=c.childName;l[d]!==c.result&&(l[d]=c.result)}o.setResult(l).exit()};Rh.filterName="collectChildren";const Ys=2,YT=60;let gc=null;function Sh(o,n){var r;if(!gc){let l;if(!((r=o?.textDiff)===null||r===void 0)&&r.diffMatchPatch)l=new o.textDiff.diffMatchPatch;else{if(!n)return null;const s=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw s.diff_match_patch_not_found=!0,s}gc={diff:(s,c)=>l.patch_toText(l.patch_make(s,c)),patch:(s,c)=>{const d=l.patch_apply(l.patch_fromText(c),s);for(const p of d[1])if(!p){const m=new Error("text patch failed");throw m.textPatchFailed=!0,m}return d[0]}}}return gc}const Dh=function(n){var r,l;if(n.leftType!=="string")return;const s=n.left,c=n.right,d=((l=(r=n.options)===null||r===void 0?void 0:r.textDiff)===null||l===void 0?void 0:l.minLength)||YT;if(s.length<d||c.length<d){n.setResult([s,c]).exit();return}const p=Sh(n.options);if(!p){n.setResult([s,c]).exit();return}const m=p.diff;n.setResult([m(s,c),0,Ys]).exit()};Dh.filterName="texts";const Ch=function(n){if(n.nested)return;const r=n.delta;if(r[2]!==Ys)return;const l=r,s=Sh(n.options,!0).patch;n.setResult(s(n.left,l[0])).exit()};Ch.filterName="texts";const QT=o=>{var n,r,l;const s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,c=o.split(`
`);for(let d=0;d<c.length;d++){const p=c[d];if(p===void 0)continue;const m=p.slice(0,1);if(m==="@"){const h=s.exec(p);if(h!==null){const g=d;c[g]=`@@ -${h[3]},${h[4]} +${h[1]},${h[2]} @@`}}else if(m==="+"){if(c[d]=`-${(n=c[d])===null||n===void 0?void 0:n.slice(1)}`,((r=c[d-1])===null||r===void 0?void 0:r.slice(0,1))==="+"){const h=c[d];c[d]=c[d-1],c[d-1]=h}}else m==="-"&&(c[d]=`+${(l=c[d])===null||l===void 0?void 0:l.slice(1)}`)}return c.join(`
`)},Ah=function(n){if(n.nested)return;const r=n.delta;if(r[2]!==Ys)return;const l=r;n.setResult([QT(l[0]),0,Ys]).exit()};Ah.filterName="texts";const Nh=function(n){if(n.left===n.right){n.setResult(void 0).exit();return}if(typeof n.left>"u"){if(typeof n.right=="function")throw new Error("functions are not supported");n.setResult([n.right]).exit();return}if(typeof n.right>"u"){n.setResult([n.left,0,0]).exit();return}if(typeof n.left=="function"||typeof n.right=="function")throw new Error("functions are not supported");if(n.leftType=n.left===null?"null":typeof n.left,n.rightType=n.right===null?"null":typeof n.right,n.leftType!==n.rightType){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="boolean"||n.leftType==="number"){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="object"&&(n.leftIsArray=Array.isArray(n.left)),n.rightType==="object"&&(n.rightIsArray=Array.isArray(n.right)),n.leftIsArray!==n.rightIsArray){n.setResult([n.left,n.right]).exit();return}n.left instanceof RegExp&&(n.right instanceof RegExp?n.setResult([n.left.toString(),n.right.toString()]).exit():n.setResult([n.left,n.right]).exit())};Nh.filterName="trivial";const $h=function(n){if(typeof n.delta>"u"){n.setResult(n.left).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const r=n.delta;if(r.length===1){n.setResult(r[0]).exit();return}if(r.length===2){if(n.left instanceof RegExp){const l=/^\/(.*)\/([gimyu]+)$/.exec(r[1]);if(l?.[1]){n.setResult(new RegExp(l[1],l[2])).exit();return}}n.setResult(r[1]).exit();return}r.length===3&&r[2]===0&&n.setResult(void 0).exit()};$h.filterName="trivial";const _h=function(n){if(typeof n.delta>"u"){n.setResult(n.delta).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const r=n.delta;if(r.length===1){n.setResult([r[0],0,0]).exit();return}if(r.length===2){n.setResult([r[1],r[0]]).exit();return}r.length===3&&r[2]===0&&n.setResult([r[0]]).exit()};_h.filterName="trivial";class XT{constructor(n){this.processor=new LT(n),this.processor.pipe(new hc("diff").append(hh,Nh,yh,Dh,gh,ch).shouldHaveResult()),this.processor.pipe(new hc("patch").append(Th,dh,$h,Ch,vh,fh).shouldHaveResult()),this.processor.pipe(new hc("reverse").append(Rh,mh,_h,Ah,bh,ph).shouldHaveResult())}options(n){return this.processor.options(n)}diff(n,r){return this.processor.process(new qa(n,r))}patch(n,r){return this.processor.process(new Pc(n,r))}reverse(n){return this.processor.process(new Fc(n))}unpatch(n,r){return this.patch(n,this.reverse(r))}clone(n){return Fs(n)}}function Yc(o){return new XT(o)}class VT{format(n,r){const l={};this.prepareContext(l);const s=l;return this.recurse(s,n,r),this.finalize(s)}prepareContext(n){n.buffer=[],n.out=function(...r){if(!this.buffer)throw new Error("context buffer is not initialized");this.buffer.push(...r)}}typeFormattterNotFound(n,r){throw new Error(`cannot format delta type: ${r}`)}typeFormattterErrorFormatter(n,r,l,s,c,d,p){}finalize({buffer:n}){return Array.isArray(n)?n.join(""):""}recurse(n,r,l,s,c,d,p){const h=r&&d?d.value:l;if(typeof r>"u"&&typeof s>"u")return;const g=this.getDeltaType(r,d),T=g==="node"?r._t==="a"?"array":"object":"";typeof s<"u"?this.nodeBegin(n,s,c,g,T,p??!1):this.rootBegin(n,g,T);let R;try{R=g!=="unknown"?this[`format_${g}`]:this.typeFormattterNotFound(n,g),R.call(this,n,r,h,s,c,d)}catch(D){this.typeFormattterErrorFormatter(n,D,r,h,s,c,d),typeof console<"u"&&console.error&&console.error(D.stack)}typeof s<"u"?this.nodeEnd(n,s,c,g,T,p??!1):this.rootEnd(n,g,T)}formatDeltaChildren(n,r,l){this.forEachDeltaKey(r,l,(s,c,d,p)=>{this.recurse(n,r[s],l?l[c]:void 0,s,c,d,p)})}forEachDeltaKey(n,r,l){const s=[];if(!(n._t==="a")){const q=Object.keys(n);typeof r=="object"&&r!==null&&s.push(...Object.keys(r));for(const P of q)s.indexOf(P)>=0||s.push(P);for(let P=0;P<s.length;P++){const j=s[P];if(j===void 0)continue;const F=P===s.length-1;l(j,j,void 0,F)}return}const d={};for(const q in n)if(Object.prototype.hasOwnProperty.call(n,q)){const P=n[q];if(Array.isArray(P)&&P[2]===3){const j=P;d[j[1]]=Number.parseInt(q.substring(1))}}const p=n;let m=0,h=0;const g=Array.isArray(r)?r:void 0,T=g?g.length:Object.keys(p).reduce((q,P)=>{if(P==="_t")return q;if(P.substring(0,1)==="_"){const ie=p[P],ye=Number.parseInt(P.substring(1)),fe=Array.isArray(ie)&&ie.length>=3&&ie[2]===3?ie[1]:void 0,Oe=Math.max(ye,fe??0);return Oe>q?Oe:q}const F=Number.parseInt(P),W=d[F],oe=Math.max(W??0,F??0);return oe>q?oe:q},0)+1;let R=T,D;const H=(...q)=>{D&&l(...D),D=q},B=()=>{D&&l(D[0],D[1],D[2],!0)};for(;m<T||h<R||`${h}`in p;){let q=!1;const P=`_${m}`,j=`${h}`,F=h in d?d[h]:void 0;if(P in p){q=!0;const W=p[P];H(P,F??m,F?{key:`_${F}`,value:g?g[F]:void 0}:void 0,!1),Array.isArray(W)?W[2]===0?(R--,m++):(W[2],m++):m++}if(j in p){q=!0;const W=p[j],oe=Array.isArray(W)&&W.length===1;H(j,F??m,F?{key:`_${F}`,value:g?g[F]:void 0}:void 0,!1),oe?(R++,h++):(F===void 0&&m++,h++)}q||((g&&F===void 0||this.includeMoveDestinations!==!1)&&H(j,F??m,F?{key:`_${F}`,value:g?g[F]:void 0}:void 0,!1),F!==void 0||m++,h++)}B()}getDeltaType(n,r){if(typeof n>"u")return typeof r<"u"?"movedestination":"unchanged";if(Array.isArray(n)){if(n.length===1)return"added";if(n.length===2)return"modified";if(n.length===3&&n[2]===0)return"deleted";if(n.length===3&&n[2]===2)return"textdiff";if(n.length===3&&n[2]===3)return"moved"}else if(typeof n=="object")return"node";return"unknown"}parseTextDiff(n){var r;const l=[],s=n.split(`
@@ `);for(const c of s){const d={pieces:[]},p=(r=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(c))===null||r===void 0?void 0:r.slice(1);if(!p)throw new Error("invalid text diff format");UT(p),d.location={line:p[0],chr:p[1]};const m=c.split(`
`).slice(1);for(let h=0,g=m.length;h<g;h++){const T=m[h];if(T===void 0||!T.length)continue;const R={type:"context"};T.substring(0,1)==="+"?R.type="added":T.substring(0,1)==="-"&&(R.type="deleted"),R.text=T.slice(1),d.pieces.push(R)}l.push(d)}return l}}class ZT extends VT{typeFormattterErrorFormatter(n,r){const l=typeof r=="object"&&r!==null&&"message"in r&&typeof r.message=="string"?r.message:String(r);n.out(`<pre class="jsondiffpatch-error">${Xi(l)}</pre>`)}formatValue(n,r){const l=typeof r>"u"?"undefined":Xi(JSON.stringify(r,null,2));n.out(`<pre>${l}</pre>`)}formatTextDiffString(n,r){const l=this.parseTextDiff(r);n.out('<ul class="jsondiffpatch-textdiff">');for(let s=0,c=l.length;s<c;s++){const d=l[s];if(d===void 0)return;n.out(`<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">${d.location.line}</span><span class="jsondiffpatch-textdiff-char">${d.location.chr}</span></div><div class="jsondiffpatch-textdiff-line">`);const p=d.pieces;for(let m=0,h=p.length;m<h;m++){const g=p[m];if(g===void 0)return;n.out(`<span class="jsondiffpatch-textdiff-${g.type}">${Xi(decodeURI(g.text))}</span>`)}n.out("</div></li>")}n.out("</ul>")}rootBegin(n,r,l){const s=`jsondiffpatch-${r}${l?` jsondiffpatch-child-node-type-${l}`:""}`;n.out(`<div class="jsondiffpatch-delta ${s}">`)}rootEnd(n){n.out(`</div>${n.hasArrows?`<script type="text/javascript">setTimeout(${IT.toString()},10);<\/script>`:""}`)}nodeBegin(n,r,l,s,c){const d=`jsondiffpatch-${s}${c?` jsondiffpatch-child-node-type-${c}`:""}`,p=typeof l=="number"&&r.substring(0,1)==="_"?r.substring(1):r;n.out(`<li class="${d}" data-key="${Xi(r)}"><div class="jsondiffpatch-property-name">${Xi(p)}</div>`)}nodeEnd(n){n.out("</li>")}format_unchanged(n,r,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_movedestination(n,r,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_node(n,r,l){const s=r._t==="a"?"array":"object";n.out(`<ul class="jsondiffpatch-node jsondiffpatch-node-type-${s}">`),this.formatDeltaChildren(n,r,l),n.out("</ul>")}format_added(n,r){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,r[0]),n.out("</div>")}format_modified(n,r){n.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(n,r[0]),n.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(n,r[1]),n.out("</div>")}format_deleted(n,r){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,r[0]),n.out("</div>")}format_moved(n,r){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,r[0]),n.out(`</div><div class="jsondiffpatch-moved-destination">${r[1]}</div>`),n.out(`<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">
          <svg width="30" height="60" style="position: absolute; display: none;">
          <defs>
              <marker id="markerArrow" markerWidth="8" markerHeight="8"
                 refx="2" refy="4" stroke="#88f"
                     orient="auto" markerUnits="userSpaceOnUse">
                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />
              </marker>
          </defs>
          <path d="M30,0 Q-10,25 26,50"
            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"
          ></path>
          </svg>
      </div>`),n.hasArrows=!0}format_textdiff(n,r){n.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(n,r[0]),n.out("</div>")}}function Xi(o){if(typeof o=="number")return o;let n=String(o);const r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]];for(const l of r)n=n.replace(l[0],l[1]);return n}const IT=function(n){const r=n||document,l=({textContent:d,innerText:p})=>d||p,s=(d,p,m)=>{const h=d.querySelectorAll(p);for(let g=0,T=h.length;g<T;g++)m(h[g])},c=({children:d},p)=>{for(let m=0,h=d.length;m<h;m++){const g=d[m];g&&p(g,m)}};s(r,".jsondiffpatch-arrow",({parentNode:d,children:p,style:m})=>{const h=d,g=p[0],T=g.children[1];g.style.display="none";const R=h.querySelector(".jsondiffpatch-moved-destination");if(!(R instanceof HTMLElement))return;const D=l(R),H=h.parentNode;if(!H)return;let B;if(c(H,q=>{q.getAttribute("data-key")===D&&(B=q)}),!!B)try{const q=B.offsetTop-h.offsetTop;g.setAttribute("height",`${Math.abs(q)+6}`),m.top=`${-8+(q>0?0:q)}px`;const P=q>0?`M30,0 Q-10,${Math.round(q/2)} 26,${q-4}`:`M30,${-q} Q-10,${Math.round(-q/2)} 26,4`;T.setAttribute("d",P),g.style.display=""}catch(q){console.debug(`[jsondiffpatch] error adjusting arrows: ${q}`)}})};let vc;function Qc(o,n){return vc||(vc=new ZT),vc.format(o,n)}const Xc=`grammar ClassModel

entry ClassModel:
    Localization*
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    Localization*
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    Localization*
    'attribute' name=ID dataType=[DataType:ID] Multiplicity?;

Reference:
    Localization*
    'reference' name=ID target=[Class:ID] Multiplicity? ('opposite' opposite=[Reference:ID])?;

fragment Multiplicity:
    '[' lower=Natural ('..' upper=UnlimitedNatural)? ']';

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    Localization*
    'string' name=ID ('{'
        ('length' length=Natural)?
        ('minLength' minLength=Natural)?
        ('maxLength' maxLength=Natural)?
        ('pattern' pattern=STRING)?
    '}')?;

NumericType:
    Localization*
    'numeric' name=ID ('{'
        ('size' size=Natural)?
        ('totalDigits' totalDigits=Natural)?
        ('fractionDigits' fractionDigits=Natural)?
        ('minInclusive' minInclusive=Numeric)?
        ('minExclusive' minExclusive=Numeric)?
        ('maxInclusive' maxInclusive=Numeric)?
        ('maxExclusive' maxExclusive=Numeric)?
        ('measurementUnit' pattern=STRING)?
    '}')?;

BooleanType:
    Localization*
    'boolean' name=ID ('{' '}')?;

TimeType:
    Localization*
    'time' name=ID ('{'
        ('instantUnits' instantUnits+=TimeUnit+)?
        ('instantFractionDigits' instantFractionDigits=Natural)?
        ('durationUnits' durationUnits+=TimeUnit+)?
        ('durationFractionDigits' durationFractionDigits=Natural)?
        ('recurrence' recurrence=TimeUnit)?
    '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    Localization*
    'uuid' name=ID ('{' '}')?;

EnumeratedType:
    Localization*
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    '}')?;

EnumeratedTypeLiteral:
    Localization*
    name=ID;

fragment Localization:
    '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

UnlimitedNatural returns number:
    INT | '*';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
`,da=`{
  Attribute: {
    lower: {
      normalize(node) {
        return node.lower !== undefined ? node.lower : 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.lower : node.lower !== 1 ? node.lower : undefined;
      },
    },
    upper: {
      normalize(node) {
        return node.upper !== undefined ? node.upper : node.lower !== undefined ? node.lower : 1;
      },
      denormalize(node) {
        return node.upper !== node.lower ? node.upper : undefined;
      },
    },
  },
  Reference: {
    lower: {
      normalize(node) {
        return node.lower !== undefined ? node.lower : 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.lower : node.lower !== 1 ? node.lower : undefined;
      },
    },
    upper: {
      normalize(node) {
        return node.upper !== undefined ? node.upper : node.lower !== undefined ? node.lower : 1;
      },
      denormalize(node) {
        return node.upper !== node.lower ? node.upper : undefined;
      },
    },
    opposite: {
      scopes(node) {
        return node.target.ref.properties.filter((prop) => prop.$type === 'Reference' && prop.target.ref === node.$container);
      },
    },
  },
  UnlimitedNatural: {
    value: {
      parse(value) {
        return value === '*' ? -1 : parseInt(value);
      },
      print(value) {
        return value === -1 ? '*' : value.toString();
      },
    },
  },
}
`,Zs=`@name('ru-RU', 'модель данных интернет-магазина')
classModel OnlineStore

@name('ru-RU', 'пользователь')
class User {

  @name('ru-RU', 'имя')
  attribute firstName String[0..1]

  @name('ru-RU', 'фамилия')
  attribute lastName String[0..1]

  @name('ru-RU', 'дата рождения')
  attribute birthDate Date[0..1]

  @name('ru-RU', 'электронная почта')
  attribute email String

}

@name('ru-RU', 'заказ')
class Order {

  @name('ru-RU', 'адресс доставки')
  attribute deliveryAddress String

  @name('ru-RU', 'пользователь')
  reference user User

  @name('ru-RU', 'элементы заказа')
  reference items OrderItem[0..*] opposite order

}

@name('ru-RU', 'элемент заказа')
class OrderItem {

  @name('ru-RU', 'заказ')
  reference order Order opposite items

  @name('ru-RU', 'продукт')
  reference product Product

  @name('ru-RU', 'количество')
  attribute quantity UnsignedInt

  @name('ru-RU', 'стоимость')
  attribute price Money

}

@name('ru-RU', 'продукт')
abstract class Product {

  @name('ru-RU', 'название')
  attribute name String

}

@name('ru-RU', 'книга')
class Book extends Product {

  @name('ru-RU', 'автор')
  attribute author String

}

@name('ru-RU', 'ручка')
class Pen extends Product {

  @name('ru-RU', 'цвет')
  attribute color Color

}

@name('ru-RU', 'строка')
string String {
}

@name('ru-RU', 'целое беззнаковое число')
numeric UnsignedInt {
  fractionDigits 0
  minInclusive 0
}

@name('ru-RU', 'дата')
time Date {
  instantUnits year month day
}

@name('ru-RU', 'денежный тип')
numeric Money {
  totalDigits 19
  fractionDigits 4
  minInclusive 0
}

@name('ru-RU', 'цвет')
enumerated Color {

  @name('ru-RU', 'красный')
  Red

  @name('ru-RU', 'зелёный')
  Green

  @name('ru-RU', 'синий')
  Blue

  @name('ru-RU', 'чёрный')
  Black

}
`,Is=o=>{const{style:n,className:r,wrapperConfig:l,onTextChanged:s,onLoad:c,onError:d}=o,p=me.useRef(new M0),m=me.useRef(null),h=me.useRef(s);return h.current=s,me.useEffect(()=>{(async()=>{if(m.current)try{l.htmlContainer=m.current,(p.current.isInitializing()||p.current.isStarting()||p.current.isDisposing())&&await Promise.all([p.current.getInitializingAwait(),p.current.getStartingAwait(),p.current.getDisposingAwait()]),await p.current.init(l),p.current.registerTextChangedCallback(g=>{h.current!==void 0&&h.current(g)}),await p.current.start(),c?.(p.current)}catch(g){if(d)d(g);else throw g}else throw new Error("No htmlContainer found! Aborting...")})()},[l]),me.useEffect(()=>{const g=async()=>{try{await p.current.dispose()}catch(T){console.error(`Unexpected error occurred during disposal of the language client: ${T}`)}};return()=>{(async()=>await g())()}},[]),w0.createElement("div",{ref:m,style:n,className:r})};let Os;const WT=()=>Os??(Os=O0(`{"$type":"Grammar","isDeclared":true,"name":"LangiumGrammar","rules":[{"$type":"ParserRule","entry":true,"name":"Grammar","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"isDeclared","operator":"?=","terminal":{"$type":"Keyword","value":"grammar"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"with"},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Assignment","feature":"imports","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"rules","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"interfaces","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Interface","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"interface"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"extends"},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"*"},{"$type":"Keyword","value":"}"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeAttribute","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"isOptional","operator":"?=","terminal":{"$type":"Keyword","value":"?"},"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"defaultValue","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ValueLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StringLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@65"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"BooleanLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"true","operator":"?=","terminal":{"$type":"Keyword","value":"true"}},{"$type":"Keyword","value":"false"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayLiteral","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeDefinition","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnionType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnionType"},"feature":"types","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ArrayType"},"feature":"elementType","operator":"="},{"$type":"Keyword","value":"["},{"$type":"Keyword","value":"]"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReferenceType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ReferenceType"}},{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"referenceType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SimpleType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Keyword","value":")"}]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"SimpleType"}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"typeRef","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"primitiveType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"stringType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PrimitiveType","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"string"},{"$type":"Keyword","value":"number"},{"$type":"Keyword","value":"boolean"},{"$type":"Keyword","value":"Date"},{"$type":"Keyword","value":"bigint"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Type","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"type"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractRule","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GrammarImport","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"import"},{"$type":"Assignment","feature":"path","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParserRule","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"entry","operator":"?=","terminal":{"$type":"Keyword","value":"entry"}},{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"wildcard","operator":"?=","terminal":{"$type":"Keyword","value":"*"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"returnType","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"dataType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]}]},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":false},"calledByName":false}]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"InferredType","parameters":[{"$type":"Parameter","name":"imperative"}],"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","guardCondition":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}},"elements":[{"$type":"Keyword","value":"infer"}]},{"$type":"Group","guardCondition":{"$type":"Negation","value":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}}},"elements":[{"$type":"Keyword","value":"infers"}]}]},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RuleNameAndParams","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Parameter","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Alternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ConditionalBranch","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"}},{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"guardCondition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}},{"$type":"Keyword","value":">"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnorderedGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnorderedGroup"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTokenWithCardinality","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@41"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Action","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Action"}},{"$type":"Keyword","value":"{"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":true},"calledByName":false}]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"."},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"+="}]}},{"$type":"Keyword","value":"current"}],"cardinality":"?"},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@47"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@39"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@40"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@48"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EndOfFile","definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"EndOfFile"}},{"$type":"Keyword","value":"EOF"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Keyword","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RuleCall","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NamedArgument","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"calledByName","operator":"?=","terminal":{"$type":"Keyword","value":"="}}],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Disjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Disjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Conjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Conjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Negation","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Negation"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Atom","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@37"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedCondition","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParameterReference","definition":{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedKeyword","inferredType":{"$type":"InferredType","name":"Keyword"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedRuleCall","inferredType":{"$type":"InferredType","name":"RuleCall"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Assignment","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Assignment"}},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}],"cardinality":"?"},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"+="},{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"?="}]}},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@43"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@45"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedAssignableElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@44"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReference","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CrossReference"}},{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"deprecatedSyntax","operator":"?=","terminal":{"$type":"Keyword","value":"|"}},{"$type":"Keyword","value":":"}]},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@46"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReferenceableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedGroup","inferredType":{"$type":"InferredType","name":"Group"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReturnType","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRule","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"hidden","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"},"cardinality":"?"},{"$type":"Keyword","value":"terminal"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@49"},"arguments":[]}}],"cardinality":"?"}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalAlternatives"},"feature":"elements","operator":"+="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalGroup"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalTokenElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@61"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@56"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@55"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@57"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedTerminalElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"lookahead","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?="},{"$type":"Keyword","value":"?!"},{"$type":"Keyword","value":"?<="},{"$type":"Keyword","value":"?<!"}]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRuleCall","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalRuleCall"}},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@50"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NegatedToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"NegatedToken"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UntilToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UntilToken"}},{"$type":"Keyword","value":"->"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RegexToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"RegexToken"}},{"$type":"Assignment","feature":"regex","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@66"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Wildcard","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Wildcard"}},{"$type":"Keyword","value":"."}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CharacterRange","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CharacterRange"}},{"$type":"Assignment","feature":"left","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":".."},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"FeatureName","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"current"},{"$type":"Keyword","value":"entry"},{"$type":"Keyword","value":"extends"},{"$type":"Keyword","value":"false"},{"$type":"Keyword","value":"fragment"},{"$type":"Keyword","value":"grammar"},{"$type":"Keyword","value":"hidden"},{"$type":"Keyword","value":"import"},{"$type":"Keyword","value":"interface"},{"$type":"Keyword","value":"returns"},{"$type":"Keyword","value":"terminal"},{"$type":"Keyword","value":"true"},{"$type":"Keyword","value":"type"},{"$type":"Keyword","value":"infer"},{"$type":"Keyword","value":"infers"},{"$type":"Keyword","value":"with"},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/\\\\^?[_a-zA-Z][\\\\w_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"(\\\\\\\\.|[^\\"\\\\\\\\])*\\"|'(\\\\\\\\.|[^'\\\\\\\\])*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/NaN|-?((\\\\d*\\\\.\\\\d+|\\\\d+)([Ee][+-]?\\\\d+)?|Infinity)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"RegexLiteral","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\/(?![*+?])(?:[^\\\\r\\\\n\\\\[/\\\\\\\\]|\\\\\\\\.|\\\\[(?:[^\\\\r\\\\n\\\\]\\\\\\\\]|\\\\\\\\.)*\\\\])+\\\\/[a-z]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/\\\\s+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\//"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SL_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\/[^\\\\n\\\\r]*/"},"fragment":false}],"types":[{"$type":"Type","name":"AbstractType","type":{"$type":"UnionType","types":[{"$type":"SimpleType","typeRef":{"$ref":"#/rules@1"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@17"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@18"}}]}}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"interfaces":[],"usedGrammars":[]}`)),JT={languageId:"langium",fileExtensions:[".langium"],caseInsensitive:!1,mode:"production"},eb={maxLookahead:3},tb={AstReflection:()=>new U0},nb={Grammar:()=>WT(),LanguageMetaData:()=>JT,parser:{ParserConfig:()=>eb}};var Oa={},Ua={},xn={},uy;function wh(){if(uy)return xn;uy=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.SemanticTokensBuilder=xn.SemanticTokensDiff=xn.SemanticTokensFeature=void 0;const o=Ye(),n=s=>class extends s{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(o.SemanticTokensRefreshRequest.type),on:c=>{const d=o.SemanticTokensRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onDelta:c=>{const d=o.SemanticTokensDeltaRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onRange:c=>{const d=o.SemanticTokensRangeRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))}}}};xn.SemanticTokensFeature=n;class r{constructor(c,d){this.originalSequence=c,this.modifiedSequence=d}computeDiff(){const c=this.originalSequence.length,d=this.modifiedSequence.length;let p=0;for(;p<d&&p<c&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<d&&p<c){let m=c-1,h=d-1;for(;m>=p&&h>=p&&this.originalSequence[m]===this.modifiedSequence[h];)m--,h--;(m<p||h<p)&&(m++,h++);const g=m-p+1,T=this.modifiedSequence.slice(p,h+1);return T.length===1&&T[0]===this.originalSequence[m]?[{start:p,deleteCount:g-1}]:[{start:p,deleteCount:g,data:T}]}else return p<d?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<c?[{start:p,deleteCount:c-p}]:[]}}xn.SemanticTokensDiff=r;class l{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(c,d,p,m,h){let g=c,T=d;this._dataLen>0&&(g-=this._prevLine,g===0&&(T-=this._prevChar)),this._data[this._dataLen++]=g,this._data[this._dataLen++]=T,this._data[this._dataLen++]=p,this._data[this._dataLen++]=m,this._data[this._dataLen++]=h,this._prevLine=c,this._prevChar=d}get id(){return this._id.toString()}previousResult(c){this.id===c&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new r(this._prevData,this._data).computeDiff()}:this.build()}}return xn.SemanticTokensBuilder=l,xn}var Vi={},cy;function ab(){if(cy)return Vi;cy=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.InlineCompletionFeature=void 0;const o=Ye(),n=r=>class extends r{get inlineCompletion(){return{on:l=>this.connection.onRequest(o.InlineCompletionRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return Vi.InlineCompletionFeature=n,Vi}var Zi={},fy;function xh(){if(fy)return Zi;fy=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.TextDocuments=void 0;const o=Ye();class n{constructor(l){this._configuration=l,this._syncedDocuments=new Map,this._onDidChangeContent=new o.Emitter,this._onDidOpen=new o.Emitter,this._onDidClose=new o.Emitter,this._onDidSave=new o.Emitter,this._onWillSave=new o.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(l){this._willSaveWaitUntil=l}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(l){return this._syncedDocuments.get(l)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(l){l.__textDocumentSync=o.TextDocumentSyncKind.Incremental;const s=[];return s.push(l.onDidOpenTextDocument(c=>{const d=c.textDocument,p=this._configuration.create(d.uri,d.languageId,d.version,d.text);this._syncedDocuments.set(d.uri,p);const m=Object.freeze({document:p});this._onDidOpen.fire(m),this._onDidChangeContent.fire(m)})),s.push(l.onDidChangeTextDocument(c=>{const d=c.textDocument,p=c.contentChanges;if(p.length===0)return;const{version:m}=d;if(m==null)throw new Error(`Received document change event for ${d.uri} without valid version identifier`);let h=this._syncedDocuments.get(d.uri);h!==void 0&&(h=this._configuration.update(h,p,m),this._syncedDocuments.set(d.uri,h),this._onDidChangeContent.fire(Object.freeze({document:h})))})),s.push(l.onDidCloseTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&(this._syncedDocuments.delete(c.textDocument.uri),this._onDidClose.fire(Object.freeze({document:d})))})),s.push(l.onWillSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onWillSave.fire(Object.freeze({document:d,reason:c.reason}))})),s.push(l.onWillSaveTextDocumentWaitUntil((c,d)=>{let p=this._syncedDocuments.get(c.textDocument.uri);return p!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:c.reason}),d):[]})),s.push(l.onDidSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onDidSave.fire(Object.freeze({document:d}))})),o.Disposable.create(()=>{s.forEach(c=>c.dispose())})}}return Zi.TextDocuments=n,Zi}var Ha={},dy;function kh(){if(dy)return Ha;dy=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.NotebookDocuments=Ha.NotebookSyncFeature=void 0;const o=Ye(),n=xh(),r=c=>class extends c{get synchronization(){return{onDidOpenNotebookDocument:d=>this.connection.onNotification(o.DidOpenNotebookDocumentNotification.type,p=>{d(p)}),onDidChangeNotebookDocument:d=>this.connection.onNotification(o.DidChangeNotebookDocumentNotification.type,p=>{d(p)}),onDidSaveNotebookDocument:d=>this.connection.onNotification(o.DidSaveNotebookDocumentNotification.type,p=>{d(p)}),onDidCloseNotebookDocument:d=>this.connection.onNotification(o.DidCloseNotebookDocumentNotification.type,p=>{d(p)})}}};Ha.NotebookSyncFeature=r;class l{onDidOpenTextDocument(d){return this.openHandler=d,o.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(d){this.openHandler&&this.openHandler(d)}onDidChangeTextDocument(d){return this.changeHandler=d,o.Disposable.create(()=>{this.changeHandler=d})}changeTextDocument(d){this.changeHandler&&this.changeHandler(d)}onDidCloseTextDocument(d){return this.closeHandler=d,o.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(d){this.closeHandler&&this.closeHandler(d)}onWillSaveTextDocument(){return l.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return l.NULL_DISPOSE}onDidSaveTextDocument(){return l.NULL_DISPOSE}}l.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class s{constructor(d){d instanceof n.TextDocuments?this._cellTextDocuments=d:this._cellTextDocuments=new n.TextDocuments(d),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new o.Emitter,this._onDidChange=new o.Emitter,this._onDidSave=new o.Emitter,this._onDidClose=new o.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(d){return this._cellTextDocuments.get(d.document)}getNotebookDocument(d){return this.notebookDocuments.get(d)}getNotebookCell(d){const p=this.notebookCellMap.get(d);return p&&p[0]}findNotebookDocumentForCell(d){const p=typeof d=="string"?d:d.document,m=this.notebookCellMap.get(p);return m&&m[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(d){const p=new l,m=[];return m.push(this.cellTextDocuments.listen(p)),m.push(d.notebooks.synchronization.onDidOpenNotebookDocument(h=>{this.notebookDocuments.set(h.notebookDocument.uri,h.notebookDocument);for(const g of h.cellTextDocuments)p.openTextDocument({textDocument:g});this.updateCellMap(h.notebookDocument),this._onDidOpen.fire(h.notebookDocument)})),m.push(d.notebooks.synchronization.onDidChangeNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);if(g===void 0)return;g.version=h.notebookDocument.version;const T=g.metadata;let R=!1;const D=h.change;D.metadata!==void 0&&(R=!0,g.metadata=D.metadata);const H=[],B=[],q=[],P=[];if(D.cells!==void 0){const ie=D.cells;if(ie.structure!==void 0){const ye=ie.structure.array;if(g.cells.splice(ye.start,ye.deleteCount,...ye.cells!==void 0?ye.cells:[]),ie.structure.didOpen!==void 0)for(const fe of ie.structure.didOpen)p.openTextDocument({textDocument:fe}),H.push(fe.uri);if(ie.structure.didClose)for(const fe of ie.structure.didClose)p.closeTextDocument({textDocument:fe}),B.push(fe.uri)}if(ie.data!==void 0){const ye=new Map(ie.data.map(fe=>[fe.document,fe]));for(let fe=0;fe<=g.cells.length;fe++){const Oe=ye.get(g.cells[fe].document);if(Oe!==void 0){const xe=g.cells.splice(fe,1,Oe);if(q.push({old:xe[0],new:Oe}),ye.delete(Oe.document),ye.size===0)break}}}if(ie.textContent!==void 0)for(const ye of ie.textContent)p.changeTextDocument({textDocument:ye.document,contentChanges:ye.changes}),P.push(ye.document.uri)}this.updateCellMap(g);const j={notebookDocument:g};R&&(j.metadata={old:T,new:g.metadata});const F=[];for(const ie of H)F.push(this.getNotebookCell(ie));const W=[];for(const ie of B)W.push(this.getNotebookCell(ie));const oe=[];for(const ie of P)oe.push(this.getNotebookCell(ie));(F.length>0||W.length>0||q.length>0||oe.length>0)&&(j.cells={added:F,removed:W,changed:{data:q,textContent:oe}}),(j.metadata!==void 0||j.cells!==void 0)&&this._onDidChange.fire(j)})),m.push(d.notebooks.synchronization.onDidSaveNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);g!==void 0&&this._onDidSave.fire(g)})),m.push(d.notebooks.synchronization.onDidCloseNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);if(g!==void 0){this._onDidClose.fire(g);for(const T of h.cellTextDocuments)p.closeTextDocument({textDocument:T});this.notebookDocuments.delete(h.notebookDocument.uri);for(const T of g.cells)this.notebookCellMap.delete(T.document)}})),o.Disposable.create(()=>{m.forEach(h=>h.dispose())})}updateCellMap(d){for(const p of d.cells)this.notebookCellMap.set(p.document,[p,d])}}return Ha.NotebookDocuments=s,Ha}var ve={},Ke={},py;function Eh(){if(py)return Ke;py=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.thenable=Ke.typedArray=Ke.stringArray=Ke.array=Ke.func=Ke.error=Ke.number=Ke.string=Ke.boolean=void 0;function o(h){return h===!0||h===!1}Ke.boolean=o;function n(h){return typeof h=="string"||h instanceof String}Ke.string=n;function r(h){return typeof h=="number"||h instanceof Number}Ke.number=r;function l(h){return h instanceof Error}Ke.error=l;function s(h){return typeof h=="function"}Ke.func=s;function c(h){return Array.isArray(h)}Ke.array=c;function d(h){return c(h)&&h.every(g=>n(g))}Ke.stringArray=d;function p(h,g){return Array.isArray(h)&&h.every(g)}Ke.typedArray=p;function m(h){return h&&s(h.then)}return Ke.thenable=m,Ke}var Et={},my;function Mh(){if(my)return Et;my=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.generateUuid=Et.parse=Et.isUUID=Et.v4=Et.empty=void 0;class o{constructor(m){this._value=m}asHex(){return this._value}equals(m){return this.asHex()===m.asHex()}}class n extends o{static _oneOf(m){return m[Math.floor(m.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}}n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],Et.empty=new o("00000000-0000-0000-0000-000000000000");function r(){return new n}Et.v4=r;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(p){return l.test(p)}Et.isUUID=s;function c(p){if(!s(p))throw new Error("invalid uuid");return new o(p)}Et.parse=c;function d(){return r().asHex()}return Et.generateUuid=d,Et}var kn={},yy;function rb(){if(yy)return kn;yy=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.attachPartialResult=kn.ProgressFeature=kn.attachWorkDone=void 0;const o=Ye(),n=Mh();class r{constructor(R,D){this._connection=R,this._token=D,r.Instances.set(this._token,this)}begin(R,D,H,B){let q={kind:"begin",title:R,percentage:D,message:H,cancellable:B};this._connection.sendProgress(o.WorkDoneProgress.type,this._token,q)}report(R,D){let H={kind:"report"};typeof R=="number"?(H.percentage=R,D!==void 0&&(H.message=D)):H.message=R,this._connection.sendProgress(o.WorkDoneProgress.type,this._token,H)}done(){r.Instances.delete(this._token),this._connection.sendProgress(o.WorkDoneProgress.type,this._token,{kind:"end"})}}r.Instances=new Map;class l extends r{constructor(R,D){super(R,D),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class s{constructor(){}begin(){}report(){}done(){}}class c extends s{constructor(){super(),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function d(T,R){if(R===void 0||R.workDoneToken===void 0)return new s;const D=R.workDoneToken;return delete R.workDoneToken,new r(T,D)}kn.attachWorkDone=d;const p=T=>class extends T{constructor(){super(),this._progressSupported=!1}initialize(R){super.initialize(R),R?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(o.WorkDoneProgressCancelNotification.type,D=>{let H=r.Instances.get(D.token);(H instanceof l||H instanceof c)&&H.cancel()}))}attachWorkDoneProgress(R){return R===void 0?new s:new r(this.connection,R)}createWorkDoneProgress(){if(this._progressSupported){const R=(0,n.generateUuid)();return this.connection.sendRequest(o.WorkDoneProgressCreateRequest.type,{token:R}).then(()=>new l(this.connection,R))}else return Promise.resolve(new c)}};kn.ProgressFeature=p;var m;(function(T){T.type=new o.ProgressType})(m||(m={}));class h{constructor(R,D){this._connection=R,this._token=D}report(R){this._connection.sendProgress(m.type,this._token,R)}}function g(T,R){if(R===void 0||R.partialResultToken===void 0)return;const D=R.partialResultToken;return delete R.partialResultToken,new h(T,D)}return kn.attachPartialResult=g,kn}var Ii={},hy;function ib(){if(hy)return Ii;hy=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.ConfigurationFeature=void 0;const o=Ye(),n=Eh(),r=l=>class extends l{getConfiguration(s){return s?n.string(s)?this._getConfiguration({section:s}):this._getConfiguration(s):this._getConfiguration({})}_getConfiguration(s){let c={items:Array.isArray(s)?s:[s]};return this.connection.sendRequest(o.ConfigurationRequest.type,c).then(d=>Array.isArray(d)?Array.isArray(s)?d:d[0]:Array.isArray(s)?[]:null)}};return Ii.ConfigurationFeature=r,Ii}var Wi={},gy;function lb(){if(gy)return Wi;gy=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.WorkspaceFoldersFeature=void 0;const o=Ye(),n=r=>class extends r{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(l){super.initialize(l);let s=l.workspace;s&&s.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new o.Emitter,this.connection.onNotification(o.DidChangeWorkspaceFoldersNotification.type,c=>{this._onDidChangeWorkspaceFolders.fire(c.event)}))}fillServerCapabilities(l){super.fillServerCapabilities(l);const s=l.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=s===!0||typeof s=="string"}getWorkspaceFolders(){return this.connection.sendRequest(o.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(o.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Wi.WorkspaceFoldersFeature=n,Wi}var Ji={},vy;function sb(){if(vy)return Ji;vy=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.CallHierarchyFeature=void 0;const o=Ye(),n=r=>class extends r{get callHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.CallHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onIncomingCalls:l=>{const s=o.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onOutgoingCalls:l=>{const s=o.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return Ji.CallHierarchyFeature=n,Ji}var el={},Ty;function ob(){if(Ty)return el;Ty=1,Object.defineProperty(el,"__esModule",{value:!0}),el.ShowDocumentFeature=void 0;const o=Ye(),n=r=>class extends r{showDocument(l){return this.connection.sendRequest(o.ShowDocumentRequest.type,l)}};return el.ShowDocumentFeature=n,el}var tl={},by;function ub(){if(by)return tl;by=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.FileOperationsFeature=void 0;const o=Ye(),n=r=>class extends r{onDidCreateFiles(l){return this.connection.onNotification(o.DidCreateFilesNotification.type,s=>{l(s)})}onDidRenameFiles(l){return this.connection.onNotification(o.DidRenameFilesNotification.type,s=>{l(s)})}onDidDeleteFiles(l){return this.connection.onNotification(o.DidDeleteFilesNotification.type,s=>{l(s)})}onWillCreateFiles(l){return this.connection.onRequest(o.WillCreateFilesRequest.type,(s,c)=>l(s,c))}onWillRenameFiles(l){return this.connection.onRequest(o.WillRenameFilesRequest.type,(s,c)=>l(s,c))}onWillDeleteFiles(l){return this.connection.onRequest(o.WillDeleteFilesRequest.type,(s,c)=>l(s,c))}};return tl.FileOperationsFeature=n,tl}var nl={},Ry;function cb(){if(Ry)return nl;Ry=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.LinkedEditingRangeFeature=void 0;const o=Ye(),n=r=>class extends r{onLinkedEditingRange(l){return this.connection.onRequest(o.LinkedEditingRangeRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0))}};return nl.LinkedEditingRangeFeature=n,nl}var al={},Sy;function fb(){if(Sy)return al;Sy=1,Object.defineProperty(al,"__esModule",{value:!0}),al.TypeHierarchyFeature=void 0;const o=Ye(),n=r=>class extends r{get typeHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.TypeHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onSupertypes:l=>{const s=o.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onSubtypes:l=>{const s=o.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return al.TypeHierarchyFeature=n,al}var rl={},Dy;function db(){if(Dy)return rl;Dy=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.InlineValueFeature=void 0;const o=Ye(),n=r=>class extends r{get inlineValue(){return{refresh:()=>this.connection.sendRequest(o.InlineValueRefreshRequest.type),on:l=>this.connection.onRequest(o.InlineValueRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return rl.InlineValueFeature=n,rl}var il={},Cy;function pb(){if(Cy)return il;Cy=1,Object.defineProperty(il,"__esModule",{value:!0}),il.FoldingRangeFeature=void 0;const o=Ye(),n=r=>class extends r{get foldingRange(){return{refresh:()=>this.connection.sendRequest(o.FoldingRangeRefreshRequest.type),on:l=>{const s=o.FoldingRangeRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return il.FoldingRangeFeature=n,il}var ll={},Ay;function mb(){if(Ay)return ll;Ay=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.InlayHintFeature=void 0;const o=Ye(),n=r=>class extends r{get inlayHint(){return{refresh:()=>this.connection.sendRequest(o.InlayHintRefreshRequest.type),on:l=>this.connection.onRequest(o.InlayHintRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s))),resolve:l=>this.connection.onRequest(o.InlayHintResolveRequest.type,(s,c)=>l(s,c))}}};return ll.InlayHintFeature=n,ll}var sl={},Ny;function yb(){if(Ny)return sl;Ny=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.DiagnosticFeature=void 0;const o=Ye(),n=r=>class extends r{get diagnostics(){return{refresh:()=>this.connection.sendRequest(o.DiagnosticRefreshRequest.type),on:l=>this.connection.onRequest(o.DocumentDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.DocumentDiagnosticRequest.partialResult,s))),onWorkspace:l=>this.connection.onRequest(o.WorkspaceDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.WorkspaceDiagnosticRequest.partialResult,s)))}}};return sl.DiagnosticFeature=n,sl}var ol={},$y;function hb(){if($y)return ol;$y=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.MonikerFeature=void 0;const o=Ye(),n=r=>class extends r{get moniker(){return{on:l=>{const s=o.MonikerRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return ol.MonikerFeature=n,ol}var _y;function gb(){if(_y)return ve;_y=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.createConnection=ve.combineFeatures=ve.combineNotebooksFeatures=ve.combineLanguagesFeatures=ve.combineWorkspaceFeatures=ve.combineWindowFeatures=ve.combineClientFeatures=ve.combineTracerFeatures=ve.combineTelemetryFeatures=ve.combineConsoleFeatures=ve._NotebooksImpl=ve._LanguagesImpl=ve.BulkUnregistration=ve.BulkRegistration=ve.ErrorMessageTracker=void 0;const o=Ye(),n=Eh(),r=Mh(),l=rb(),s=ib(),c=lb(),d=sb(),p=wh(),m=ob(),h=ub(),g=cb(),T=fb(),R=db(),D=pb(),H=mb(),B=yb(),q=kh(),P=hb();function j(ae){if(ae!==null)return ae}class F{constructor(){this._messages=Object.create(null)}add(_){let G=this._messages[_];G||(G=0),G++,this._messages[_]=G}sendErrors(_){Object.keys(this._messages).forEach(G=>{_.window.showErrorMessage(G)})}}ve.ErrorMessageTracker=F;class W{constructor(){}rawAttach(_){this._rawConnection=_}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(_){}initialize(_){}error(_){this.send(o.MessageType.Error,_)}warn(_){this.send(o.MessageType.Warning,_)}info(_){this.send(o.MessageType.Info,_)}log(_){this.send(o.MessageType.Log,_)}debug(_){this.send(o.MessageType.Debug,_)}send(_,G){this._rawConnection&&this._rawConnection.sendNotification(o.LogMessageNotification.type,{type:_,message:G}).catch(()=>{(0,o.RAL)().console.error("Sending log message failed")})}}class oe{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}showErrorMessage(_,...G){let le={type:o.MessageType.Error,message:_,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showWarningMessage(_,...G){let le={type:o.MessageType.Warning,message:_,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showInformationMessage(_,...G){let le={type:o.MessageType.Info,message:_,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}}const ie=(0,m.ShowDocumentFeature)((0,l.ProgressFeature)(oe));var ye;(function(ae){function _(){return new fe}ae.create=_})(ye||(ve.BulkRegistration=ye={}));class fe{constructor(){this._registrations=[],this._registered=new Set}add(_,G){const le=n.string(_)?_:_.method;if(this._registered.has(le))throw new Error(`${le} is already added to this registration`);const U=r.generateUuid();this._registrations.push({id:U,method:le,registerOptions:G||{}}),this._registered.add(le)}asRegistrationParams(){return{registrations:this._registrations}}}var Oe;(function(ae){function _(){return new xe(void 0,[])}ae.create=_})(Oe||(ve.BulkUnregistration=Oe={}));class xe{constructor(_,G){this._connection=_,this._unregistrations=new Map,G.forEach(le=>{this._unregistrations.set(le.method,le)})}get isAttached(){return!!this._connection}attach(_){this._connection=_}add(_){this._unregistrations.set(_.method,_)}dispose(){let _=[];for(let le of this._unregistrations.values())_.push(le);let G={unregisterations:_};this._connection.sendRequest(o.UnregistrationRequest.type,G).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(_){const G=n.string(_)?_:_.method,le=this._unregistrations.get(G);if(!le)return!1;let U={unregisterations:[le]};return this._connection.sendRequest(o.UnregistrationRequest.type,U).then(()=>{this._unregistrations.delete(G)},st=>{this._connection.console.info(`Un-registering request handler for ${le.id} failed.`)}),!0}}class yt{attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}register(_,G,le){return _ instanceof fe?this.registerMany(_):_ instanceof xe?this.registerSingle1(_,G,le):this.registerSingle2(_,G)}registerSingle1(_,G,le){const U=n.string(G)?G:G.method,st=r.generateUuid();let Vt={registrations:[{id:st,method:U,registerOptions:le||{}}]};return _.isAttached||_.attach(this.connection),this.connection.sendRequest(o.RegistrationRequest.type,Vt).then(ot=>(_.add({id:st,method:U}),_),ot=>(this.connection.console.info(`Registering request handler for ${U} failed.`),Promise.reject(ot)))}registerSingle2(_,G){const le=n.string(_)?_:_.method,U=r.generateUuid();let st={registrations:[{id:U,method:le,registerOptions:G||{}}]};return this.connection.sendRequest(o.RegistrationRequest.type,st).then(Vt=>o.Disposable.create(()=>{this.unregisterSingle(U,le).catch(()=>{this.connection.console.info(`Un-registering capability with id ${U} failed.`)})}),Vt=>(this.connection.console.info(`Registering request handler for ${le} failed.`),Promise.reject(Vt)))}unregisterSingle(_,G){let le={unregisterations:[{id:_,method:G}]};return this.connection.sendRequest(o.UnregistrationRequest.type,le).catch(()=>{this.connection.console.info(`Un-registering request handler for ${_} failed.`)})}registerMany(_){let G=_.asRegistrationParams();return this.connection.sendRequest(o.RegistrationRequest.type,G).then(()=>new xe(this._connection,G.registrations.map(le=>({id:le.id,method:le.method}))),le=>(this.connection.console.info("Bulk registration failed."),Promise.reject(le)))}}class Le{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}applyEdit(_){function G(U){return U&&!!U.edit}let le=G(_)?_:{edit:_};return this.connection.sendRequest(o.ApplyWorkspaceEditRequest.type,le)}}const ht=(0,h.FileOperationsFeature)((0,c.WorkspaceFoldersFeature)((0,s.ConfigurationFeature)(Le)));class ln{constructor(){this._trace=o.Trace.Off}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}set trace(_){this._trace=_}log(_,G){this._trace!==o.Trace.Off&&this.connection.sendNotification(o.LogTraceNotification.type,{message:_,verbose:this._trace===o.Trace.Verbose?G:void 0}).catch(()=>{})}}class gt{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}logEvent(_){this.connection.sendNotification(o.TelemetryEventNotification.type,_).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class M{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}attachWorkDoneProgress(_){return(0,l.attachWorkDone)(this.connection,_)}attachPartialResultProgress(_,G){return(0,l.attachPartialResult)(this.connection,G)}}ve._LanguagesImpl=M;const Q=(0,D.FoldingRangeFeature)((0,P.MonikerFeature)((0,B.DiagnosticFeature)((0,H.InlayHintFeature)((0,R.InlineValueFeature)((0,T.TypeHierarchyFeature)((0,g.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,d.CallHierarchyFeature)(M)))))))));class ee{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}attachWorkDoneProgress(_){return(0,l.attachWorkDone)(this.connection,_)}attachPartialResultProgress(_,G){return(0,l.attachPartialResult)(this.connection,G)}}ve._NotebooksImpl=ee;const Y=(0,q.NotebookSyncFeature)(ee);function z(ae,_){return function(G){return _(ae(G))}}ve.combineConsoleFeatures=z;function he(ae,_){return function(G){return _(ae(G))}}ve.combineTelemetryFeatures=he;function ke(ae,_){return function(G){return _(ae(G))}}ve.combineTracerFeatures=ke;function be(ae,_){return function(G){return _(ae(G))}}ve.combineClientFeatures=be;function qe(ae,_){return function(G){return _(ae(G))}}ve.combineWindowFeatures=qe;function Ct(ae,_){return function(G){return _(ae(G))}}ve.combineWorkspaceFeatures=Ct;function Xt(ae,_){return function(G){return _(ae(G))}}ve.combineLanguagesFeatures=Xt;function ya(ae,_){return function(G){return _(ae(G))}}ve.combineNotebooksFeatures=ya;function Qa(ae,_){function G(U,st,Vt){return U&&st?Vt(U,st):U||st}return{__brand:"features",console:G(ae.console,_.console,z),tracer:G(ae.tracer,_.tracer,ke),telemetry:G(ae.telemetry,_.telemetry,he),client:G(ae.client,_.client,be),window:G(ae.window,_.window,qe),workspace:G(ae.workspace,_.workspace,Ct),languages:G(ae.languages,_.languages,Xt),notebooks:G(ae.notebooks,_.notebooks,ya)}}ve.combineFeatures=Qa;function qn(ae,_,G){const le=G&&G.console?new(G.console(W)):new W,U=ae(le);le.rawAttach(U);const st=G&&G.tracer?new(G.tracer(ln)):new ln,Vt=G&&G.telemetry?new(G.telemetry(gt)):new gt,ot=G&&G.client?new(G.client(yt)):new yt,bl=G&&G.window?new(G.window(ie)):new ie,Xr=G&&G.workspace?new(G.workspace(ht)):new ht,Vr=G&&G.languages?new(G.languages(Q)):new Q,ha=G&&G.notebooks?new(G.notebooks(Y)):new Y,Xa=[le,st,Vt,ot,bl,Xr,Vr,ha];function Rl(E){return E instanceof Promise?E:n.thenable(E)?new Promise((x,X)=>{E.then(Zt=>x(Zt),Zt=>X(Zt))}):Promise.resolve(E)}let Va,Za,sn,Be={listen:()=>U.listen(),sendRequest:(E,...x)=>U.sendRequest(n.string(E)?E:E.method,...x),onRequest:(E,x)=>U.onRequest(E,x),sendNotification:(E,x)=>{const X=n.string(E)?E:E.method;return U.sendNotification(X,x)},onNotification:(E,x)=>U.onNotification(E,x),onProgress:U.onProgress,sendProgress:U.sendProgress,onInitialize:E=>(Za=E,{dispose:()=>{Za=void 0}}),onInitialized:E=>U.onNotification(o.InitializedNotification.type,E),onShutdown:E=>(Va=E,{dispose:()=>{Va=void 0}}),onExit:E=>(sn=E,{dispose:()=>{sn=void 0}}),get console(){return le},get telemetry(){return Vt},get tracer(){return st},get client(){return ot},get window(){return bl},get workspace(){return Xr},get languages(){return Vr},get notebooks(){return ha},onDidChangeConfiguration:E=>U.onNotification(o.DidChangeConfigurationNotification.type,E),onDidChangeWatchedFiles:E=>U.onNotification(o.DidChangeWatchedFilesNotification.type,E),__textDocumentSync:void 0,onDidOpenTextDocument:E=>U.onNotification(o.DidOpenTextDocumentNotification.type,E),onDidChangeTextDocument:E=>U.onNotification(o.DidChangeTextDocumentNotification.type,E),onDidCloseTextDocument:E=>U.onNotification(o.DidCloseTextDocumentNotification.type,E),onWillSaveTextDocument:E=>U.onNotification(o.WillSaveTextDocumentNotification.type,E),onWillSaveTextDocumentWaitUntil:E=>U.onRequest(o.WillSaveTextDocumentWaitUntilRequest.type,E),onDidSaveTextDocument:E=>U.onNotification(o.DidSaveTextDocumentNotification.type,E),sendDiagnostics:E=>U.sendNotification(o.PublishDiagnosticsNotification.type,E),onHover:E=>U.onRequest(o.HoverRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),onCompletion:E=>U.onRequest(o.CompletionRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onCompletionResolve:E=>U.onRequest(o.CompletionResolveRequest.type,E),onSignatureHelp:E=>U.onRequest(o.SignatureHelpRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),onDeclaration:E=>U.onRequest(o.DeclarationRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onDefinition:E=>U.onRequest(o.DefinitionRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onTypeDefinition:E=>U.onRequest(o.TypeDefinitionRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onImplementation:E=>U.onRequest(o.ImplementationRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onReferences:E=>U.onRequest(o.ReferencesRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onDocumentHighlight:E=>U.onRequest(o.DocumentHighlightRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onDocumentSymbol:E=>U.onRequest(o.DocumentSymbolRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onWorkspaceSymbol:E=>U.onRequest(o.WorkspaceSymbolRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onWorkspaceSymbolResolve:E=>U.onRequest(o.WorkspaceSymbolResolveRequest.type,E),onCodeAction:E=>U.onRequest(o.CodeActionRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onCodeActionResolve:E=>U.onRequest(o.CodeActionResolveRequest.type,(x,X)=>E(x,X)),onCodeLens:E=>U.onRequest(o.CodeLensRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onCodeLensResolve:E=>U.onRequest(o.CodeLensResolveRequest.type,(x,X)=>E(x,X)),onDocumentFormatting:E=>U.onRequest(o.DocumentFormattingRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),onDocumentRangeFormatting:E=>U.onRequest(o.DocumentRangeFormattingRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),onDocumentOnTypeFormatting:E=>U.onRequest(o.DocumentOnTypeFormattingRequest.type,(x,X)=>E(x,X)),onRenameRequest:E=>U.onRequest(o.RenameRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),onPrepareRename:E=>U.onRequest(o.PrepareRenameRequest.type,(x,X)=>E(x,X)),onDocumentLinks:E=>U.onRequest(o.DocumentLinkRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onDocumentLinkResolve:E=>U.onRequest(o.DocumentLinkResolveRequest.type,(x,X)=>E(x,X)),onDocumentColor:E=>U.onRequest(o.DocumentColorRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onColorPresentation:E=>U.onRequest(o.ColorPresentationRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onFoldingRanges:E=>U.onRequest(o.FoldingRangeRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onSelectionRanges:E=>U.onRequest(o.SelectionRangeRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),(0,l.attachPartialResult)(U,x))),onExecuteCommand:E=>U.onRequest(o.ExecuteCommandRequest.type,(x,X)=>E(x,X,(0,l.attachWorkDone)(U,x),void 0)),dispose:()=>U.dispose()};for(let E of Xa)E.attach(Be);return U.onRequest(o.InitializeRequest.type,E=>{_.initialize(E),n.string(E.trace)&&(st.trace=o.Trace.fromString(E.trace));for(let x of Xa)x.initialize(E.capabilities);if(Za){let x=Za(E,new o.CancellationTokenSource().token,(0,l.attachWorkDone)(U,E),void 0);return Rl(x).then(X=>{if(X instanceof o.ResponseError)return X;let Zt=X;Zt||(Zt={capabilities:{}});let Ot=Zt.capabilities;Ot||(Ot={},Zt.capabilities=Ot),Ot.textDocumentSync===void 0||Ot.textDocumentSync===null?Ot.textDocumentSync=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None:!n.number(Ot.textDocumentSync)&&!n.number(Ot.textDocumentSync.change)&&(Ot.textDocumentSync.change=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None);for(let Ia of Xa)Ia.fillServerCapabilities(Ot);return Zt})}else{let x={capabilities:{textDocumentSync:o.TextDocumentSyncKind.None}};for(let X of Xa)X.fillServerCapabilities(x.capabilities);return x}}),U.onRequest(o.ShutdownRequest.type,()=>{if(_.shutdownReceived=!0,Va)return Va(new o.CancellationTokenSource().token)}),U.onNotification(o.ExitNotification.type,()=>{try{sn&&sn()}finally{_.shutdownReceived?_.exit(0):_.exit(1)}}),U.onNotification(o.SetTraceNotification.type,E=>{st.trace=o.Trace.fromString(E.value)}),Be}return ve.createConnection=qn,ve}var wy;function xy(){return wy||(wy=1,function(o){var n=Ua&&Ua.__createBinding||(Object.create?function(m,h,g,T){T===void 0&&(T=g);var R=Object.getOwnPropertyDescriptor(h,g);(!R||("get"in R?!h.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(m,T,R)}:function(m,h,g,T){T===void 0&&(T=g),m[T]=h[g]}),r=Ua&&Ua.__exportStar||function(m,h){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&n(h,m,g)};Object.defineProperty(o,"__esModule",{value:!0}),o.ProposedFeatures=o.NotebookDocuments=o.TextDocuments=o.SemanticTokensBuilder=void 0;const l=wh();Object.defineProperty(o,"SemanticTokensBuilder",{enumerable:!0,get:function(){return l.SemanticTokensBuilder}});const s=ab();r(Ye(),o);const c=xh();Object.defineProperty(o,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const d=kh();Object.defineProperty(o,"NotebookDocuments",{enumerable:!0,get:function(){return d.NotebookDocuments}}),r(gb(),o);var p;(function(m){m.all={__brand:"features",languages:s.InlineCompletionFeature}})(p||(o.ProposedFeatures=p={}))}(Ua)),Ua}var ky;function zh(){return ky||(ky=1,function(o){var n=Oa&&Oa.__createBinding||(Object.create?function(p,m,h,g){g===void 0&&(g=h);var T=Object.getOwnPropertyDescriptor(m,h);(!T||("get"in T?!m.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return m[h]}}),Object.defineProperty(p,g,T)}:function(p,m,h,g){g===void 0&&(g=h),p[g]=m[h]}),r=Oa&&Oa.__exportStar||function(p,m){for(var h in p)h!=="default"&&!Object.prototype.hasOwnProperty.call(m,h)&&n(m,p,h)};Object.defineProperty(o,"__esModule",{value:!0}),o.createConnection=void 0;const l=xy();r(E0(),o),r(xy(),o);let s=!1;const c={initialize:p=>{},get shutdownReceived(){return s},set shutdownReceived(p){s=p},exit:p=>{}};function d(p,m,h,g){let T,R,D,H;p!==void 0&&p.__brand==="features"&&(T=p,p=m,m=h,h=g),l.ConnectionStrategy.is(p)||l.ConnectionOptions.is(p)?H=p:(R=p,D=m,H=h);const B=q=>(0,l.createProtocolConnection)(R,D,q,H);return(0,l.createConnection)(B,c,T)}o.createConnection=d}(Oa)),Oa}var K=zh();class vb{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareCallHierarchy(n,r){const l=n.parseResult.value,s=zt(l.$cstNode,n.textDocument.offsetAt(r.position),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findDeclarationNode(s);if(c)return this.getCallHierarchyItems(c.astNode,n)}getCallHierarchyItems(n,r){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Method,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:r.uri.toString()},this.getCallHierarchyItem(n))]}getCallHierarchyItem(n){}async incomingCalls(n){const r=await this.documents.getOrCreateDocument(fa.parse(n.item.uri)),l=r.parseResult.value,s=zt(l.$cstNode,r.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findReferences(s.astNode,{includeDeclaration:!1});return this.getIncomingCalls(s.astNode,c)}async outgoingCalls(n){const r=await this.documents.getOrCreateDocument(fa.parse(n.item.uri)),l=r.parseResult.value,s=zt(l.$cstNode,r.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(s)return this.getOutgoingCalls(s.astNode)}}class Tb extends vb{getIncomingCalls(n,r){if(!se(n))return;const l=new Map;if(r.forEach(s=>{const c=this.documents.getDocument(s.sourceUri);if(!c)return;const d=c.parseResult.value;if(!d.$cstNode)return;const p=fl(d.$cstNode,s.segment.offset);if(!p)return;const m=Ze(p.astNode,se);if(!m||!m.$cstNode)return;const h=this.nameProvider.getNameNode(m);if(!h)return;const g=s.sourceUri.toString(),T=g+"@"+h.text;l.has(T)?l.set(T,{parserRule:m.$cstNode,nameNode:h,targetNodes:[...l.get(T).targetNodes,p],docUri:g}):l.set(T,{parserRule:m.$cstNode,nameNode:h,targetNodes:[p],docUri:g})}),l.size!==0)return Array.from(l.values()).map(s=>({from:{kind:K.SymbolKind.Method,name:s.nameNode.text,range:s.parserRule.range,selectionRange:s.nameNode.range,uri:s.docUri},fromRanges:s.targetNodes.map(c=>c.range)}))}getOutgoingCalls(n){if(!se(n))return;const r=zn(n).filter(lt).toArray(),l=new Map;if(r.forEach(s=>{var c;const d=s.$cstNode;if(!d)return;const p=(c=s.rule.ref)===null||c===void 0?void 0:c.$cstNode;if(!p)return;const m=this.nameProvider.getNameNode(p.astNode);if(!m)return;const h=nt(p.astNode).uri.toString(),g=h+"@"+m.text;l.has(g)?l.set(g,{refCstNode:p,to:m,from:[...l.get(g).from,d.range],docUri:h}):l.set(g,{refCstNode:p,to:m,from:[d.range],docUri:h})}),l.size!==0)return Array.from(l.values()).map(s=>({to:{kind:K.SymbolKind.Method,name:s.to.text,range:s.refCstNode.range,selectionRange:s.to.range,uri:s.docUri},fromRanges:s.from}))}}class bb{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareTypeHierarchy(n,r,l){const s=n.parseResult.value,c=zt(s.$cstNode,n.textDocument.offsetAt(r.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclarationNode(c);if(d)return this.getTypeHierarchyItems(d.astNode,n)}getTypeHierarchyItems(n,r){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Class,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:r.uri.toString()},this.getTypeHierarchyItem(n))]}getTypeHierarchyItem(n){}async supertypes(n,r){const l=await this.documents.getOrCreateDocument(fa.parse(n.item.uri)),s=l.parseResult.value,c=zt(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSupertypes(c.astNode)}async subtypes(n,r){const l=await this.documents.getOrCreateDocument(fa.parse(n.item.uri)),s=l.parseResult.value,c=zt(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSubtypes(c.astNode)}}class Rb extends bb{getSupertypes(n){if(!Yt(n))return;const r=n.superTypes.flatMap(l=>{var s;const c=l.ref;return c?(s=this.getTypeHierarchyItems(c,nt(c)))!==null&&s!==void 0?s:[]:[]});return r.length===0?void 0:r}getSubtypes(n){if(!Yt(n))return;const r=this.references.findReferences(n,{includeDeclaration:!1}).flatMap(l=>{var s;const c=this.documents.getDocument(l.sourceUri);if(!c)return[];const d=c.parseResult.value;if(!d.$cstNode)return[];const p=fl(d.$cstNode,l.segment.offset);if(!p)return[];const m=p.astNode;return!Yt(m)||m.superTypes.every(h=>h.$refNode!==p)?[]:(s=this.getTypeHierarchyItems(m,c))!==null&&s!==void 0?s:[]}).toArray();return r.length===0?void 0:r}}function Ey(o,n){const r={stacks:o,tokens:n};return Sb(r),r.stacks.flat().forEach(s=>{s.property=void 0}),Uh(r.stacks).map(s=>s[s.length-1])}function Vc(o){const{next:n,cardinalities:r,visited:l,plus:s}=o,c=[],d=n.feature;if(l.has(d))return[];tn(d)||l.add(d);let p,m=d;for(;m.$container;)if(tn(m.$container)){p=m.$container;break}else if(Bs(m.$container))m=m.$container;else break;if(Vy(m.cardinality)){const h=Gr({next:{feature:m,type:n.type},cardinalities:r,visited:l,plus:s});for(const g of h)s.add(g.feature);c.push(...h)}if(p){const h=p.elements.indexOf(m);h!==void 0&&h<p.elements.length-1&&c.push(...Oh({feature:p,type:n.type},h+1,r,l,s)),c.every(g=>Un(g.feature.cardinality,g.feature)||Un(r.get(g.feature))||s.has(g.feature))&&c.push(...Vc({next:{feature:p,type:n.type},cardinalities:r,visited:l,plus:s}))}return c}function Ac(o){return Qy(o)&&(o={feature:o}),Gr({next:o,cardinalities:new Map,visited:new Set,plus:new Set})}function Gr(o){var n,r,l;const{next:s,cardinalities:c,visited:d,plus:p}=o;if(s===void 0)return[];const{feature:m,type:h}=s;if(tn(m))return d.has(m)?[]:(d.add(m),Oh(s,0,c,d,p).map(g=>Us(g,m.cardinality,c)));if(nn(m)||pa(m))return m.elements.flatMap(g=>Gr({next:{feature:g,type:h,property:s.property},cardinalities:c,visited:d,plus:p})).map(g=>Us(g,m.cardinality,c));if(mt(m)){const g={feature:m.terminal,type:h,property:(n=s.property)!==null&&n!==void 0?n:m.feature};return Gr({next:g,cardinalities:c,visited:d,plus:p}).map(T=>Us(T,m.cardinality,c))}else{if(ft(m))return Vc({next:{feature:m,type:Lc(m),property:(r=s.property)!==null&&r!==void 0?r:m.feature},cardinalities:c,visited:d,plus:p});if(lt(m)&&se(m.rule.ref)){const g=m.rule.ref,T={feature:g.definition,type:g.fragment||g.dataType?void 0:(l=Xy(g))!==null&&l!==void 0?l:g.name,property:s.property};return Gr({next:T,cardinalities:c,visited:d,plus:p}).map(R=>Us(R,m.cardinality,c))}else return[s]}}function Us(o,n,r){return r.set(o.feature,n),o}function Oh(o,n,r,l,s){var c;const d=[];let p;for(;n<o.feature.elements.length&&(p={feature:o.feature.elements[n++],type:o.type},d.push(...Gr({next:p,cardinalities:r,visited:l,plus:s})),!!Un((c=p.feature.cardinality)!==null&&c!==void 0?c:r.get(p.feature),p.feature)););return d}function Sb(o){for(const n of o.tokens){const r=Uh(o.stacks,n);o.stacks=r}}function Uh(o,n){const r=[];for(const l of o)r.push(...Db(l,n));return r}function Db(o,n){const r=new Map,l=new Set(o.map(c=>c.feature).filter(Cb)),s=[];for(;o.length>0;){const c=o.pop(),d=Vc({next:c,cardinalities:r,plus:l,visited:new Set}).filter(p=>n?Zc(p.feature,n):!0);for(const p of d)s.push([...o,p]);if(!d.every(p=>Un(p.feature.cardinality,p.feature)||Un(r.get(p.feature))))break}return s}function Cb(o){if(o.cardinality==="+")return!0;const n=Ze(o,mt);return!!(n&&n.cardinality==="+")}function Zc(o,n){if(Hn(o))return o.value===n.image;if(lt(o))return Ab(o.rule.ref,n);if(Ba(o)){const r=H0(o);if(r)return Zc(r,n)}return!1}function Ab(o,n){return se(o)?Ac(o.definition).some(l=>Zc(l.feature,n)):pt(o)?qc(o).test(n.image):!1}function Nb(o){const n=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.triggerCharacters)!==null&&s!==void 0?s:[]}))),r=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.allCommitCharacters)!==null&&s!==void 0?s:[]})));return{triggerCharacters:n.length>0?n:void 0,allCommitCharacters:r.length>0?r:void 0}}class Hh{constructor(n){this.scopeProvider=n.references.ScopeProvider,this.grammar=n.Grammar,this.completionParser=n.parser.CompletionParser,this.nameProvider=n.references.NameProvider,this.lexer=n.parser.Lexer,this.nodeKindProvider=n.shared.lsp.NodeKindProvider,this.fuzzyMatcher=n.shared.lsp.FuzzyMatcher,this.grammarConfig=n.parser.GrammarConfig,this.astReflection=n.shared.AstReflection,this.documentationProvider=n.documentation.DocumentationProvider}async getCompletion(n,r,l){const s=[],c=this.buildContexts(n,r.position),d=(h,g)=>{const T=this.fillCompletionItem(h,g);T&&s.push(T)},p=h=>Hn(h.feature)?h.feature.value:h.feature,m=[];for(const h of c)if(await Promise.all(Mt(h.features).distinct(p).exclude(m).map(g=>this.completionFor(h,g,d))),m.push(...h.features),!this.continueCompletion(s))break;return K.CompletionList.create(this.deduplicateItems(s),!0)}deduplicateItems(n){return Mt(n).distinct(r=>`${r.kind}_${r.label}_${r.detail}`).toArray()}findFeaturesAt(n,r){const l=n.getText({start:K.Position.create(0,0),end:n.positionAt(r)}),s=this.completionParser.parse(l),c=s.tokens;if(s.tokenIndex===0){const m=Ym(this.grammar),h=Ac({feature:m.definition,type:Xy(m)});return c.length>0?(c.shift(),Ey(h.map(g=>[g]),c)):h}const d=[...c].splice(s.tokenIndex);return Ey([s.elementStack.map(m=>({feature:m}))],d)}*buildContexts(n,r){var l,s;const c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument,p=d.getText(),m=d.offsetAt(r),h={document:n,textDocument:d,offset:m,position:r},g=this.findDataTypeRuleStart(c,m);if(g){const[j,F]=g,W=(l=Qm(c,j))===null||l===void 0?void 0:l.astNode;yield Object.assign(Object.assign({},h),{node:W,tokenOffset:j,tokenEndOffset:F,features:this.findFeaturesAt(d,j)})}const{nextTokenStart:T,nextTokenEnd:R,previousTokenStart:D,previousTokenEnd:H}=this.backtrackToAnyToken(p,m);let B=T;m<=T&&D!==void 0&&(B=D);const q=(s=Qm(c,B))===null||s===void 0?void 0:s.astNode;let P=!0;if(D!==void 0&&H!==void 0&&H===m&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:D,tokenEndOffset:H,features:this.findFeaturesAt(d,D)}),P=this.performNextTokenCompletion(n,p.substring(D,H),D,H),P&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:H,tokenEndOffset:H,features:this.findFeaturesAt(d,H)}))),q)P&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:T,tokenEndOffset:R,features:this.findFeaturesAt(d,T)}));else{const j=Ym(this.grammar);if(!j)throw new Error("Missing entry parser rule");yield Object.assign(Object.assign({},h),{tokenOffset:T,tokenEndOffset:R,features:Ac(j.definition)})}}performNextTokenCompletion(n,r,l,s){return/\P{L}$/u.test(r)}findDataTypeRuleStart(n,r){var l,s;let c=zt(n,r,this.grammarConfig.nameRegexp),d=!!(!((l=Ze(c?.grammarSource,se))===null||l===void 0)&&l.dataType);if(d){for(;d;)c=c?.container,d=!!(!((s=Ze(c?.grammarSource,se))===null||s===void 0)&&s.dataType);if(c)return[c.offset,c.end]}}continueCompletion(n){return n.length===0}backtrackToAnyToken(n,r){const l=this.lexer.tokenize(n).tokens;if(l.length===0)return{nextTokenStart:r,nextTokenEnd:r};let s;for(const c of l){if(c.startOffset>=r)return{nextTokenStart:r,nextTokenEnd:r,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};if(c.endOffset>=r)return{nextTokenStart:c.startOffset,nextTokenEnd:c.endOffset+1,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};s=c}return{nextTokenStart:r,nextTokenEnd:r,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0}}completionFor(n,r,l){if(Hn(r.feature))return this.completionForKeyword(n,r.feature,l);if(Ba(r.feature)&&n.node)return this.completionForCrossReference(n,r,l)}completionForCrossReference(n,r,l){const s=Ze(r.feature,mt);let c=n.node;if(s&&c){r.type&&(c={$type:r.type,$container:c,$containerProperty:r.property},L0(this.astReflection,c));const d={reference:{$refText:""},container:c,property:s.feature};try{for(const p of this.getReferenceCandidates(d,n))l(n,this.createReferenceCompletionItem(p))}catch(p){console.error(p)}}}getReferenceCandidates(n,r){return this.scopeProvider.getScope(n).getAllElements()}createReferenceCompletionItem(n){const r=this.nodeKindProvider.getCompletionItemKind(n),l=this.getReferenceDocumentation(n);return{nodeDescription:n,kind:r,documentation:l,detail:n.type,sortText:"0"}}getReferenceDocumentation(n){if(!n.node)return;const r=this.documentationProvider.getDocumentation(n.node);if(r)return{kind:"markdown",value:r}}completionForKeyword(n,r,l){this.filterKeyword(n,r)&&l(n,{label:r.value,kind:this.getKeywordCompletionItemKind(r),detail:"Keyword",sortText:"1"})}getKeywordCompletionItemKind(n){return K.CompletionItemKind.Keyword}filterKeyword(n,r){return/\p{L}/u.test(r.value)}fillCompletionItem(n,r){var l,s;let c;if(typeof r.label=="string")c=r.label;else if("node"in r){const h=this.nameProvider.getName(r.node);if(!h)return;c=h}else if("nodeDescription"in r)c=r.nodeDescription.name;else return;let d;typeof((l=r.textEdit)===null||l===void 0?void 0:l.newText)=="string"?d=r.textEdit.newText:typeof r.insertText=="string"?d=r.insertText:d=c;const p=(s=r.textEdit)!==null&&s!==void 0?s:this.buildCompletionTextEdit(n,c,d);return p?{additionalTextEdits:r.additionalTextEdits,command:r.command,commitCharacters:r.commitCharacters,data:r.data,detail:r.detail,documentation:r.documentation,filterText:r.filterText,insertText:r.insertText,insertTextFormat:r.insertTextFormat,insertTextMode:r.insertTextMode,kind:r.kind,labelDetails:r.labelDetails,preselect:r.preselect,sortText:r.sortText,tags:r.tags,textEditText:r.textEditText,textEdit:p,label:c}:void 0}buildCompletionTextEdit(n,r,l){const c=n.textDocument.getText().substring(n.tokenOffset,n.offset);if(this.fuzzyMatcher.match(c,r)){const d=n.textDocument.positionAt(n.tokenOffset),p=n.position;return{newText:l,range:{start:d,end:p}}}else return}}class Lh{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getDefinition(n,r,l){const s=n.parseResult.value;if(s.$cstNode){const c=s.$cstNode,d=zt(c,n.textDocument.offsetAt(r.position),this.grammarConfig.nameRegexp);if(d)return this.collectLocationLinks(d,r)}}collectLocationLinks(n,r){var l;const s=this.findLink(n);if(s)return[K.LocationLink.create(s.targetDocument.textDocument.uri,((l=s.target.astNode.$cstNode)!==null&&l!==void 0?l:s.target).range,s.target.range,s.source.range)]}findLink(n){const r=this.references.findDeclarationNode(n);if(r?.astNode){const l=nt(r.astNode);if(r&&l)return{source:n,target:r,targetDocument:l}}}}class $b{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}getDocumentHighlight(n,r,l){const s=n.parseResult.value.$cstNode;if(!s)return;const c=zt(s,n.textDocument.offsetAt(r.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclaration(c);if(d){const p=we.equals(nt(d).uri,n.uri),m={documentUri:n.uri,includeDeclaration:p};return this.references.findReferences(d,m).map(g=>this.createDocumentHighlight(g)).toArray()}}createDocumentHighlight(n){return K.DocumentHighlight.create(n.segment.range)}}class _b{constructor(n){this.nameProvider=n.references.NameProvider,this.nodeKindProvider=n.shared.lsp.NodeKindProvider}getSymbols(n,r,l){return this.getSymbol(n,n.parseResult.value)}getSymbol(n,r){const l=r.$cstNode,s=this.nameProvider.getNameNode(r);if(s&&l){const c=this.nameProvider.getName(r);return[{kind:this.nodeKindProvider.getSymbolKind(r),name:c||s.text,range:l.range,selectionRange:s.range,children:this.getChildSymbols(n,r)}]}else return this.getChildSymbols(n,r)||[]}getChildSymbols(n,r){const l=[];for(const s of Zy(r)){const c=this.getSymbol(n,s);l.push(...c)}if(l.length>0)return l}}class wb{constructor(n){this.workspaceManager=n.workspace.WorkspaceManager,this.documentBuilder=n.workspace.DocumentBuilder,this.workspaceLock=n.workspace.WorkspaceLock,this.serviceRegistry=n.ServiceRegistry;let r=!1;n.lsp.LanguageServer.onInitialize(l=>{var s,c;r=!!(!((c=(s=l.capabilities.workspace)===null||s===void 0?void 0:s.didChangeWatchedFiles)===null||c===void 0)&&c.dynamicRegistration)}),n.lsp.LanguageServer.onInitialized(l=>{r&&this.registerFileWatcher(n)})}registerFileWatcher(n){const r=[],l=Mt(n.ServiceRegistry.all).flatMap(c=>c.LanguageMetaData.fileExtensions).map(c=>c.startsWith(".")?c.substring(1):c).distinct().toArray();l.length>0&&r.push({globPattern:l.length===1?`**/*.${l[0]}`:`**/*.{${l.join(",")}}`});const s=Mt(n.ServiceRegistry.all).flatMap(c=>{var d;return(d=c.LanguageMetaData.fileNames)!==null&&d!==void 0?d:[]}).distinct().toArray();if(s.length>0&&r.push({globPattern:s.length===1?`**/${s[0]}`:`**/{${s.join(",")}}`}),r.length>0){const c=n.lsp.Connection,d={watchers:r};c?.client.register(K.DidChangeWatchedFilesNotification.type,d)}}fireDocumentUpdate(n,r){n=n.filter(l=>this.serviceRegistry.hasServices(l)),this.workspaceManager.ready.then(()=>{this.workspaceLock.write(l=>this.documentBuilder.update(n,r,l))}).catch(l=>{console.error("Workspace initialization failed. Could not perform document update.",l)})}didChangeContent(n){this.fireDocumentUpdate([fa.parse(n.document.uri)],[])}didChangeWatchedFiles(n){const r=Mt(n.changes).filter(s=>s.type!==K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>fa.parse(s.uri)).toArray(),l=Mt(n.changes).filter(s=>s.type===K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>fa.parse(s.uri)).toArray();this.fireDocumentUpdate(r,l)}}class qh{constructor(n){this.commentNames=n.parser.GrammarConfig.multilineCommentRules}getFoldingRanges(n,r,l){const s=[],c=d=>s.push(d);return this.collectFolding(n,c),s}collectFolding(n,r){var l;const s=(l=n.parseResult)===null||l===void 0?void 0:l.value;if(s){if(this.shouldProcessContent(s)){const c=zn(s).iterator();let d;do if(d=c.next(),!d.done){const p=d.value;this.shouldProcess(p)&&this.collectObjectFolding(n,p,r),this.shouldProcessContent(p)||c.prune()}while(!d.done)}this.collectCommentFolding(n,s,r)}}shouldProcess(n){return!0}shouldProcessContent(n){return!0}collectObjectFolding(n,r,l){const s=r.$cstNode;if(s){const c=this.toFoldingRange(n,s);c&&l(c)}}collectCommentFolding(n,r,l){const s=r.$cstNode;if(s){for(const c of q0(s))if(this.commentNames.includes(c.tokenType.name)){const d=this.toFoldingRange(n,c,K.FoldingRangeKind.Comment);d&&l(d)}}}toFoldingRange(n,r,l){const s=r.range,c=s.start;let d=s.end;if(!(d.line-c.line<2))return this.includeLastFoldingLine(r,l)||(d=n.textDocument.positionAt(n.textDocument.offsetAt({line:d.line,character:0})-1)),K.FoldingRange.create(c.line,d.line,c.character,d.character,l)}includeLastFoldingLine(n,r){if(r===K.FoldingRangeKind.Comment)return!1;const l=n.text,s=l.charAt(l.length-1);return!(s==="}"||s===")"||s==="]")}}class xb{match(n,r){if(n.length===0)return!0;let l=!1,s,c=0;const d=r.length;for(let p=0;p<d;p++){const m=r.charCodeAt(p),h=n.charCodeAt(c);if((m===h||this.toUpperCharCode(m)===this.toUpperCharCode(h))&&(l||(l=s===void 0||this.isWordTransition(s,m)),l&&c++,c===n.length))return!0;s=m}return!1}isWordTransition(n,r){return My<=n&&n<=zy&&kb<=r&&r<=Eb||n===Oy&&r!==Oy}toUpperCharCode(n){return My<=n&&n<=zy?n-32:n}}const My=97,zy=122,kb=65,Eb=90,Oy=95;class Mb{constructor(n){this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getHoverContent(n,r){var l,s;const c=(s=(l=n.parseResult)===null||l===void 0?void 0:l.value)===null||s===void 0?void 0:s.$cstNode;if(c){const d=n.textDocument.offsetAt(r.position),p=zt(c,d,this.grammarConfig.nameRegexp);if(p&&p.offset+p.length>d){const m=this.references.findDeclaration(p);if(m)return this.getAstNodeHoverContent(m);if(Hn(p.grammarSource))return this.getKeywordHoverContent(p.grammarSource)}}}getKeywordHoverContent(n){var r;let l=G0(n)?n.$comment:void 0;if(l||(l=(r=j0(n.$cstNode,["ML_COMMENT"]))===null||r===void 0?void 0:r.text),l&&K0(l)){const s=B0(l).toMarkdown();if(s)return{contents:{kind:"markdown",value:s}}}}}class zb extends Mb{constructor(n){super(n),this.documentationProvider=n.documentation.DocumentationProvider}getAstNodeHoverContent(n){const r=this.documentationProvider.getDocumentation(n);if(r)return{contents:{kind:"markdown",value:r}}}}var Hs=Ye();const Ob={[K.SemanticTokenTypes.class]:0,[K.SemanticTokenTypes.comment]:1,[K.SemanticTokenTypes.enum]:2,[K.SemanticTokenTypes.enumMember]:3,[K.SemanticTokenTypes.event]:4,[K.SemanticTokenTypes.function]:5,[K.SemanticTokenTypes.interface]:6,[K.SemanticTokenTypes.keyword]:7,[K.SemanticTokenTypes.macro]:8,[K.SemanticTokenTypes.method]:9,[K.SemanticTokenTypes.modifier]:10,[K.SemanticTokenTypes.namespace]:11,[K.SemanticTokenTypes.number]:12,[K.SemanticTokenTypes.operator]:13,[K.SemanticTokenTypes.parameter]:14,[K.SemanticTokenTypes.property]:15,[K.SemanticTokenTypes.regexp]:16,[K.SemanticTokenTypes.string]:17,[K.SemanticTokenTypes.struct]:18,[K.SemanticTokenTypes.type]:19,[K.SemanticTokenTypes.typeParameter]:20,[K.SemanticTokenTypes.variable]:21,[K.SemanticTokenTypes.decorator]:22},Ub={[K.SemanticTokenModifiers.abstract]:1,[K.SemanticTokenModifiers.async]:2,[K.SemanticTokenModifiers.declaration]:4,[K.SemanticTokenModifiers.defaultLibrary]:8,[K.SemanticTokenModifiers.definition]:16,[K.SemanticTokenModifiers.deprecated]:32,[K.SemanticTokenModifiers.documentation]:64,[K.SemanticTokenModifiers.modification]:128,[K.SemanticTokenModifiers.readonly]:256,[K.SemanticTokenModifiers.static]:512};function Hb(o){const n=[],r=[];let l=!0,s=!0,c=!0;for(const d of o)d&&(d.legend.tokenTypes.forEach((p,m)=>{const h=n[m];if(h&&h!==p)throw new Error(`Cannot merge '${h}' and '${p}' token types. They use the same index ${m}.`);n[m]=p}),d.legend.tokenModifiers.forEach((p,m)=>{const h=r[m];if(h&&h!==p)throw new Error(`Cannot merge '${h}' and '${p}' token modifier. They use the same index ${m}.`);r[m]=p}),d.full?typeof d.full=="object"&&!d.full.delta&&(s=!1):l=!1,d.range||(c=!1));return{legend:{tokenTypes:n,tokenModifiers:r},full:l&&{delta:s},range:c}}class Lb extends K.SemanticTokensBuilder{constructor(){super(...arguments),this._tokens=[]}push(n,r,l,s,c){this._tokens.push({line:n,char:r,length:l,tokenType:s,tokenModifiers:c})}build(){return this.applyTokens(),super.build()}buildEdits(){return this.applyTokens(),super.buildEdits()}flush(){this.previousResult(this.id)}applyTokens(){for(const n of this._tokens.sort(this.compareTokens))super.push(n.line,n.char,n.length,n.tokenType,n.tokenModifiers);this._tokens=[]}compareTokens(n,r){return n.line===r.line?n.char-r.char:n.line-r.line}}class qb{constructor(n){this.tokensBuilders=new Map,n.shared.workspace.TextDocuments.onDidClose(r=>{this.tokensBuilders.delete(r.document.uri)}),n.shared.lsp.LanguageServer.onInitialize(r=>{var l;this.initialize((l=r.capabilities.textDocument)===null||l===void 0?void 0:l.semanticTokens)})}initialize(n){this.clientCapabilities=n}get tokenTypes(){return Ob}get tokenModifiers(){return Ub}get semanticTokensOptions(){return{legend:{tokenTypes:Object.keys(this.tokenTypes),tokenModifiers:Object.keys(this.tokenModifiers)},full:{delta:!0},range:!0}}async semanticHighlight(n,r,l=js.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightRange(n,r,l=js.CancellationToken.None){return this.currentRange=r.range,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightDelta(n,r,l=js.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.previousResult(r.previousResultId),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.buildEdits()}createAcceptor(){return r=>{"line"in r?this.highlightToken({range:{start:{line:r.line,character:r.char},end:{line:r.line,character:r.char+r.length}},type:r.type,modifier:r.modifier}):"range"in r?this.highlightToken(r):"keyword"in r?this.highlightKeyword(r):"property"in r?this.highlightProperty(r):this.highlightNode({node:r.cst,type:r.type,modifier:r.modifier})}}getDocumentTokensBuilder(n){const r=this.tokensBuilders.get(n.uri.toString());if(r)return r;const l=new Lb;return this.tokensBuilders.set(n.uri.toString(),l),l}async computeHighlighting(n,r,l){const s=n.parseResult.value,c=P0(s,{range:this.currentRange}).iterator();let d;do if(d=c.next(),!d.done){await Iy(l);const p=d.value;this.highlightElement(p,r)==="prune"&&c.prune()}while(!d.done)}highlightToken(n){var r;const{range:l,type:s}=n;let c=n.modifier;if(this.currentRange&&!F0(l,this.currentRange)||!this.currentDocument||!this.currentTokensBuilder)return;const d=this.tokenTypes[s];let p=0;if(c!==void 0){typeof c=="string"&&(c=[c]);for(const g of c){const T=this.tokenModifiers[g];p|=T}}const m=l.start.line,h=l.end.line;if(m===h){const g=l.start.character,T=l.end.character-g;this.currentTokensBuilder.push(m,g,T,d,p)}else if(!((r=this.clientCapabilities)===null||r===void 0)&&r.multilineTokenSupport){const g=l.start.character,T=this.currentDocument.textDocument.offsetAt(l.start),R=this.currentDocument.textDocument.offsetAt(l.end);this.currentTokensBuilder.push(m,g,R-T,d,p)}else{const g=l.start;let T=this.currentDocument.textDocument.offsetAt({line:m+1,character:0});this.currentTokensBuilder.push(g.line,g.character,T-g.character-1,d,p);for(let R=m+1;R<h;R++){const D=T;T=this.currentDocument.textDocument.offsetAt({line:R+1,character:0}),this.currentTokensBuilder.push(R,0,T-D-1,d,p)}this.currentTokensBuilder.push(h,0,l.end.character,d,p)}}highlightProperty(n){const r=[];if(typeof n.index=="number"){const c=Pa(n.node.$cstNode,n.property,n.index);c&&r.push(c)}else r.push(...Wy(n.node.$cstNode,n.property));const{type:l,modifier:s}=n;for(const c of r)this.highlightNode({node:c,type:l,modifier:s})}highlightKeyword(n){const{node:r,keyword:l,type:s,index:c,modifier:d}=n,p=[];if(typeof c=="number"){const m=La(r.$cstNode,l,c);m&&p.push(m)}else p.push(...Jy(r.$cstNode,l));for(const m of p)this.highlightNode({node:m,type:s,modifier:d})}highlightNode(n){const{node:r,type:l,modifier:s}=n,c=r.range;this.highlightToken({range:c,type:l,modifier:s})}}var Uy;(function(o){function n(l,s,c){const d=new Map;Object.entries(s).forEach(([h,g])=>d.set(g,h));let p=0,m=0;return r(l.data,5).map(h=>{p+=h[0],h[0]!==0&&(m=0),m+=h[1];const g=h[2];return{offset:c.textDocument.offsetAt({line:p,character:m}),tokenType:d.get(h[3]),tokenModifiers:h[4],text:c.textDocument.getText({start:{line:p,character:m},end:{line:p,character:m+g}})}})}o.decode=n;function r(l,s){const c=[];for(let d=0;d<l.length;d+=s){const p=l.slice(d,d+s);c.push(p)}return c}})(Uy||(Uy={}));function Gb(o){const n=[],r=[];o.forEach(s=>{s?.triggerCharacters&&n.push(...s.triggerCharacters),s?.retriggerCharacters&&r.push(...s.retriggerCharacters)});const l={triggerCharacters:n.length>0?Array.from(new Set(n)).sort():void 0,retriggerCharacters:r.length>0?Array.from(new Set(r)).sort():void 0};return l.triggerCharacters?l:void 0}class jb{constructor(n){this.onInitializeEmitter=new Hs.Emitter,this.onInitializedEmitter=new Hs.Emitter,this.services=n}get onInitialize(){return this.onInitializeEmitter.event}get onInitialized(){return this.onInitializedEmitter.event}async initialize(n){return this.eagerLoadServices(),this.fireInitializeOnDefaultServices(n),this.onInitializeEmitter.fire(n),this.onInitializeEmitter.dispose(),this.buildInitializeResult(n)}eagerLoadServices(){Xm(this.services),this.services.ServiceRegistry.all.forEach(n=>Xm(n))}hasService(n){return this.services.ServiceRegistry.all.some(l=>n(l)!==void 0)}buildInitializeResult(n){var r,l,s,c;const d=this.services.lsp.DocumentUpdateHandler,p=(r=this.services.lsp.FileOperationHandler)===null||r===void 0?void 0:r.fileOperationOptions,m=this.services.ServiceRegistry.all,h=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.Formatter}),g=m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.Formatter)===null||he===void 0?void 0:he.formatOnTypeOptions}).find(Y=>!!Y),T=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CodeActionProvider}),R=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.SemanticTokenProvider}),D=Hb(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.SemanticTokenProvider)===null||he===void 0?void 0:he.semanticTokensOptions})),H=(s=(l=this.services.lsp)===null||l===void 0?void 0:l.ExecuteCommandHandler)===null||s===void 0?void 0:s.commands,B=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentLinkProvider}),q=Gb(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.SignatureHelp)===null||he===void 0?void 0:he.signatureHelpOptions})),P=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.TypeProvider}),j=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.ImplementationProvider}),F=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CompletionProvider}),W=Nb(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.CompletionProvider)===null||he===void 0?void 0:he.completionOptions})),oe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.ReferencesProvider}),ie=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentSymbolProvider}),ye=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DefinitionProvider}),fe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentHighlightProvider}),Oe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.FoldingRangeProvider}),xe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.HoverProvider}),yt=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.RenameProvider}),Le=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CallHierarchyProvider}),ht=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.TypeHierarchyProvider}),ln=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CodeLensProvider}),gt=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DeclarationProvider}),M=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.InlayHintProvider}),Q=(c=this.services.lsp)===null||c===void 0?void 0:c.WorkspaceSymbolProvider;return{capabilities:{workspace:{workspaceFolders:{supported:!0},fileOperations:p},executeCommandProvider:H&&{commands:H},textDocumentSync:{change:Hs.TextDocumentSyncKind.Incremental,openClose:!0,save:!!d.didSaveDocument,willSave:!!d.willSaveDocument,willSaveWaitUntil:!!d.willSaveDocumentWaitUntil},completionProvider:F?W:void 0,referencesProvider:oe,documentSymbolProvider:ie,definitionProvider:ye,typeDefinitionProvider:P,documentHighlightProvider:fe,codeActionProvider:T,documentFormattingProvider:h,documentRangeFormattingProvider:h,documentOnTypeFormattingProvider:g,foldingRangeProvider:Oe,hoverProvider:xe,renameProvider:yt?{prepareProvider:!0}:void 0,semanticTokensProvider:R?D:void 0,signatureHelpProvider:q,implementationProvider:j,callHierarchyProvider:Le?{}:void 0,typeHierarchyProvider:ht?{}:void 0,documentLinkProvider:B?{resolveProvider:!1}:void 0,codeLensProvider:ln?{resolveProvider:!1}:void 0,declarationProvider:gt,inlayHintProvider:M?{resolveProvider:!1}:void 0,workspaceSymbolProvider:Q?{resolveProvider:!!Q.resolveSymbol}:void 0}}}initialized(n){this.fireInitializedOnDefaultServices(n),this.onInitializedEmitter.fire(n),this.onInitializedEmitter.dispose()}fireInitializeOnDefaultServices(n){this.services.workspace.ConfigurationProvider.initialize(n),this.services.workspace.WorkspaceManager.initialize(n)}fireInitializedOnDefaultServices(n){const r=this.services.lsp.Connection,l=r?Object.assign(Object.assign({},n),{register:s=>r.client.register(Hs.DidChangeConfigurationNotification.type,s),fetchConfiguration:s=>r.workspace.getConfiguration(s)}):n;this.services.workspace.ConfigurationProvider.initialized(l).catch(s=>console.error("Error in ConfigurationProvider initialization:",s)),this.services.workspace.WorkspaceManager.initialized(n).catch(s=>console.error("Error in WorkspaceManager initialization:",s))}}class Kb{getSymbolKind(n){return K.SymbolKind.Field}getCompletionItemKind(n){return K.CompletionItemKind.Reference}}class Bb{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}findReferences(n,r,l){const s=n.parseResult.value.$cstNode;if(!s)return[];const c=zt(s,n.textDocument.offsetAt(r.position),this.grammarConfig.nameRegexp);return c?this.getReferences(c,r,n):[]}getReferences(n,r,l){const s=[],c=this.references.findDeclaration(n);if(c){const d={includeDeclaration:r.context.includeDeclaration};this.references.findReferences(c,d).forEach(p=>{s.push(K.Location.create(p.sourceUri.toString(),p.segment.range))})}return s}}class Pb{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}async rename(n,r,l){const s={},c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument.offsetAt(r.position),p=zt(c,d,this.grammarConfig.nameRegexp);if(!p)return;const m=this.references.findDeclaration(p);if(!m)return;const h={onlyLocal:!1,includeDeclaration:!0};return this.references.findReferences(m,h).forEach(T=>{const R=Y0.replace(T.segment.range,r.newName),D=T.sourceUri.toString();s[D]?s[D].push(R):s[D]=[R]}),{changes:s}}prepareRename(n,r,l){return this.renameNodeRange(n,r.position)}renameNodeRange(n,r){const l=n.parseResult.value.$cstNode,s=n.textDocument.offsetAt(r);if(l&&s){const c=zt(l,s,this.grammarConfig.nameRegexp);if(!c)return;if(this.references.findDeclaration(c)||this.isNameNode(c))return c.range}}isNameNode(n){return n?.astNode&&eh(n.astNode)&&n===this.nameProvider.getNameNode(n.astNode)}}class Fb{constructor(n){this.indexManager=n.workspace.IndexManager,this.nodeKindProvider=n.lsp.NodeKindProvider,this.fuzzyMatcher=n.lsp.FuzzyMatcher}async getSymbols(n,r=js.CancellationToken.None){const l=[],s=n.query.toLowerCase();for(const c of this.indexManager.allElements())if(await Iy(r),this.fuzzyMatcher.match(s,c.name)){const d=this.getWorkspaceSymbol(c);d&&l.push(d)}return l}getWorkspaceSymbol(n){const r=n.nameSegment;if(r)return{kind:this.nodeKindProvider.getSymbolKind(n),name:n.name,location:{range:r.range,uri:n.documentUri.toString()}}}}class Gh{constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new K.Emitter,this._onDidOpen=new K.Emitter,this._onDidClose=new K.Emitter,this._onDidSave=new K.Emitter,this._onWillSave=new K.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(we.normalize(n))}set(n){const r=we.normalize(n.uri);let l=!0;this._syncedDocuments.has(r)&&(l=!1),this._syncedDocuments.set(r,n);const s=Object.freeze({document:n});return this._onDidOpen.fire(s),this._onDidChangeContent.fire(s),l}delete(n){const r=we.normalize(typeof n=="object"&&"uri"in n?n.uri:n),l=this._syncedDocuments.get(r);l!==void 0&&(this._syncedDocuments.delete(r),this._onDidClose.fire(Object.freeze({document:l})))}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=K.TextDocumentSyncKind.Incremental;const r=[];return r.push(n.onDidOpenTextDocument(l=>{const s=l.textDocument,c=we.normalize(s.uri),d=this._configuration.create(c,s.languageId,s.version,s.text);this._syncedDocuments.set(c,d);const p=Object.freeze({document:d});this._onDidOpen.fire(p),this._onDidChangeContent.fire(p)})),r.push(n.onDidChangeTextDocument(l=>{const s=l.textDocument,c=l.contentChanges;if(c.length===0)return;const{version:d}=s;if(d==null)throw new Error(`Received document change event for ${s.uri} without valid version identifier`);const p=we.normalize(s.uri);let m=this._syncedDocuments.get(p);m!==void 0&&(m=this._configuration.update(m,c,d),this._syncedDocuments.set(p,m),this._onDidChangeContent.fire(Object.freeze({document:m})))})),r.push(n.onDidCloseTextDocument(l=>{const s=we.normalize(l.textDocument.uri),c=this._syncedDocuments.get(s);c!==void 0&&(this._syncedDocuments.delete(s),this._onDidClose.fire(Object.freeze({document:c})))})),r.push(n.onWillSaveTextDocument(l=>{const s=this._syncedDocuments.get(we.normalize(l.textDocument.uri));s!==void 0&&this._onWillSave.fire(Object.freeze({document:s,reason:l.reason}))})),r.push(n.onWillSaveTextDocumentWaitUntil((l,s)=>{const c=this._syncedDocuments.get(we.normalize(l.textDocument.uri));return c!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:c,reason:l.reason}),s):[]})),r.push(n.onDidSaveTextDocument(l=>{const s=this._syncedDocuments.get(we.normalize(l.textDocument.uri));s!==void 0&&this._onDidSave.fire(Object.freeze({document:s}))})),K.Disposable.create(()=>{r.forEach(l=>l.dispose())})}}class Yb{constructor(n){this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new K.Emitter,this._onDidSave=new K.Emitter,this._onDidChange=new K.Emitter,this._onDidClose=new K.Emitter,"listen"in n?this._cellTextDocuments=n:this._cellTextDocuments=new Gh(n)}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(we.normalize(n))}getNotebookCell(n){const r=this.notebookCellMap.get(we.normalize(n));return r&&r[0]}findNotebookDocumentForCell(n){const r=typeof n=="string"||"scheme"in n?n:n.document,l=this.notebookCellMap.get(we.normalize(r));return l&&l[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const r=new jr,l=[];return l.push(this.cellTextDocuments.listen(r)),l.push(n.notebooks.synchronization.onDidOpenNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri);this.notebookDocuments.set(c,s.notebookDocument);for(const d of s.cellTextDocuments)r.openTextDocument({textDocument:d});this.updateCellMap(s.notebookDocument),this._onDidOpen.fire(s.notebookDocument)})),l.push(n.notebooks.synchronization.onDidChangeNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d===void 0)return;d.version=s.notebookDocument.version;const p=d.metadata;let m=!1;const h=s.change;h.metadata!==void 0&&(m=!0,d.metadata=h.metadata);const g=[],T=[],R=[],D=[];if(h.cells!==void 0){const j=h.cells;if(j.structure!==void 0){const F=j.structure.array;if(d.cells.splice(F.start,F.deleteCount,...F.cells!==void 0?F.cells:[]),j.structure.didOpen!==void 0)for(const W of j.structure.didOpen)r.openTextDocument({textDocument:W}),g.push(W.uri);if(j.structure.didClose)for(const W of j.structure.didClose)r.closeTextDocument({textDocument:W}),T.push(W.uri)}if(j.data!==void 0){const F=new Map(j.data.map(W=>[W.document,W]));for(let W=0;W<=d.cells.length;W++){const oe=F.get(d.cells[W].document);if(oe!==void 0){const ie=d.cells.splice(W,1,oe);if(R.push({old:ie[0],new:oe}),F.delete(oe.document),F.size===0)break}}}if(j.textContent!==void 0)for(const F of j.textContent)r.changeTextDocument({textDocument:F.document,contentChanges:F.changes}),D.push(F.document.uri)}this.updateCellMap(d);const H={notebookDocument:d};m&&(H.metadata={old:p,new:d.metadata});const B=[];for(const j of g)B.push(this.getNotebookCell(j));const q=[];for(const j of T)q.push(this.getNotebookCell(j));const P=[];for(const j of D)P.push(this.getNotebookCell(j));(B.length>0||q.length>0||R.length>0||P.length>0)&&(H.cells={added:B,removed:q,changed:{data:R,textContent:P}}),(H.metadata!==void 0||H.cells!==void 0)&&this._onDidChange.fire(H)})),l.push(n.notebooks.synchronization.onDidSaveNotebookDocument(s=>{const c=this.getNotebookDocument(s.notebookDocument.uri);c!==void 0&&this._onDidSave.fire(c)})),l.push(n.notebooks.synchronization.onDidCloseNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d!==void 0){this._onDidClose.fire(d);for(const p of s.cellTextDocuments)r.closeTextDocument({textDocument:p});this.notebookDocuments.delete(c);for(const p of d.cells)this.notebookCellMap.delete(p.document)}})),K.Disposable.create(()=>{l.forEach(s=>s.dispose())})}updateCellMap(n){for(const r of n.cells)this.notebookCellMap.set(r.document,[r,n])}}class jr{onDidOpenTextDocument(n){return this.openHandler=n,K.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,K.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,K.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return jr.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return jr.NULL_DISPOSE}onDidSaveTextDocument(){return jr.NULL_DISPOSE}}jr.NULL_DISPOSE=Object.freeze({dispose:()=>{}});function jh(o){return th.merge(X0(o),Qb(o))}function Qb(o){return{lsp:{CompletionProvider:n=>new Hh(n),DocumentSymbolProvider:n=>new _b(n),HoverProvider:n=>new zb(n),FoldingRangeProvider:n=>new qh(n),ReferencesProvider:n=>new Bb(n),DefinitionProvider:n=>new Lh(n),DocumentHighlightProvider:n=>new $b(n),RenameProvider:n=>new Pb(n)},shared:()=>o.shared}}function Kh(o){return th.merge(Q0(o),Xb(o))}function Xb(o){return{lsp:{Connection:()=>o.connection,LanguageServer:n=>new jb(n),DocumentUpdateHandler:n=>new wb(n),WorkspaceSymbolProvider:n=>new Fb(n),NodeKindProvider:()=>new Kb,FuzzyMatcher:()=>new xb},workspace:{TextDocuments:()=>new Gh(V0),NotebookDocuments:n=>new Yb(n.workspace.TextDocuments)}}}class Vb extends Z0{constructor(n){super(n),this.langiumDocuments=n.shared.workspace.LangiumDocuments}getScope(n){const r=this.reflection.getReferenceType(n);return r===Vm?this.getTypeScope(r,n):super.getScope(n)}getTypeScope(n,r){let l;const s=nt(r.container).precomputedScopes,c=nh(r.container);if(s&&c){const p=s.get(c);p.length>0&&(l=Mt(p).filter(m=>m.type===Zm||m.type===Im||m.type===Dc))}const d=this.getGlobalScope(n,r);return l?this.createScope(l,d):d}getGlobalScope(n,r){const l=Ze(r.container,yl);if(!l)return I0;const s=new Set;this.gatherImports(l,s);let c=this.indexManager.allElements(n,s);return n===Vm&&(c=c.filter(d=>d.type===Zm||d.type===Im||d.type===Dc)),new W0(c)}gatherImports(n,r){for(const l of n.imports){const s=sg(l);if(s&&!r.has(s.toString())){r.add(s.toString());const c=this.langiumDocuments.getDocument(s);if(c){const d=c.parseResult.value;yl(d)&&this.gatherImports(d,r)}}}}}class Zb extends J0{constructor(n){super(n),this.astNodeLocator=n.workspace.AstNodeLocator}exportNode(n,r,l){var s;if(super.exportNode(n,r,l),se(n)){if(!n.returnType&&!n.dataType){const c=(s=n.inferredType)!==null&&s!==void 0?s:n;r.push(this.createInferredTypeDescription(c,c.name,l))}zn(n).forEach(c=>{ft(c)&&c.inferredType&&r.push(this.createInferredTypeDescription(c.inferredType,c.inferredType.name,l))})}}processNode(n,r,l){ah(n)||(this.processTypeNode(n,r,l),this.processActionNode(n,r,l),super.processNode(n,r,l))}processTypeNode(n,r,l){var s;const c=n.$container;if(c&&se(n)&&!n.returnType&&!n.dataType){const d=(s=n.inferredType)!==null&&s!==void 0?s:n;l.add(c,this.createInferredTypeDescription(d,d.name,r))}}processActionNode(n,r,l){const s=nh(n);s&&ft(n)&&n.inferredType&&l.add(s,this.createInferredTypeDescription(n.inferredType,n.inferredType.name,r))}createInferredTypeDescription(n,r,l=nt(n)){let s;const c=()=>{var d;return s??(s=Ga((d=this.nameProvider.getNameNode(n))!==null&&d!==void 0?d:n.$cstNode))};return{node:n,name:r,get nameSegment(){return c()},selectionSegment:Ga(n.$cstNode),type:Dc,documentUri:l.uri,path:this.astNodeLocator.getAstNodePath(n)}}}class Ib extends Hh{constructor(n){super(n),this.documents=()=>n.shared.workspace.LangiumDocuments}completionFor(n,r,l){const s=Ze(r.feature,mt);if(s?.feature==="path")this.completeImportPath(n,l);else return super.completionFor(n,r,l)}completeImportPath(n,r){const s=n.textDocument.getText().substring(n.tokenOffset,n.offset);let c=this.getAllFiles(n.document),d={start:n.position,end:n.position};if(s.length>0){const p=s.substring(1);c=c.filter(g=>g.startsWith(p));const m=n.textDocument.positionAt(n.tokenOffset+1),h=n.textDocument.positionAt(n.tokenEndOffset-1);d={start:m,end:h}}for(const p of c){const m=s.length>0?"":'"',h=`${m}${p}${m}`;r(n,{label:p,textEdit:{newText:h,range:d},kind:eT.File,sortText:"0"})}}getAllFiles(n){const r=this.documents().all,l=n.uri.toString(),s=we.dirname(n.uri).toString(),c=[];for(const d of r)if(!we.equals(d.uri,l)){const p=d.uri.toString(),m=p.substring(0,p.length-we.extname(d.uri).length);let h=we.relative(s,m);h.startsWith(".")||(h=`./${h}`),c.push(h)}return c}}class Wb extends qh{shouldProcessContent(n){return!se(n)}}class Jb{constructor(){this.collector=()=>{}}getNodeFormatter(n){return new eR(n,this.collector)}formatDocument(n,r){const l=n.parseResult;return l.lexerErrors.length===0&&l.parserErrors.length===0?this.doDocumentFormat(n,r.options):[]}isFormatRangeErrorFree(n,r){const l=n.parseResult;return l.lexerErrors.length||l.parserErrors.length?Math.min(...l.lexerErrors.map(c=>{var d;return(d=c.line)!==null&&d!==void 0?d:Number.MAX_VALUE}),...l.parserErrors.map(c=>{var d;return(d=c.token.startLine)!==null&&d!==void 0?d:Number.MAX_VALUE}))>r.end.line:!0}formatDocumentRange(n,r){return this.isFormatRangeErrorFree(n,r.range)?this.doDocumentFormat(n,r.options,r.range):[]}formatDocumentOnType(n,r){const l={start:{character:0,line:r.position.line},end:r.position};return this.isFormatRangeErrorFree(n,l)?this.doDocumentFormat(n,r.options,l):[]}get formatOnTypeOptions(){}doDocumentFormat(n,r,l){const s=new Map,c=(p,m,h)=>{var g,T;const R=this.nodeModeToKey(p,m),D=s.get(R),H=(g=h.options.priority)!==null&&g!==void 0?g:0,B=(T=D?.options.priority)!==null&&T!==void 0?T:0;(!D||B<=H)&&s.set(R,h)};this.collector=c,this.iterateAstFormatting(n,l);const d=this.iterateCstFormatting(n,s,r,l);return this.avoidOverlappingEdits(n.textDocument,d)}avoidOverlappingEdits(n,r){const l=[];for(const s of r){let c=l[l.length-1];for(;c;){const d=n.offsetAt(s.range.start),p=n.offsetAt(c.range.end);if(d<p)l.pop(),c=l[l.length-1];else break}l.push(s)}return l.filter(s=>this.isNecessary(s,n))}iterateAstFormatting(n,r){const l=n.parseResult.value;this.format(l);const s=zn(l).iterator();let c;do if(c=s.next(),!c.done){const d=c.value;this.insideRange(d.$cstNode.range,r)?this.format(d):s.prune()}while(!c.done)}nodeModeToKey(n,r){return`${n.offset}:${n.end}:${r}`}insideRange(n,r){return!r||n.start.line<=r.start.line&&n.end.line>=r.end.line||n.start.line>=r.start.line&&n.end.line<=r.end.line||n.start.line<=r.end.line&&n.end.line>=r.end.line}isNecessary(n,r){return n.newText!==r.getText(n.range).replace(/\r/g,"")}iterateCstFormatting(n,r,l,s){const c={indentation:0,options:l,document:n.textDocument},d=[],m=this.iterateCstTree(n,c).iterator();let h,g;do if(g=m.next(),!g.done){const T=g.value,R=Wm(T),D=this.nodeModeToKey(T,"prepend"),H=r.get(D);if(r.delete(D),H){const P=this.createTextEdit(h,T,H,c);for(const j of P)j&&this.insideRange(j.range,s)&&d.push(j)}const B=this.nodeModeToKey(T,"append"),q=r.get(B);if(r.delete(B),q){const P=tT(T);if(P){const j=this.createTextEdit(T,P,q,c);for(const F of j)F&&this.insideRange(F.range,s)&&d.push(F)}}if(!H&&T.hidden){const P=this.createHiddenTextEdits(h,T,void 0,c);for(const j of P)j&&this.insideRange(j.range,s)&&d.push(j)}R&&(h=T)}while(!g.done);return d}createHiddenTextEdits(n,r,l,s){var c;const d=r.range.start.line;if(n&&n.range.end.line===d)return[];const p=[],m={start:{character:0,line:d},end:r.range.start},h=s.document.getText(m),g=this.findFittingMove(m,(c=l?.moves)!==null&&c!==void 0?c:[],s),T=this.getExistingIndentationCharacterCount(h,s),D=this.getIndentationCharacterCount(s,g)-T;if(D===0)return[];let H="";D>0&&(H=(s.options.insertSpaces?" ":"	").repeat(D));const B=r.text.split(`
`);B[0]=h+B[0];for(let q=0;q<B.length;q++){const P=d+q,j={character:0,line:P};if(D>0)p.push({newText:H,range:{start:j,end:j}});else{const F=B[q];let W=0;for(;W<F.length;W++){const oe=F.charAt(W);if(oe!==" "&&oe!=="	")break}p.push({newText:"",range:{start:j,end:{line:P,character:Math.min(W,Math.abs(D))}}})}}return p}getExistingIndentationCharacterCount(n,r){const l=" ".repeat(r.options.tabSize);return(r.options.insertSpaces?n.replaceAll("	",l):n.replaceAll(l,"	")).length}getIndentationCharacterCount(n,r){let l=n.indentation;return r&&r.tabs&&(l+=r.tabs),(n.options.insertSpaces?n.options.tabSize:1)*l}createTextEdit(n,r,l,s){var c;if(r.hidden)return this.createHiddenTextEdits(n,r,l,s);if(n&&(n.range.end.line>r.range.start.line||n.range.end.line===r.range.start.line&&n.range.end.character>r.range.start.character))return[];const d={start:(c=n?.range.end)!==null&&c!==void 0?c:{character:0,line:0},end:r.range.start},p=this.findFittingMove(d,l.moves,s);if(!p)return[];const m=p.characters,h=p.lines,g=p.tabs,T=s.indentation;s.indentation+=g??0;const R=[];return m!==void 0?n?.hidden||R.push(this.createSpaceTextEdit(d,m,l.options)):h!==void 0?R.push(this.createLineTextEdit(d,h,s,l.options)):g!==void 0&&R.push(this.createTabTextEdit(d,!!n,s)),Wm(r)&&(s.indentation=T),R}createSpaceTextEdit(n,r,l){if(n.start.line===n.end.line){const c=n.end.character-n.start.character;r=this.fitIntoOptions(r,c,l)}return{newText:" ".repeat(r),range:n}}createLineTextEdit(n,r,l,s){const c=n.end.line-n.start.line;r=this.fitIntoOptions(r,c,s);const p=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation);return{newText:`${`
`.repeat(r)}${p}`,range:n}}createTabTextEdit(n,r,l){const c=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation),d=r?1:0,p=Math.max(n.end.line-n.start.line,d);return{newText:`${`
`.repeat(p)}${c}`,range:n}}fitIntoOptions(n,r,l){return l.allowMore?n=Math.max(r,n):l.allowLess&&(n=Math.min(r,n)),n}findFittingMove(n,r,l){if(r.length===0)return;if(r.length===1)return r[0];const s=n.end.line-n.start.line;for(const c of r){if(c.lines!==void 0&&s<=c.lines)return c;if(c.lines===void 0&&s===0)return c}return r[r.length-1]}iterateCstTree(n,r){const s=n.parseResult.value.$cstNode;return s?new nT(s,c=>this.iterateCst(c,r)):Jm}iterateCst(n,r){if(!aT(n))return Jm;const l=r.indentation;return new rT(()=>({index:0}),s=>s.index<n.content.length?{done:!1,value:n.content[s.index++]}:(r.indentation=l,iT))}}class eR{constructor(n,r){this.astNode=n,this.collector=r}node(n){return new en(n.$cstNode?[n.$cstNode]:[],this.collector)}nodes(...n){const r=[];for(const l of n)l.$cstNode&&r.push(l.$cstNode);return new en(r,this.collector)}property(n,r){const l=Pa(this.astNode.$cstNode,n,r);return new en(l?[l]:[],this.collector)}properties(...n){const r=[];for(const l of n){const s=Wy(this.astNode.$cstNode,l);r.push(...s)}return new en(r,this.collector)}keyword(n,r){const l=La(this.astNode.$cstNode,n,r);return new en(l?[l]:[],this.collector)}keywords(...n){const r=[];for(const l of n){const s=Jy(this.astNode.$cstNode,l);r.push(...s)}return new en(r,this.collector)}cst(n){return new en([...n],this.collector)}interior(n,r){const l=n.nodes,s=r.nodes;if(l.length!==1||s.length!==1)return new en([],this.collector);let c=l[0],d=s[0];if(c.offset>d.offset){const p=c;c=d,d=p}return new en(lT(c,d),this.collector)}}class en{constructor(n,r){this.nodes=n,this.collector=r}prepend(n){for(const r of this.nodes)this.collector(r,"prepend",n);return this}append(n){for(const r of this.nodes)this.collector(r,"append",n);return this}surround(n){for(const r of this.nodes)this.collector(r,"prepend",n),this.collector(r,"append",n);return this}slice(n,r){return new en(this.nodes.slice(n,r),this.collector)}}var ne;(function(o){function n(...g){return{options:{},moves:g.flatMap(T=>T.moves).sort(h)}}o.fit=n;function r(g){return s(0,g)}o.noSpace=r;function l(g){return s(1,g)}o.oneSpace=l;function s(g,T){return{options:T??{},moves:[{characters:g}]}}o.spaces=s;function c(g){return d(1,g)}o.newLine=c;function d(g,T){return{options:T??{},moves:[{lines:g}]}}o.newLines=d;function p(g){return{options:g??{},moves:[{tabs:1,lines:1}]}}o.indent=p;function m(g){return{options:g??{},moves:[{tabs:0}]}}o.noIndent=m;function h(g,T){var R,D,H,B,q,P;const j=(R=g.lines)!==null&&R!==void 0?R:0,F=(D=T.lines)!==null&&D!==void 0?D:0,W=(H=g.tabs)!==null&&H!==void 0?H:0,oe=(B=T.tabs)!==null&&B!==void 0?B:0,ie=(q=g.characters)!==null&&q!==void 0?q:0,ye=(P=T.characters)!==null&&P!==void 0?P:0;return j<F?-1:j>F?1:W<oe?-1:W>oe?1:ie<ye?-1:ie>ye?1:0}})(ne||(ne={}));const Tc=ne.fit(ne.oneSpace(),ne.indent());class tR extends Jb{format(n){if(Ba(n))this.getNodeFormatter(n).properties("type","terminal").surround(ne.noSpace());else if(se(n)){const r=this.getNodeFormatter(n);r.keywords("entry","fragment","returns").append(ne.oneSpace()),(n.inferredType||n.returnType||n.dataType)&&n.parameters.length===0?r.property("name").append(ne.oneSpace()):r.property("name").append(ne.noSpace()),r.properties("parameters").append(ne.noSpace()),r.keywords(",").append(ne.oneSpace()),r.keywords("<").append(ne.noSpace());const l=r.keyword(";"),s=r.keyword(":");s.prepend(ne.noSpace()),r.interior(s,l).prepend(ne.indent()),l.prepend(ne.fit(ne.noSpace(),ne.newLine())),r.node(n).prepend(ne.noIndent())}else if(pt(n)){const r=this.getNodeFormatter(n);n.type&&(r.property("name").append(ne.oneSpace()),r.keyword("returns").append(ne.oneSpace())),r.keywords("hidden","terminal","fragment").append(ne.oneSpace()),r.keyword(":").prepend(ne.noSpace()),r.keyword(";").prepend(ne.fit(ne.noSpace(),ne.newLine())),r.node(n).prepend(ne.noIndent())}else if(ft(n)){const r=this.getNodeFormatter(n);r.keyword("{").append(ne.noSpace()),r.keywords(".","+=","=").surround(ne.noSpace()),r.keyword("}").prepend(ne.noSpace())}else if(sT(n))this.getNodeFormatter(n).keywords("infer","infers").append(ne.oneSpace());else if(mt(n))this.getNodeFormatter(n).keywords("=","+=","?=").surround(ne.noSpace());else if(lt(n)){const r=this.getNodeFormatter(n);r.keyword("<").surround(ne.noSpace()),r.keyword(",").append(ne.oneSpace()),r.properties("arguments").append(ne.noSpace())}else if(Yt(n)){const r=this.getNodeFormatter(n);r.keyword("interface").append(ne.oneSpace()),r.keyword("extends").prepend(ne.oneSpace()).append(Tc),r.keywords(",").prepend(ne.noSpace()).append(Tc);const l=r.keyword("{");l.prepend(ne.fit(ne.oneSpace(),ne.newLine()));const s=r.keyword("}");s.prepend(ne.newLine()),r.interior(l,s).prepend(ne.indent())}else if(rn(n)){const r=this.getNodeFormatter(n);r.keyword("type").append(ne.oneSpace()),r.keyword("=").prepend(ne.oneSpace()).append(Tc),r.keyword(";").prepend(ne.noSpace()).append(ne.newLine())}else if(yl(n)){const r=this.getNodeFormatter(n);r.nodes(...n.rules,...n.interfaces,...n.types,...n.imports).prepend(ne.noIndent()),r.keyword("grammar").prepend(ne.noSpace()).append(ne.oneSpace())}Bs(n)&&this.getNodeFormatter(n).property("cardinality").prepend(ne.noSpace())}}class nR extends qb{highlightElement(n,r){var l;mt(n)?r({node:n,property:"feature",type:K.SemanticTokenTypes.property}):ft(n)?n.feature&&r({node:n,property:"feature",type:K.SemanticTokenTypes.property}):ah(n)?r({node:n,property:"name",type:K.SemanticTokenTypes.type}):Ya(n)?(n.primitiveType||n.typeRef)&&r({node:n,property:n.primitiveType?"primitiveType":"typeRef",type:K.SemanticTokenTypes.type}):oT(n)?r({node:n,property:"name",type:K.SemanticTokenTypes.parameter}):rh(n)?r({node:n,property:"parameter",type:K.SemanticTokenTypes.parameter}):lt(n)?!((l=n.rule.ref)===null||l===void 0)&&l.fragment&&r({node:n,property:"rule",type:K.SemanticTokenTypes.type}):ih(n)&&r({node:n,property:"name",type:K.SemanticTokenTypes.property})}}class aR extends uT{getName(n){return mt(n)?n.feature:super.getName(n)}getNameNode(n){return mt(n)?Pa(n.$cstNode,"feature"):super.getNameNode(n)}}function ma(o){return"referenceType"in o}function Ln(o){return"elementType"in o}function Ie(o){return"types"in o}function Bh(o){if(Ie(o)){const n=[];for(const r of o.types)n.push(...Bh(r));return n}else return[o]}function Ft(o){return"value"in o}function Dt(o){return"primitive"in o}function an(o){return"string"in o}function On(o){return o&&"type"in o}function mn(o){return o&&"properties"in o}class rR{constructor(n,r){var l;this.superTypes=new Set,this.subTypes=new Set,this.typeNames=new Set,this.name=n,this.declared=(l=r?.declared)!==null&&l!==void 0?l:!1,this.dataType=r?.dataType,this.comment=r?.comment}toAstTypesString(n){const r=Br`${this.comment}`.appendNewLineIfNotEmpty().append(`export type ${this.name} = ${Qt(this.type,"AstType")};`).appendNewLine();return n&&r.appendNewLine().append(Fh(this.name)),this.dataType&&r.appendNewLine().append(iR(this)),Cc(r)}toDeclaredTypesString(n){return fT`
            type ${Wc(this.name,n)} = ${Qt(this.type,"DeclaredType")};
        `}}class Ws{get superProperties(){return this.getSuperProperties(new Set)}getSuperProperties(n){if(n.has(this.name))return[];n.add(this.name);const r=new Map;for(const l of this.properties)r.set(l.name,l);for(const l of this.interfaceSuperTypes){const s=l.getSuperProperties(n);for(const c of s)r.has(c.name)||r.set(c.name,c)}return Array.from(r.values())}get allProperties(){const n=new Map(this.superProperties.map(l=>[l.name,l]));for(const l of this.subTypes)this.getSubTypeProperties(l,n,new Set);return Array.from(n.values())}getSubTypeProperties(n,r,l){if(l.has(this.name))return;l.add(this.name);const s=mn(n)?n.properties:[];for(const c of s)r.has(c.name)||r.set(c.name,c);for(const c of n.subTypes)this.getSubTypeProperties(c,r,l)}get interfaceSuperTypes(){return Array.from(this.superTypes).filter(n=>n instanceof Ws)}constructor(n,r,l,s){this.superTypes=new Set,this.subTypes=new Set,this.containerTypes=new Set,this.typeNames=new Set,this.declared=!1,this.abstract=!1,this.properties=[],this.name=n,this.declared=r,this.abstract=l,this.comment=s}toAstTypesString(n){const r=this.interfaceSuperTypes.map(c=>c.name),l=r.length>0?qr([...r]):["langium.AstNode"],s=Br`${this.comment}`.appendNewLineIfNotEmpty().append(`export interface ${this.name} extends ${l.join(", ")} {`).appendNewLine();return s.indent(c=>{this.containerTypes.size>0&&c.append(`readonly $container: ${qr([...this.containerTypes].map(d=>d.name)).join(" | ")};`).appendNewLine(),this.typeNames.size>0&&c.append(`readonly $type: ${qr([...this.typeNames]).map(d=>`'${d}'`).join(" | ")};`).appendNewLine(),c.append(Hy(this.properties,"AstType"))}),s.append("}").appendNewLine(),n&&s.appendNewLine().append(Fh(this.name)),Cc(s)}toDeclaredTypesString(n){const r=Wc(this.name,n),l=qr(this.interfaceSuperTypes.map(s=>s.name)).join(", ");return Cc(Br`
                interface ${r}${l.length>0?` extends ${l}`:""} {
                    ${Hy(this.properties,"DeclaredType",n)}
                }
            `.appendNewLine())}}function hl(o,n){return Mn(o,n,new Map)}function Mn(o,n,r){if(o){if(!n)return!1}else return!0;const l=`${dl(o)}»${dl(n)}`;let s=r.get(l);if(s!==void 0)return s;if(r.set(l,!1),s=!1,Ie(o))s=o.types.every(c=>Mn(c,n,r));else if(Ie(n))s=n.types.some(c=>Mn(o,c,r));else if(Ft(n)&&On(n.value))Ft(o)&&On(o.value)&&n.value.name===o.value.name?s=!0:s=Mn(o,n.value.type,r);else if(ma(o))s=ma(n)&&Mn(o.referenceType,n.referenceType,r);else if(Ln(o))s=Ln(n)&&Mn(o.elementType,n.elementType,r);else if(Ft(o))if(On(o.value)){if(o.value.dataType){const c={primitive:o.value.dataType};s=Mn(c,n,r)}s||(s=Mn(o.value.type,n,r))}else Ft(n)?On(n.value)?s=Mn(o,n.value.type,r):s=Ph(o.value,n.value,new Set):s=!1;else Dt(o)?s=Dt(n)&&o.primitive===n.primitive:an(o)&&(s=Dt(n)&&n.primitive==="string"||an(n)&&n.string===o.string);return s&&r.set(l,s),s}function Ph(o,n,r){const l=o.name;if(r.has(l))return!1;if(r.add(l),o.name===n.name)return!0;for(const s of o.superTypes)if(mn(s)&&Ph(s,n,r))return!0;return!1}function dl(o){if(ma(o))return`@(${dl(o.referenceType)})}`;if(Ln(o))return o.elementType?`(${dl(o.elementType)})[]`:"unknown[]";if(Ie(o)){const n=o.types.map(r=>dl(r)).join(" | ");return o.types.length<=1?`Union<${n}>`:n}else{if(Ft(o))return`Value<${o.value.name}>`;if(Dt(o))return o.primitive;if(an(o))return`'${o.string}'`}throw new Error("Invalid type")}function Qt(o,n="AstType"){if(!o)return"unknown";if(ma(o)){const r=Qt(o.referenceType,n);return n==="AstType"?`langium.Reference<${r}>`:`@${bc(o.referenceType,r)}`}else if(Ln(o)){const r=Qt(o.elementType,n);return n==="AstType"?`Array<${r}>`:`${o.elementType?bc(o.elementType,r):"unknown"}[]`}else if(Ie(o)){const r=o.types.map(l=>bc(l,Qt(l,n)));return qr(r).join(" | ")}else{if(Ft(o))return o.value.name;if(Dt(o))return o.primitive;if(an(o)){const r=n==="AstType"?"'":'"';return`${r}${fR(o.string,r)}${r}`}}throw new Error("Invalid type")}function bc(o,n){return Ie(o)&&(n=`(${n})`),n}function Hy(o,n,r=new Set){function l(s){const c=n==="AstType"?s.name:Wc(s.name,r),d=s.optional&&!Ic(s.type),p=Qt(s.type,n);return Br`${s.comment}`.appendNewLineIfNotEmpty().append(`${c}${d?"?":""}: ${p};`)}return cT(qr(o,(s,c)=>s.name.localeCompare(c.name)),l,{appendNewLineIfNotEmpty:!0})}function Ic(o){return Ln(o)?!0:ma(o)?!1:Ie(o)?o.types.every(n=>Ic(n)):Dt(o)?o.primitive==="boolean":!1}function Fh(o){return Br`
        export const ${o} = '${o}';

        export function is${o}(item: unknown): item is ${o} {
            return reflection.isInstance(item, ${o});
        }
    `.appendNewLine()}function iR(o){switch(o.dataType){case"string":if(Nc(o.type)){const n=Array.from(o.subTypes).map(s=>s.name),r=Yh(o.type),l=Qh(o.type);if(n.length===0&&r.length===0&&l.length===0)return Ls(o.name,`typeof item === '${o.dataType}'`);{const s=lR(n,r,l);return Ls(o.name,s)}}return;case"number":case"boolean":case"bigint":return Ls(o.name,`typeof item === '${o.dataType}'`);case"Date":return Ls(o.name,"item instanceof Date");default:return}}function Nc(o){let n=!0;if(Dt(o))return o.primitive==="string";if(an(o))return!0;if(Ie(o)){for(const r of o.types)if(Ft(r))if(On(r.value)){if(!Nc(r.value.type))return!1}else return!1;else if(Dt(r)){if(r.primitive!=="string"||!r.regex)return!1}else if(Ie(r))n=Nc(r);else if(!an(r))return!1}else return!1;return n}function lR(o,n,r){const l=[...o.map(s=>`is${s}(item)`),...n.map(s=>`item === '${s}'`)];if(r.length>0){const s=r.map(c=>`${c}.test(item)`).join(" || ");l.push(`(typeof item === 'string' && (${s}))`)}return l.join(" || ")}function Wc(o,n){return n.has(o)?`^${o}`:o}function Yh(o){const n=[];if(an(o))return[o.string];if(Ie(o))for(const r of o.types)an(r)?n.push(r.string):Ie(r)&&n.push(...Yh(r));return n}function Qh(o){const n=[];if(Dt(o)&&o.primitive==="string"&&o.regex&&n.push(o.regex),Ie(o))for(const r of o.types)Dt(r)&&r.primitive==="string"&&r.regex?n.push(r.regex):Ie(r)&&n.push(...Qh(r));return n}function Ls(o,n){return Br`
        export function is${o}(item: unknown): item is ${o} {
            return ${n};
        }
    `.appendNewLine()}function qr(o,n){return Array.from(new Set(o)).sort(n)}function Xh(o,n,r,l){const s=new Set;s.add(o);const c=n.findReferences(o,{});for(const d of c){const p=r.getDocument(d.sourceUri);if(!p)continue;const m=l.getAstNode(p.parseResult.value,d.sourcePath);Yt(m)?(s.add(m),Xh(m,n,r,l).forEach(g=>s.add(g))):m&&rn(m.$container)&&s.add(m.$container)}return s}function sR(o){const n=new Set(o),r=new Ve,l=new Ve;for(const d of n){for(const p of d.superTypes)n.has(p)&&(r.add(d.name,p.name),l.add(p.name,d.name));for(const p of d.subTypes)n.has(p)&&(r.add(p.name,d.name),l.add(d.name,p.name))}const s=new Ve,c=new Ve;for(const[d,p]of Array.from(r.entriesGroupedByKey()).sort(([m],[h])=>m.localeCompare(h)))s.addAll(d,Array.from(new Set(p)));for(const[d,p]of Array.from(l.entriesGroupedByKey()).sort(([m],[h])=>m.localeCompare(h)))c.addAll(d,Array.from(new Set(p)));return{superTypes:s,subTypes:c}}function Qs(o){const n=new Set;if(Yt(o))n.add(o),o.superTypes.forEach(r=>{if(Yt(r.ref)){n.add(r.ref);const l=Qs(r.ref);for(const s of l)n.add(s)}});else if(rn(o)){const r=Vh(o.type);for(const l of r){const s=Qs(l);for(const c of s)n.add(c)}}return n}function Vh(o){var n;if(Qr(o))return o.types.flatMap(r=>Vh(r));if(Ya(o)){const r=(n=o.typeRef)===null||n===void 0?void 0:n.ref;if(rn(r)||Yt(r))return[r]}return[]}function Ly(o,n){return o.interfaces.concat(n.interfaces)}function $c(o){return o.interfaces.concat(o.unions)}function oR(o){const n=o.sort((s,c)=>s.name.localeCompare(c.name)).map(s=>({value:s,nodes:[]}));for(const s of n)s.nodes=n.filter(c=>s.value.superTypes.has(c.value.name));const r=[],l=n.filter(s=>s.nodes.length===0);for(;l.length>0;){const s=l.shift();r.includes(s)||(r.push(s),n.filter(c=>c.nodes.includes(s)).forEach(c=>l.push(c)))}return r.map(s=>s.value)}function Zh(o){return Ie(o)?o.types.some(n=>Zh(n)):Dt(o)?o.primitive==="boolean":!1}function _c(o){if(Ie(o))return o.types.flatMap(n=>_c(n));if(ma(o)){const n=o.referenceType;if(Ft(n))return[n.value.name]}else if(Ln(o))return o.elementType?_c(o.elementType):[];return[]}function uR(o){return Ks(o,new Set)}function Ks(o,n){if(n.has(o))return[];if(n.add(o),Ie(o))return o.types.flatMap(r=>Ks(r,n));if(Ft(o)){const r=o.value;return"type"in r?Ks(r.type,n):[r.name]}else if(Ln(o))return o.elementType?Ks(o.elementType,n):[];return[]}function cR(o){return wc(o,new Map)}function wc(o,n){if(n.has(o))return n.get(o);n.set(o,!0);let r=!1;if(Ie(o))r=o.types.every(l=>wc(l,n));else if(Ft(o)){const l=o.value;"type"in l?r=wc(l.type,n):r=!0}return n.set(o,r),r}function fR(o,n='"'){return n==='"'?o.replace(/"/g,'\\"'):o.replace(/'/g,"\\'")}class dR extends dT{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}findDeclaration(n){const r=n.astNode,l=lh(n);if(l&&l.feature==="feature"){if(mt(r))return this.findAssignmentDeclaration(r);if(ft(r))return this.findActionDeclaration(r)}return super.findDeclaration(n)}findReferences(n,r){var l;return ih(n)?this.findReferencesToTypeAttribute(n,(l=r.includeDeclaration)!==null&&l!==void 0?l:!1):super.findReferences(n,r)}findReferencesToTypeAttribute(n,r){const l=[],s=Ze(n,Yt);if(s){if(r){const p=this.getReferenceToSelf(n);p&&l.push(p)}const c=Xh(s,this,this.documents,this.nodeLocator),d=[];c.forEach(p=>{const m=this.findRulesWithReturnType(p);d.push(...m)}),d.forEach(p=>{const m=this.createReferencesToAttribute(p,n);l.push(...m)})}return Mt(l)}createReferencesToAttribute(n,r){const l=[];if(se(n)){const s=Vs(n.definition).find(c=>c.feature===r.name);if(s?.$cstNode){const c=this.nameProvider.getNameNode(s);c&&l.push({sourceUri:nt(s).uri,sourcePath:this.nodeLocator.getAstNodePath(s),targetUri:nt(r).uri,targetPath:this.nodeLocator.getAstNodePath(r),segment:Ga(c),local:we.equals(nt(s).uri,nt(r).uri)})}}else{if(n.feature===r.name){const c=Pa(n.$cstNode,"feature");c&&l.push({sourceUri:nt(n).uri,sourcePath:this.nodeLocator.getAstNodePath(n),targetUri:nt(r).uri,targetPath:this.nodeLocator.getAstNodePath(r),segment:Ga(c),local:we.equals(nt(n).uri,nt(r).uri)})}const s=Ze(n,se);l.push(...this.createReferencesToAttribute(s,r))}return l}findAssignmentDeclaration(n){var r;const l=Ze(n,se),s=pT(n);if(s){const c=this.findActionDeclaration(s,n.feature);if(c)return c}if(!((r=l?.returnType)===null||r===void 0)&&r.ref&&(Yt(l.returnType.ref)||rn(l.returnType.ref))){const c=Qs(l.returnType.ref);for(const d of c){const p=d.attributes.find(m=>m.name===n.feature);if(p)return p}}return n}findActionDeclaration(n,r){var l;if(!((l=n.type)===null||l===void 0)&&l.ref){const s=r??n.feature,c=Qs(n.type.ref);for(const d of c){const p=d.attributes.find(m=>m.name===s);if(p)return p}}}findRulesWithReturnType(n){const r=[],l=this.index.findAllReferences(n,this.nodeLocator.getAstNodePath(n));for(const s of l){const c=this.documents.getDocument(s.sourceUri);if(c){const d=this.nodeLocator.getAstNode(c.parseResult.value,s.sourcePath);(se(d)||ft(d))&&r.push(d)}}return r}}class pR extends Lh{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}collectLocationLinks(n,r){var l,s,c,d,p,m;if(sh(n.astNode)&&((l=lh(n))===null||l===void 0?void 0:l.feature)==="path"){const g=Pr(this.documents,n.astNode);if(g?.$document){const T=(s=this.findTargetObject(g))!==null&&s!==void 0?s:g,R=(d=(c=this.nameProvider.getNameNode(T))===null||c===void 0?void 0:c.range)!==null&&d!==void 0?d:K.Range.create(0,0,0,0),D=(m=(p=T.$cstNode)===null||p===void 0?void 0:p.range)!==null&&m!==void 0?m:K.Range.create(0,0,0,0);return[K.LocationLink.create(g.$document.uri.toString(),D,R,n.range)]}return}return super.collectLocationLinks(n,r)}findTargetObject(n){return n.isDeclared?n:Zy(n).head()}}function gl(o){return"referenceType"in o}function Xs(o){return"elementType"in o}function Ih(o){return"types"in o}function xc(o){return"value"in o}function kc(o){return"primitive"in o}function mR(o){return"string"in o}function yR(o){const n=new Map,r=new Map;for(const l of o.interfaces){const s=new Ws(l.name,l.declared,l.abstract,l.comment);n.set(l.name,s)}for(const l of o.unions){const s=new rR(l.name,{declared:l.declared,dataType:l.dataType,comment:l.comment});r.set(l.name,s)}for(const l of o.interfaces){const s=n.get(l.name);for(const c of l.superTypes){const d=n.get(c)||r.get(c);d&&s.superTypes.add(d)}for(const c of l.subTypes){const d=n.get(c)||r.get(c);d&&s.subTypes.add(d)}for(const c of l.properties){const d=hR(c,n,r);s.properties.push(d)}}for(const l of o.unions){const s=r.get(l.name);s.type=pl(l.type,s,n,r)}return{interfaces:Array.from(n.values()),unions:Array.from(r.values())}}function hR(o,n,r){const l={name:o.name,optional:o.optional,astNodes:o.astNodes,type:pl(o.type,void 0,n,r),comment:o.comment};return o.defaultValue!==void 0?l.defaultValue=o.defaultValue:Zh(l.type)?l.defaultValue=!1:Ln(l.type)&&(l.defaultValue=[]),l}function pl(o,n,r,l){if(Xs(o))return{elementType:pl(o.elementType,n,r,l)};if(gl(o))return{referenceType:pl(o.referenceType,void 0,r,l)};if(Ih(o))return{types:o.types.map(s=>pl(s,n,r,l))};if(mR(o))return{string:o.string};if(kc(o))return{primitive:o.primitive,regex:o.regex};if(xc(o)){const s=r.get(o.value)||l.get(o.value);return s?(n&&n.subTypes.add(s),{value:s}):{primitive:"unknown"}}else throw new Error("Invalid property type")}function Wh(o,n){const{union:r,array:l}=vl(o),{union:s,array:c}=vl(n),d=qy(r,s),p=qy(l,c);return p.length>0&&d.push({elementType:p.length===1?p[0]:{types:p}}),d.length===1?d[0]:{types:d}}function qy(o,n){const r=[...o];for(const l of n)gR(r,l)||r.push(l);return r}function gR(o,n){return o.some(r=>Ec(r,n))}function Ec(o,n){return Xs(o)&&Xs(n)?Ec(o.elementType,n.elementType):gl(o)&&gl(n)?Ec(o.referenceType,n.referenceType):xc(o)&&xc(n)?o.value===n.value:kc(o)&&kc(n)?o.primitive===n.primitive:!1}function vl(o){if(Ih(o)){const n=o.types.flatMap(r=>vl(r));return{union:n.map(r=>r.union).flat(),array:n.map(r=>r.array).flat()}}else return Xs(o)?{array:vl(o.elementType).union,union:[]}:{array:[],union:[o]}}class vR{constructor(n,r){this.context=n,this.root=r}getTypes(){return this.iterate(this.root,[{alt:{name:this.root.name,properties:this.root.properties,ruleCalls:this.root.ruleCalls,super:[]},current:this.root,next:this.root.children}])}iterate(n,r){const l=r.filter(s=>s.next.length===0);do{const s=this.recurse(n,r),c=[];for(const d of s)d.next.length>0?c.push(d):l.push(d);r=c}while(r.length>0);return l}recurse(n,r,l){var s;const c=[];for(const m of r){const h=m.current;if(h!==l&&h.children.length>0){const g=this.applyNext(n,m),T=this.recurse(n,g,(s=h.end)!==null&&s!==void 0?s:l);c.push(...T)}else c.push(m)}const d=new Ve;for(const m of c)d.add(m.current,m);const p=[];for(const[m,h]of d.entriesGroupedByKey())p.push(...Jc(h,m));return p}applyNext(n,r){const l=this.splitType(r.alt,r.next.length),s=[];for(let c=0;c<r.next.length;c++){const d=l[c],p=r.next[c];p.actionWithAssignment&&s.push({alt:Gy(d),current:p,next:[],comment:d.comment}),p.name!==void 0&&p.name!==d.name&&(p.actionWithAssignment?(d.properties=[],d.ruleCalls=[],d.super=[n.name],d.name=p.name):(d.super=[d.name,...d.ruleCalls],d.properties=[],d.ruleCalls=[],d.name=p.name)),d.properties.push(...p.properties),d.ruleCalls.push(...p.ruleCalls);const m={alt:d,current:p,next:p.children,comment:d.comment};m.alt.super=m.alt.super.filter(h=>h!==m.alt.name),s.push(m)}return s}splitType(n,r){const l=[];for(let s=0;s<r;s++)l.push(Gy(n));return l}getSuperTypes(n){const r=new Set;return this.collectSuperTypes(n,n,r),Array.from(r)}collectSuperTypes(n,r,l){if(r.ruleCalls.length>0){for(const s of r.ruleCalls)l.add(s);return}for(const s of r.parents)n.name===void 0?this.collectSuperTypes(s,s,l):s.name!==void 0&&s.name!==n.name?l.add(s.name):this.collectSuperTypes(n,s,l);r.parents.length===0&&r.name&&l.add(r.name)}connect(n,r){return r.parents.push(n),n.children.push(r),r}merge(...n){if(n.length===1)return n[0];if(n.length===0)throw new Error("No parts to merge");const r=ca();r.parents=n;for(const l of n)l.children.push(r);return r}hasLeafNode(n){return this.partHasLeafNode(n)}partHasLeafNode(n,r){return n.children.some(l=>l!==r)?!0:n.name?!1:n.parents.some(l=>this.partHasLeafNode(l,n))}}function TR(o){return{name:o.name,children:[],parents:[],actionWithAssignment:o.actionWithAssignment,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(Jh)}}function Gy(o){return{name:o.name,super:o.super,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(n=>Jh(n)),comment:o.comment}}function Jh(o){return{name:o.name,optional:o.optional,type:o.type,astNodes:o.astNodes,comment:o.comment}}function bR(o,n,r,l){const s=l?.documentation.CommentProvider,c=[],d={fragments:new Map};for(const g of o){const T=s?.getComment(g);c.push(...eg(d,g,l).map(R=>Object.assign(Object.assign({},R),{comment:T})))}const p=NR(c),m=$R(p),h=_R(p,m,r);for(const g of n){const T=RR(g);h.unions.push({name:g.name,declared:!1,type:T,subTypes:new Set,superTypes:new Set,dataType:g.dataType,comment:s?.getComment(g)})}return h}function RR(o){if(o.dataType&&o.dataType!=="string")return{primitive:o.dataType};let n=!1;const r=()=>(n=!0,{primitive:"unknown"}),l=Mc(o.definition,r);return n?{primitive:"string"}:l}function Mc(o,n){var r,l,s;if(o.cardinality)return n();if(nn(o))return{types:o.elements.map(c=>Mc(c,n))};if(tn(o)||pa(o))return o.elements.length!==1?n():Mc(o.elements[0],n);if(lt(o)){const c=(r=o.rule)===null||r===void 0?void 0:r.ref;if(c)if(pt(c)){let d;try{d=qc(c).toString()}catch{d=void 0}return{primitive:(s=(l=c.type)===null||l===void 0?void 0:l.name)!==null&&s!==void 0?s:"string",regex:d}}else return{value:c.name};else return n()}else if(Hn(o))return{string:o.value};return n()}function eg(o,n,r){var l;const s=ca(n),c=new vR(o,s);return n.definition&&(s.end=zc(c,c.root,n.definition,r)),Jc(c.getTypes(),(l=s.end)!==null&&l!==void 0?l:ca())}function ca(o){return{name:se(o)||ft(o)?Ka(o):o,properties:[],ruleCalls:[],children:[],parents:[],actionWithAssignment:!1}}function zc(o,n,r,l){const s=Un(r.cardinality,r);if(nn(r)){const c=[];s&&c.push(o.connect(n,ca()));for(const p of r.elements){const m=o.connect(n,ca());c.push(zc(o,m,p,l))}const d=o.merge(...c);return n.end=d,d}else if(tn(r)||pa(r)){let c=o.connect(n,ca()),d;s&&(d=o.connect(n,ca()));for(const p of r.elements)c=zc(o,c,p,l);if(d){const p=o.merge(d,c);return n.end=p,p}else return c}else{if(ft(r))return SR(o,n,r,l);mt(r)?DR(n,r,l):lt(r)&&CR(o,n,r,l)}return n}function SR(o,n,r,l){var s;const c=l?.documentation.CommentProvider;if(!o.hasLeafNode(n)){const p=TR(n);o.connect(n,p)}const d=o.connect(n,ca(r));if(r.type){const p=(s=r.type)===null||s===void 0?void 0:s.ref;p&&eh(p)&&(d.name=p.name)}return r.feature&&r.operator&&(d.actionWithAssignment=!0,d.properties.push({name:r.feature,optional:!1,type:ja(r.operator==="+=",!1,o.root.ruleCalls.length!==0?o.root.ruleCalls:o.getSuperTypes(d)),astNodes:new Set([r]),comment:c?.getComment(r)})),d}function DR(o,n,r){const l=r?.documentation.CommentProvider,s={types:new Set,reference:!1};tg(n.terminal,s);const c=ja(n.operator==="+=",s.reference,n.operator==="?="?["boolean"]:Array.from(s.types));o.properties.push({name:n.feature,optional:Un(n.cardinality),type:c,astNodes:new Set([n]),comment:l?.getComment(n)})}function tg(o,n){if(nn(o)||pa(o)||tn(o))for(const r of o.elements)tg(r,n);else if(Hn(o))n.types.add(`'${o.value}'`);else if(lt(o)&&o.rule.ref)n.types.add(Gc(o.rule.ref));else if(Ba(o)&&o.type.ref){const r=Ka(o.type.ref);r&&n.types.add(r),n.reference=!0}}function CR(o,n,r,l){const s=r.rule.ref;if(se(s)&&s.fragment){const c=AR(s,o.context,l);Un(r.cardinality)?n.properties.push(...c.map(d=>Object.assign(Object.assign({},d),{optional:!0}))):n.properties.push(...c)}else se(s)&&n.ruleCalls.push(Gc(s))}function AR(o,n,r){const l=n.fragments.get(o);if(l)return l;const s=[];n.fragments.set(o,s);const c=Ka(o),d=eg(n,o,r).filter(p=>p.alt.name===c);return s.push(...d.flatMap(p=>p.alt.properties)),s}function NR(o){const n=new Map,r=[],l=o.length>0?Jc(o,o[0].current).map(s=>s.alt):[];for(const s of l){const c={name:s.name,properties:s.properties,superTypes:new Set(s.super),subTypes:new Set,declared:!1,abstract:!1,comment:s.comment};n.set(c.name,c),s.ruleCalls.length>0&&(r.push(s),s.ruleCalls.forEach(d=>{d!==c.name&&c.subTypes.add(d)}))}for(const s of r)for(const c of s.ruleCalls){const d=n.get(c);d&&d.name!==s.name&&d.superTypes.add(s.name)}return Array.from(n.values())}function Jc(o,n){var r,l,s;const c=o.reduce((p,m)=>p.add(m.alt.name,m),new Ve),d=[];for(const[p,m]of c.entriesGroupedByKey()){const h=[],g=new Set,T={alt:{name:p,properties:h,ruleCalls:[],super:[]},next:[],current:n};for(const R of m){const D=R.alt;(r=T.comment)!==null&&r!==void 0||(T.comment=R.comment),(l=(s=T.alt).comment)!==null&&l!==void 0||(s.comment=R.comment),T.alt.super.push(...D.super),T.next.push(...R.next);const H=D.properties;for(const B of H){const q=h.find(P=>P.name===B.name);q?(q.type=Wh(q.type,B.type),B.astNodes.forEach(P=>q.astNodes.add(P))):h.push(Object.assign({},B))}D.ruleCalls.forEach(B=>g.add(B))}for(const R of m){T.next=Array.from(new Set(T.next));const D=R.alt;if(D.ruleCalls.length===0)for(const H of h)D.properties.find(B=>B.name===H.name)||(H.optional=!0)}T.alt.ruleCalls=Array.from(g),d.push(T)}return d}function $R(o){const n=new Map(o.map(s=>[s.name,s])),r=[],l=new Ve;for(const s of o)for(const c of s.superTypes)l.add(c,s.name);for(const[s,c]of l.entriesGroupedByKey())if(!n.has(s)){const d={declared:!1,name:s,subTypes:new Set,superTypes:new Set,type:ja(!1,!1,c)};r.push(d)}return r}function _R(o,n,r){const l=new Ve;for(const p of o)for(const m of p.superTypes)l.add(m,p.name);const s=new Set(r.interfaces.map(p=>p.name)),c={interfaces:[],unions:n},d=new Map(n.map(p=>[p.name,p]));for(const p of o){const m=new Set(l.get(p.name));if(p.properties.length===0&&m.size>0)if(s.has(p.name))p.abstract=!0,c.interfaces.push(p);else{const h=ja(!1,!1,Array.from(m)),g=d.get(p.name);if(g)g.type=Wh(g.type,h);else{const T={name:p.name,declared:!1,subTypes:m,superTypes:p.superTypes,type:h,comment:p.comment};c.unions.push(T),d.set(p.name,T)}}else c.interfaces.push(p)}for(const p of c.interfaces)p.superTypes=new Set([...p.superTypes].filter(m=>!d.has(m)));return c}function ja(o,n,r){if(o)return{elementType:ja(!1,n,r)};if(n)return{referenceType:ja(!1,!1,r)};if(r.length===1){const l=r[0];return l.startsWith("'")?{string:l.substring(1,l.length-1)}:ef(l)?{primitive:l}:{value:l}}else return{types:r.map(l=>ja(!1,!1,[l]))}}function wR(o,n,r){const l=r?.documentation.CommentProvider,s={unions:[],interfaces:[]};for(const c of o){const d=[];for(const h of c.attributes){const g={name:h.name,optional:h.isOptional,astNodes:new Set([h]),type:Kr(h.type),comment:l?.getComment(h)};h.defaultValue&&(g.defaultValue=ng(h.defaultValue)),d.push(g)}const p=new Set;for(const h of c.superTypes)h.ref&&p.add(Lc(h.ref));const m={name:c.name,declared:!0,abstract:!1,properties:d,superTypes:p,subTypes:new Set,comment:l?.getComment(c)};s.interfaces.push(m)}for(const c of n){const d={name:c.name,declared:!0,type:Kr(c.type),superTypes:new Set,subTypes:new Set,comment:l?.getComment(c)};s.unions.push(d)}return s}function ng(o){return oh(o)?o.true:uh(o)?o.elements.map(ng):o.value}function Kr(o){if(jc(o))return{elementType:Kr(o.elementType)};if(Kc(o))return{referenceType:Kr(o.referenceType)};if(Qr(o))return{types:o.types.map(Kr)};if(Ya(o)){let n;if(o.primitiveType)return n=o.primitiveType,{primitive:n};if(o.stringType)return n=o.stringType,{string:n};if(o.typeRef){const r=o.typeRef.ref,l=Ka(r);if(l)return ef(l)?{primitive:l}:{value:l}}}return{primitive:"unknown"}}function ag(o,n){const r=rg(o,void 0,void 0,n),l=wR(r.interfaces,r.types,n),s=bR(r.parserRules,r.datatypeRules,l,n);return{astResources:r,inferred:s,declared:l}}function rg(o,n=new Set,r={parserRules:[],datatypeRules:[],interfaces:[],types:[]},l){Array.isArray(o)||(o=[o]);for(const s of o){const c=nt(s);if(n.has(c.uri))continue;n.add(c.uri);for(const p of s.rules)se(p)&&!p.fragment&&(En(p)?r.datatypeRules.push(p):r.parserRules.push(p));s.interfaces.forEach(p=>r.interfaces.push(p)),s.types.forEach(p=>r.types.push(p));const d=l?.shared.workspace.LangiumDocuments;if(d){const p=s.imports.map(m=>Pr(d,m)).filter(m=>m!==void 0);rg(p,n,r,l)}}return r}function xR(o,n){const{inferred:r,declared:l}=ag(o,n);return Oc(r,l)}function kR(o,n){const{inferred:r,declared:l,astResources:s}=ag(o,n);return{astResources:s,inferred:Oc(l,r),declared:Oc(r,l)}}function Oc(o,n){var r,l;const s={interfaces:oR(jy(...o.interfaces,...(r=n?.interfaces)!==null&&r!==void 0?r:[])),unions:jy(...o.unions,...(l=n?.unions)!==null&&l!==void 0?l:[])},c=yR(s);return ER(c),c}function jy(...o){return Array.from(o.reduce((n,r)=>(n.set(r.name,r),n),new Map).values()).sort((n,r)=>n.name.localeCompare(r.name))}function ER(o){const n=zR(o),r=Array.from(n.values());OR(r),UR(o.interfaces),MR(r)}function MR(o){const n=new Set,r=l=>{if(!n.has(l)){n.add(l),l.typeNames.add(l.name);for(const s of l.subTypes)r(s),s.typeNames.forEach(c=>l.typeNames.add(c))}};o.forEach(r)}function zR({interfaces:o,unions:n}){const r=o.concat(n).reduce((s,c)=>(s.set(c.name,c),s),new Map),l=new Map;for(const s of n)l.set(s,Uc(s.type,new Set));for(const[s,c]of l)c&&r.delete(s.name);return r}function Uc(o,n){if(n.has(o))return!0;if(n.add(o),Ie(o))return o.types.every(r=>Uc(r,n));if(Ft(o)){const r=o.value;return On(r)?Uc(r.type,n):!1}else return Dt(o)||an(o)}function OR(o){for(const n of o)for(const r of n.superTypes)r.subTypes.add(n)}function UR(o){var n;const r=o.reduce((d,p)=>(d.set(p.name,p),d),new Map);for(const d of o){const p=d.properties.flatMap(m=>uR(m.type));for(const m of p)(n=r.get(m))===null||n===void 0||n.containerTypes.add(d)}const l=new Set,s=o.filter(d=>d.subTypes.size===0),c=new Set(s);for(;s.length>0;){const d=s.shift();if(d)for(const p of d.superTypes)mn(p)&&(d.containerTypes.size===0?(l.add(p.name),p.containerTypes.clear()):l.has(p.name)||d.containerTypes.forEach(m=>p.containerTypes.add(m)),c.has(p)||(c.add(p),s.push(p)))}}class HR{constructor(n){this.services=n}collectValidationResources(n){try{const r=kR(n,this.services);return{typeToValidationInfo:this.collectValidationInfo(r),typeToSuperProperties:this.collectSuperProperties(r)}}catch(r){return console.error("Error collecting validation resources",r),{typeToValidationInfo:new Map,typeToSuperProperties:new Map}}}collectValidationInfo({astResources:n,inferred:r,declared:l}){const s=new Map,c=LR(n);for(const p of $c(r))s.set(p.name,{inferred:p,inferredNodes:c.get(p.name)});const d=Mt(n.interfaces).concat(n.types).reduce((p,m)=>p.set(m.name,m),new Map);for(const p of $c(l)){const m=d.get(p.name);if(m){const h=s.get(p.name);s.set(p.name,Object.assign(Object.assign({},h??{}),{declared:p,declaredNode:m}))}}return s}collectSuperProperties({inferred:n,declared:r}){const l=new Map,s=Ly(n,r),c=new Map(s.map(d=>[d.name,d]));for(const d of Ly(n,r))l.set(d.name,this.addSuperProperties(d,c,new Set));return l}addSuperProperties(n,r,l){if(l.has(n.name))return[];l.add(n.name);const s=[...n.properties];for(const c of n.superTypes){const d=r.get(c.name);d&&s.push(...this.addSuperProperties(d,r,l))}return s}}function LR({parserRules:o,datatypeRules:n}){const r=new Ve;Mt(o).concat(n).forEach(s=>r.add(Gc(s),s));function l(s){if(ft(s)){const c=mT(s);c&&r.add(c,s)}(nn(s)||tn(s)||pa(s))&&s.elements.forEach(c=>l(c))}return o.forEach(s=>l(s.definition)),r}function ig(o){return o&&"declared"in o}function qR(o){return o&&"inferred"in o}function GR(o){return o&&"inferred"in o&&"declared"in o}function jR(o){const n=o.validation.ValidationRegistry,r=o.validation.LangiumGrammarTypesValidator,l={Action:[r.checkActionIsNotUnionType],Grammar:[r.checkDeclaredTypesConsistency,r.checkDeclaredAndInferredTypesConsistency,r.checkAttributeDefaultValue],Interface:[r.checkCyclicInterface],Type:[r.checkCyclicType]};n.register(l,r)}class KR{checkAttributeDefaultValue(n,r){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of n.interfaces){const d=BR(s,c);for(const[p,m]of d){const h=lg(p.defaultValue);h&&!hl(h,m.type)&&r("error",`Cannot assign default value of type '${Qt(h,"DeclaredType")}' to type '${Qt(m.type,"DeclaredType")}'.`,{node:p,property:"defaultValue"})}}}checkCyclicType(n,r){ua(n,new Set)&&r("error",`Type alias '${n.name}' circularly references itself.`,{node:n,property:"name"})}checkCyclicInterface(n,r){ua(n,new Set)&&r("error",`Type '${n.name}' recursively references itself as a base type.`,{node:n,property:"name"})}checkDeclaredTypesConsistency(n,r){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s){for(const c of s.typeToValidationInfo.values())if(ig(c)&&mn(c.declared)&&Yt(c.declaredNode)){const d=c;YR(d,r),QR(d,r)}}}checkDeclaredAndInferredTypesConsistency(n,r){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of s.typeToValidationInfo.values())qR(c)&&c.inferred instanceof Ws&&FR(c.inferred,r),GR(c)&&ZR(c,s,r)}checkActionIsNotUnionType(n,r){rn(n.type)&&r("error","Actions cannot create union types.",{node:n,property:"type"})}}function BR(o,n){const r=[],l=o.typeToValidationInfo.get(n.name);if(l&&ig(l)&&mn(l.declared))for(const s of n.attributes.filter(c=>c.defaultValue)){const c=l.declared.properties.find(d=>d.name===s.name);c&&r.push([s,c])}return r}function lg(o){return oh(o)?{primitive:"boolean"}:yT(o)?{primitive:"number"}:hT(o)?{string:o.value}:uh(o)?{elementType:PR(o)}:void 0}function PR(o){if(o.elements.length===0)return;const n=[];for(const r of o.elements){const l=lg(r);l&&(Dt(l)?n.some(s=>Dt(s)&&s.primitive===l.primitive)||n.push(l):an(l)&&n.some(s=>an(s)&&s.string===l.string)||n.push(l))}if(n.length!==0)return n.length===1?n[0]:{types:n}}function ua(o,n){var r;if(n.has(o))return!0;if(n.add(o),rn(o))return ua(o.type,n);if(Yt(o))return o.superTypes.some(l=>l.ref&&ua(l.ref,new Set(n)));if(Ya(o)){if(!((r=o.typeRef)===null||r===void 0)&&r.ref)return ua(o.typeRef.ref,n)}else{if(Kc(o))return ua(o.referenceType,n);if(jc(o))return ua(o.elementType,n);if(Qr(o))return o.types.some(l=>ua(l,new Set(n)))}return!1}function FR(o,n){o.properties.forEach(r=>{var l;const s=Bh(r.type);if(s.length>1){const c=p=>ma(p)?"ref":"other",d=c(s[0]);if(s.slice(1).some(p=>c(p)!==d)){const p=(l=r.astNodes.values().next())===null||l===void 0?void 0:l.value;p&&n("error",`Mixing a cross-reference with other types is not supported. Consider splitting property "${r.name}" into two or more different properties.`,{node:p})}}})}function YR({declared:o,declaredNode:n},r){Array.from(o.superTypes).forEach((l,s)=>{l&&(On(l)&&r("error","Interfaces cannot extend union types.",{node:n,property:"superTypes",index:s}),l.declared||r("error","Extending an inferred type is discouraged.",{node:n,property:"superTypes",index:s}))})}function QR({declared:o,declaredNode:n},r){const l=o.properties.reduce((d,p)=>d.add(p.name,p),new Ve);for(const[d,p]of l.entriesGroupedByKey())if(p.length>1)for(const m of p)r("error",`Cannot have two properties with the same name '${d}'.`,{node:Array.from(m.astNodes)[0],property:"name"});const s=Array.from(o.superTypes);for(let d=0;d<s.length;d++)for(let p=d+1;p<s.length;p++){const m=s[d],h=s[p],g=mn(m)?m.superProperties:[],T=mn(h)?h.superProperties:[],R=XR(g,T);R.length>0&&r("error",`Cannot simultaneously inherit from '${m}' and '${h}'. Their ${R.map(D=>"'"+D+"'").join(", ")} properties are not identical.`,{node:n,property:"name"})}const c=new Set;for(const d of s){const p=mn(d)?d.superProperties:[];for(const m of p)c.add(m.name)}for(const d of o.properties)if(c.has(d.name)){const p=n.attributes.find(m=>m.name===d.name);p&&r("error",`Cannot redeclare property '${d.name}'. It is already inherited from another interface.`,{node:p,property:"name"})}}function XR(o,n){const r=[];for(const l of o){const s=n.find(c=>c.name===l.name);s&&!VR(l,s)&&r.push(l.name)}return r}function VR(o,n){return hl(o.type,n.type)&&hl(n.type,o.type)}function ZR(o,n,r){const{inferred:l,declared:s,declaredNode:c,inferredNodes:d}=o,p=s.name,m=T=>R=>d.forEach(D=>r("error",`${R}${T?` ${T}`:""}.`,D?.inferredType?{node:D?.inferredType,property:"name"}:{node:D,property:ft(D)?"type":"name"})),h=(T,R)=>T.forEach(D=>r("error",R,{node:D,property:mt(D)||ft(D)?"feature":"name"})),g=T=>{d.forEach(R=>{se(R)&&Vs(R.definition).find(H=>H.feature===T)===void 0&&r("error",`Property '${T}' is missing in a rule '${R.name}', but is required in type '${p}'.`,{node:R,property:"parameters"})})};if(On(l)&&On(s))IR(l.type,s.type,m(`in a rule that returns type '${p}'`));else if(mn(l)&&mn(s))WR(l,s,n,m(`in a rule that returns type '${p}'`),h,g);else{const T=`Inferred and declared versions of type '${p}' both have to be interfaces or unions.`;m()(T),r("error",T,{node:c,property:"name"})}}function IR(o,n,r){hl(o,n)||r(`Cannot assign type '${Qt(o,"DeclaredType")}' to '${Qt(n,"DeclaredType")}'`)}function Ky(o){return o.optional||Ic(o.type)}function WR(o,n,r,l,s,c){const d=new Set(o.properties.map(T=>T.name)),p=new Map(o.allProperties.map(T=>[T.name,T])),m=new Map(n.superProperties.map(T=>[T.name,T])),h=T=>{if(Ie(T))return{types:T.types.map(R=>h(R))};if(ma(T))return{referenceType:h(T.referenceType)};if(Ln(T))return{elementType:T.elementType&&h(T.elementType)};if(Ft(T)){const R=r.typeToValidationInfo.get(T.value.name);return R?{value:"declared"in R?R.declared:R.inferred}:T}return T};for(const[T,R]of p.entries()){const D=m.get(T);if(D){const H=Qt(R.type,"DeclaredType"),B=Qt(D.type,"DeclaredType");if(!hl(h(R.type),D.type)&&B!=="unknown"){const P=`The assigned type '${H}' is not compatible with the declared property '${T}' of type '${B}'.`;s(R.astNodes,P)}R.optional&&!Ky(D)&&c(T)}else d.has(T)&&s(R.astNodes,`A property '${T}' is not expected.`)}const g=new Set;for(const[T,R]of m.entries())!p.get(T)&&!Ky(R)&&R.defaultValue===void 0&&g.add(T);if(g.size>0){const T=g.size>1?"Properties":"A property",R=g.size>1?"are expected":"is expected",D=Array.from(g).map(H=>`'${H}'`).sort().join(", ");l(`${T} ${D} ${R}.`)}}const JR={validation:{LangiumGrammarValidator:o=>new dS(o),ValidationResourcesCollector:o=>new HR(o),LangiumGrammarTypesValidator:()=>new KR},lsp:{FoldingRangeProvider:o=>new Wb(o),CodeActionProvider:o=>new mS(o),SemanticTokenProvider:o=>new nR(o),Formatter:()=>new tR,DefinitionProvider:o=>new pR(o),CallHierarchyProvider:o=>new Tb(o),TypeHierarchyProvider:o=>new Rb(o),CompletionProvider:o=>new Ib(o)},references:{ScopeComputation:o=>new Zb(o),ScopeProvider:o=>new Vb(o),References:o=>new dR(o),NameProvider:()=>new aR}};function eS(o,n,r){const l=Ps(Kh(o),tb,n),s=Ps(jh({shared:l}),nb,JR,r);return tS(l,s),l.ServiceRegistry.register(s),fS(s),jR(s),o.connection||l.workspace.ConfigurationProvider.initialized({}),{shared:l,grammar:s}}function tS(o,n){o.workspace.DocumentBuilder.onDocumentPhase(gT.IndexedReferences,async l=>{const s=n.validation.ValidationResourcesCollector,c=l.parseResult.value;l.validationResources=s.collectValidationResources(c)})}function nS(o,n){let r;yl(o)?r=xR(o,n):r=o;const l=r.interfaces.map(p=>p.name).concat(r.unions.filter(p=>cR(p.type)).map(p=>p.name)),s=rS(r),c=iS(r),d=sR($c(r)).superTypes;return new aS({allTypes:l,references:s,metaData:c,superTypes:d})}class aS extends vT{constructor(n){super(),this.allTypes=n.allTypes,this.references=n.references,this.metaData=n.metaData,this.superTypes=n.superTypes}getAllTypes(){return this.allTypes}getReferenceType(n){const r=`${n.container.$type}:${n.property}`,l=this.references.get(r);if(l)return l;throw new Error("Could not find reference type for "+r)}getTypeMetaData(n){var r;return(r=this.metaData.get(n))!==null&&r!==void 0?r:{name:n,properties:[]}}computeIsSubtype(n,r){const l=this.superTypes.get(n);for(const s of l)if(this.isSubtype(s,r))return!0;return!1}}function rS(o){const n=new Ve;for(const l of o.interfaces){for(const s of l.properties)for(const c of _c(s.type))n.add(l.name,[s.name,c]);for(const s of l.interfaceSuperTypes){const c=n.get(s.name);n.addAll(l.name,c)}}const r=new Map;for(const[l,[s,c]]of n)r.set(`${l}:${s}`,c);return r}function iS(o){const n=new Map;for(const r of o.interfaces){const l=r.superProperties;n.set(r.name,{name:r.name,properties:lS(l)})}return n}function lS(o){const n=[],r=o.sort((l,s)=>l.name.localeCompare(s.name));for(const l of r){const s={name:l.name,defaultValue:l.defaultValue};n.push(s)}return n}function sS(o){var n;const r=(n=o.returnType)===null||n===void 0?void 0:n.ref;return o.dataType!==void 0||rn(r)&&TT(r)}function oS(o){return cl(o,new Set)}function cl(o,n){var r,l;if(n.has(o))return!0;if(n.add(o),se(o)){if(o.dataType)return o.dataType==="string";if(!((r=o.returnType)===null||r===void 0)&&r.ref)return cl(o.returnType.ref,n)}else{if(rn(o))return cl(o.type,n);if(jc(o))return!1;if(Kc(o))return!1;if(Qr(o))return o.types.every(s=>cl(s,n));if(Ya(o)){if(o.primitiveType==="string")return!0;if(o.stringType)return!0;if(!((l=o.typeRef)===null||l===void 0)&&l.ref)return cl(o.typeRef.ref,n)}}return!1}function Ka(o){if(o)try{return Lc(o)}catch{return}}function sg(o){if(o.path===void 0||o.path.length===0)return;const n=we.dirname(nt(o).uri);let r=o.path;return r.endsWith(".langium")||(r+=".langium"),we.resolvePath(n,r)}function Pr(o,n){const r=sg(n);if(!r)return;const l=o.getDocument(r);if(!l)return;const s=l.parseResult.value;if(yl(s))return s}function qs(o,n){if(sh(n)){const r=Pr(o,n);if(r){const l=Hc(o,r);return l.push(r),l}return[]}else return Hc(o,n)}function Hc(o,n,r=n,l=new Set,s=new Set){const c=nt(n);if(r!==n&&s.add(n),!l.has(c.uri)){l.add(c.uri);for(const d of n.imports){const p=Pr(o,d);p&&Hc(o,p,r,l,s)}}return Array.from(s)}function Vs(o){return mt(o)?[o]:nn(o)||tn(o)||pa(o)?o.elements.flatMap(n=>Vs(n)):lt(o)&&o.rule.ref?Vs(o.rule.ref.definition):[]}const uS=["string","number","boolean","Date","bigint"];function ef(o){return uS.includes(o)}async function cS(o){var n,r,l,s,c,d;const p=(n=o.grammarServices)!==null&&n!==void 0?n:eS(ey).grammar,m=fa.parse("memory:///grammar.langium"),h=p.shared.workspace.LangiumDocumentFactory,g=typeof o.grammar=="string"?h.fromString(o.grammar,m):nt(o.grammar),T=g.parseResult.value;await p.shared.workspace.DocumentBuilder.build([g],{validation:!1});const D=(r=o.parserConfig)!==null&&r!==void 0?r:{skipValidations:!1},H=(l=o.languageMetaData)!==null&&l!==void 0?l:{caseInsensitive:!1,fileExtensions:[`.${(c=(s=T.name)===null||s===void 0?void 0:s.toLowerCase())!==null&&c!==void 0?c:"unknown"}`],languageId:(d=T.name)!==null&&d!==void 0?d:"UNKNOWN",mode:"development"},B={AstReflection:()=>nS(T)},q={Grammar:()=>T,LanguageMetaData:()=>H,parser:{ParserConfig:()=>D}},P=Ps(Kh(ey),B,o.sharedModule),j=Ps(jh({shared:P}),q,o.module);return P.ServiceRegistry.register(j),j}function fS(o){const n=o.validation.ValidationRegistry,r=o.validation.LangiumGrammarValidator,l={Action:[r.checkAssignmentReservedName],AbstractRule:r.checkRuleName,Assignment:[r.checkAssignmentWithFeatureName,r.checkAssignmentToFragmentRule,r.checkAssignmentTypes,r.checkAssignmentReservedName],ParserRule:[r.checkParserRuleDataType,r.checkRuleParametersUsed,r.checkEmptyParserRule,r.checkParserRuleReservedName,r.checkOperatorMultiplicitiesForMultiAssignments],TerminalRule:[r.checkTerminalRuleReturnType,r.checkHiddenTerminalRule,r.checkEmptyTerminalRule],InferredType:r.checkTypeReservedName,Keyword:r.checkKeyword,UnorderedGroup:r.checkUnorderedGroup,Grammar:[r.checkGrammarName,r.checkEntryGrammarRule,r.checkUniqueRuleName,r.checkUniqueTypeName,r.checkUniqueImportedRules,r.checkDuplicateImportedGrammar,r.checkGrammarHiddenTokens,r.checkGrammarForUnusedRules,r.checkGrammarTypeInfer,r.checkClashingTerminalNames],GrammarImport:r.checkPackageImport,CharacterRange:r.checkInvalidCharacterRange,Interface:[r.checkTypeReservedName,r.checkInterfacePropertyTypes],Type:[r.checkTypeReservedName],TypeAttribute:r.checkTypeReservedName,RuleCall:[r.checkUsedHiddenTerminalRule,r.checkUsedFragmentTerminalRule,r.checkRuleCallParameters,r.checkMultiRuleCallsAreAssigned],TerminalRuleCall:r.checkUsedHiddenTerminalRule,CrossReference:[r.checkCrossReferenceSyntax,r.checkCrossRefNameAssignment,r.checkCrossRefTerminalType,r.checkCrossRefType,r.checkCrossReferenceToTypeUnion],SimpleType:r.checkFragmentsInTypes,ReferenceType:r.checkReferenceTypeUnion,RegexToken:[r.checkInvalidRegexFlags,r.checkDirectlyUsedRegexFlags]};n.register(l,r)}var Se;(function(o){o.GrammarNameUppercase="grammar-name-uppercase",o.RuleNameUppercase="rule-name-uppercase",o.HiddenGrammarTokens="hidden-grammar-tokens",o.UseRegexTokens="use-regex-tokens",o.EntryRuleTokenSyntax="entry-rule-token-syntax",o.CrossRefTokenSyntax="cross-ref-token-syntax",o.ParserRuleToTypeDecl="parser-rule-to-type-decl",o.UnnecessaryFileExtension="unnecessary-file-extension",o.InvalidReturns="invalid-returns",o.InvalidInfers="invalid-infers",o.MissingInfer="missing-infer",o.MissingReturns="missing-returns",o.SuperfluousInfer="superfluous-infer",o.OptionalUnorderedGroup="optional-unordered-group",o.ParsingRuleEmpty="parsing-rule-empty"})(Se||(Se={}));class dS{constructor(n){this.references=n.references.References,this.nodeLocator=n.workspace.AstNodeLocator,this.documents=n.shared.workspace.LangiumDocuments}checkGrammarName(n,r){if(n.name){const l=n.name.substring(0,1);l.toUpperCase()!==l&&r("warning","Grammar name should start with an upper case letter.",{node:n,property:"name",data:pn(Se.GrammarNameUppercase)})}}checkEntryGrammarRule(n,r){if(n.isDeclared&&!n.name)return;const l=n.rules.filter(s=>se(s)&&s.entry);if(n.isDeclared&&l.length===0){const s=n.rules.find(c=>se(c)&&!En(c));s?r("error","The grammar is missing an entry parser rule. This rule can be an entry one.",{node:s,property:"name",data:pn(Se.EntryRuleTokenSyntax)}):r("error","This grammar is missing an entry parser rule.",{node:n,property:"name"})}else!n.isDeclared&&l.length>=1?l.forEach(s=>r("error","Cannot declare entry rules for unnamed grammars.",{node:s,property:"name"})):l.length>1?l.forEach(s=>r("error","The entry rule has to be unique.",{node:s,property:"name"})):l.length===1&&En(l[0])&&r("error","The entry rule cannot be a data type rule.",{node:l[0],property:"name"})}checkUniqueRuleName(n,r){const l=s=>Mt(s.rules).filter(c=>!ul(c));this.checkUniqueName(n,r,l,"rule")}checkUniqueTypeName(n,r){const l=s=>Mt(s.types).concat(s.interfaces);this.checkUniqueName(n,r,l,"type")}checkUniqueName(n,r,l,s){const c=new Ve;l(n).forEach(m=>c.add(m.name,m));for(const[,m]of c.entriesGroupedByKey())m.length>1&&m.forEach(h=>{r("error",`A ${s}'s name has to be unique.`,{node:h,property:"name"})});const d=new Set,p=qs(this.documents,n);for(const m of p)l(m).forEach(h=>d.add(h.name));for(const m of c.keys())d.has(m)&&c.get(m).forEach(g=>{r("error",`A ${s} with the name '${g.name}' already exists in an imported grammar.`,{node:g,property:"name"})})}checkDuplicateImportedGrammar(n,r){const l=new Ve;for(const s of n.imports){const c=Pr(this.documents,s);c&&l.add(c,s)}for(const[,s]of l.entriesGroupedByKey())s.length>1&&s.forEach((c,d)=>{d>0&&r("warning","The grammar is already being directly imported.",{node:c,tags:[fc.Unnecessary]})})}checkUniqueImportedRules(n,r){const l=new Map;for(const c of n.imports){const d=qs(this.documents,c);l.set(c,d)}const s=new Ve;for(const c of n.imports){const d=l.get(c);for(const p of n.imports){if(c===p)continue;const m=l.get(p),h=this.getDuplicateExportedRules(d,m);for(const g of h)s.add(c,g)}}for(const c of n.imports){const d=s.get(c);d.length>0&&r("error","Some rules exported by this grammar are also included in other imports: "+Mt(d).distinct().join(", "),{node:c,property:"path"})}}getDuplicateExportedRules(n,r){const s=n.filter(p=>!r.includes(p)).flatMap(p=>p.rules),c=r.flatMap(p=>p.rules),d=new Set;for(const p of s){const m=p.name;for(const h of c){const g=h.name;m===g&&d.add(h.name)}}return d}checkGrammarTypeInfer(n,r){var l,s,c;const d=new Set;for(const m of n.types)d.add(m.name);for(const m of n.interfaces)d.add(m.name);for(const m of qs(this.documents,n))m.types.forEach(h=>d.add(h.name)),m.interfaces.forEach(h=>d.add(h.name));for(const m of n.rules.filter(se)){if(ul(m))continue;const h=En(m),g=!m.returnType&&!m.dataType,T=Ka(m);if(!h&&T&&d.has(T)===g){if((g||((l=m.returnType)===null||l===void 0?void 0:l.ref)!==void 0)&&m.inferredType===void 0)r("error",p(T,g),{node:m,property:"name",data:pn(Se.MissingReturns)});else if(g||((s=m.returnType)===null||s===void 0?void 0:s.ref)!==void 0){const R=La(m.inferredType.$cstNode,"infers");r("error",p(T,g),{node:m.inferredType,property:"name",data:{code:Se.InvalidInfers,actionSegment:Ga(R)}})}}else if(h&&g){const R=La(m.$cstNode,"infer");r("error","Data type rules cannot infer a type.",{node:m,property:"inferredType",data:{code:Se.InvalidInfers,actionSegment:Ga(R)}})}}for(const m of zn(n).filter(ft)){const h=this.getActionType(m);if(h){const g=!!m.inferredType,T=Ka(m);if(m.type&&T&&d.has(T)===g){const R=g?La(m.$cstNode,"infer"):La(m.$cstNode,"{");r("error",p(T,g),{node:m,property:"type",data:{code:g?Se.SuperfluousInfer:Se.MissingInfer,actionSegment:Ga(R)}})}else if(h&&T&&d.has(T)&&g&&m.$cstNode){const R=Pa((c=m.inferredType)===null||c===void 0?void 0:c.$cstNode,"name"),D=La(m.$cstNode,"{");R&&D&&r("error",`${T} is a declared type and cannot be redefined.`,{node:m,property:"type",data:{code:Se.SuperfluousInfer,actionRange:{start:D.range.end,end:R.range.start}}})}}}function p(m,h){return h?`The type '${m}' is already explicitly declared and cannot be inferred.`:`The type '${m}' is not explicitly declared and must be inferred.`}}getActionType(n){var r;if(n.type)return(r=n.type)===null||r===void 0?void 0:r.ref;if(n.inferredType)return n.inferredType}checkGrammarHiddenTokens(n,r){n.definesHiddenTokens&&r("error","Hidden terminals are declared at the terminal definition.",{node:n,property:"definesHiddenTokens",data:pn(Se.HiddenGrammarTokens)})}checkHiddenTerminalRule(n,r){n.hidden&&n.fragment&&r("error","Cannot use terminal fragments as hidden tokens.",{node:n,property:"hidden"})}checkEmptyTerminalRule(n,r){try{const l=qc(n);new RegExp(l).test("")&&r("error","This terminal could match an empty string.",{node:n,property:"name"})}catch{}}checkEmptyParserRule(n,r){if(!n.definition||n.entry||n.fragment)return;const l=s=>{var c;return s.cardinality==="?"||s.cardinality==="*"||ft(s)||pa(s)?!1:tn(s)?s.elements.some(l):nn(s)?s.elements.every(l):lt(s)&&(!((c=s.rule.ref)===null||c===void 0)&&c.definition)?l(s.rule.ref.definition):!0};l(n.definition)||r("warning","This parser rule potentially consumes no input.",{node:n,property:"name",code:Se.ParsingRuleEmpty})}checkInvalidRegexFlags(n,r){const l=n.regex;if(l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d="gmy",m=d+"isu",h=new Set,g=new Set;for(let R=0;R<c.length;R++){const D=c.charAt(R);m.includes(D)?d.includes(D)&&g.add(D):h.add(D)}const T=this.getFlagRange(n);T&&(h.size>0?r("error",`'${Array.from(h).join("")}' ${h.size>1?"are":"is"} not valid regular expression flag${h.size>1?"s":""}.`,{node:n,range:T}):g.size>0&&r("warning",`'${Array.from(g).join("")}' regular expression flag${g.size>1?"s":""} will be ignored by Langium.`,{node:n,range:T}))}}checkDirectlyUsedRegexFlags(n,r){const l=n.regex;if(!pt(n.$container)&&l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d=this.getFlagRange(n);d&&c&&r("warning","Regular expression flags are only applied if the terminal is not a composition.",{node:n,range:d})}}getFlagRange(n){const r=Pa(n.$cstNode,"regex");if(!r||!n.regex)return;const l=n.regex,s=l.lastIndexOf("/")+1;return{start:{line:r.range.end.line,character:r.range.end.character-l.length+s},end:r.range.end}}checkUsedHiddenTerminalRule(n,r){const l=Ze(n,s=>pt(s)||se(s));if(l){if("hidden"in l&&l.hidden||n.lookahead)return;const s=ug(n);if(s&&s.lookahead)return;const c=n.rule.ref;pt(c)&&c.hidden&&r("error","Cannot use hidden terminal in non-hidden rule",{node:n,property:"rule"})}}checkUsedFragmentTerminalRule(n,r){const l=n.rule.ref;pt(l)&&l.fragment&&Ze(n,se)&&r("error","Cannot use terminal fragments as part of parser rules.",{node:n,property:"rule"})}checkCrossReferenceSyntax(n,r){n.deprecatedSyntax&&r("error","'|' is deprecated. Please, use ':' instead.",{node:n,property:"deprecatedSyntax",data:pn(Se.CrossRefTokenSyntax)})}checkPackageImport(n,r){Pr(this.documents,n)===void 0?r("error","Import cannot be resolved.",{node:n,property:"path"}):n.path.endsWith(".langium")&&r("warning","Imports do not need file extensions.",{node:n,property:"path",data:pn(Se.UnnecessaryFileExtension)})}checkInvalidCharacterRange(n,r){if(n.right){const l="Character ranges cannot use more than one character";let s=!1;n.left.value.length>1&&(s=!0,r("error",l,{node:n.left,property:"value"})),n.right.value.length>1&&(s=!0,r("error",l,{node:n.right,property:"value"})),s||r("hint","Consider using regex instead of character ranges",{node:n,data:pn(Se.UseRegexTokens)})}}checkGrammarForUnusedRules(n,r){const l=bT(n,!0),s=RT(n);for(const c of n.rules)pt(c)&&c.hidden||ul(c)||l.has(c)||(se(c)&&s.has(c)?r("hint","This parser rule is not used for parsing, but referenced by cross-references. Consider to replace this rule by a type declaration.",{node:c,data:pn(Se.ParserRuleToTypeDecl)}):r("hint","This rule is declared but never referenced.",{node:c,property:"name",tags:[fc.Unnecessary]}))}checkClashingTerminalNames(n,r){const l=new Ve,s=new Set;for(const h of n.rules)pt(h)&&h.name&&l.add(h.name,h),se(h)&&zn(h).filter(Hn).forEach(T=>s.add(T.value));const c=new Ve,d=new Ve;for(const h of n.imports){const g=qs(this.documents,h);for(const T of g)for(const R of T.rules)pt(R)&&R.name?c.add(R.name,h):se(R)&&R.name&&zn(R).filter(Hn).forEach(H=>d.add(H.value,h))}for(const h of l.values())if(s.has(h.name))r("error","Terminal name clashes with existing keyword.",{node:h,property:"name"});else if(d.has(h.name)){const g=d.get(h.name);r("error",`Terminal name clashes with imported keyword from "${g[0].path}".`,{node:h,property:"name"})}const p=new Ve;for(const h of s)for(const g of c.get(h))p.add(g,h);for(const[h,g]of p.entriesGroupedByKey())g.length>0&&r("error",`Imported terminals (${g.join(", ")}) clash with locally defined keywords.`,{node:h,property:"path"});const m=new Ve;for(const[h,g]of c.entriesGroupedByKey()){const T=d.get(h);T.length>0&&g.filter(R=>!T.includes(R)).forEach(R=>m.add(R,h))}for(const[h,g]of m.entriesGroupedByKey())g.length>0&&r("error",`Imported terminals (${g.join(", ")}) clash with imported keywords.`,{node:h,property:"path"})}checkRuleName(n,r){if(n.name&&!ul(n)){const l=n.name.substring(0,1);l.toUpperCase()!==l&&r("warning","Rule name should start with an upper case letter.",{node:n,property:"name",data:pn(Se.RuleNameUppercase)})}}checkMultiRuleCallsAreAssigned(n,r){const l=m=>{let h=m;for(;h!==void 0&&!(Bs(h)&&(h.cardinality==="+"||h.cardinality==="*"));)h=h.$container;return h},s=n.rule.ref;if(!s||pt(s)||s.fragment||En(s))return;const c=Ze(n,se);if(!c||En(c))return;const d=l(n)!==void 0,p=Ze(n,mt)!==void 0;d&&!p&&r("error",`Rule call '${s.name}' requires assignment when parsed multiple times.`,{node:n})}checkTypeReservedName(n,r){this.checkReservedName(n,"name",r)}checkAssignmentReservedName(n,r){this.checkReservedName(n,"feature",r)}checkParserRuleReservedName(n,r){n.inferredType||this.checkReservedName(n,"name",r)}checkReservedName(n,r,l){const s=n[r];typeof s=="string"&&pS.has(s)&&l("error",`'${s}' is a reserved name of the JavaScript runtime.`,{node:n,property:r})}checkKeyword(n,r){Ze(n,se)&&(n.value.length===0?r("error","Keywords cannot be empty.",{node:n}):n.value.trim().length===0?r("error","Keywords cannot only consist of whitespace characters.",{node:n}):/\s/g.test(n.value)&&r("warning","Keywords should not contain whitespace characters.",{node:n}))}checkUnorderedGroup(n,r){n.elements.forEach(l=>{Un(l.cardinality)&&r("error","Optional elements in Unordered groups are currently not supported",{node:l,data:pn(Se.OptionalUnorderedGroup)})})}checkRuleParametersUsed(n,r){const l=n.parameters;if(l.length>0){const s=zn(n).filter(rh);for(const c of l)s.some(d=>d.parameter.ref===c)||r("hint",`Parameter '${c.name}' is unused.`,{node:c,tags:[fc.Unnecessary]})}}checkParserRuleDataType(n,r){if(ul(n))return;const l=sS(n),s=En(n);!l&&s?r("error","This parser rule does not create an object. Add a primitive return type or an action to the start of the rule to force object instantiation.",{node:n,property:"name"}):l&&!s&&r("error","Normal parser rules are not allowed to return a primitive value. Use a datatype rule for that.",{node:n,property:n.dataType?"dataType":"returnType"})}checkAssignmentToFragmentRule(n,r){n.terminal&&lt(n.terminal)&&se(n.terminal.rule.ref)&&n.terminal.rule.ref.fragment&&r("error",`Cannot use fragment rule '${n.terminal.rule.ref.name}' for assignment of property '${n.feature}'.`,{node:n,property:"terminal"})}checkAssignmentTypes(n,r){if(!n.terminal)return;let l;zn(n.terminal).map(c=>Ba(c)?"ref":"other").find(c=>l?c!==l:(l=c,!1))&&r("error",this.createMixedTypeError(n.feature),{node:n,property:"terminal"})}checkOperatorMultiplicitiesForMultiAssignments(n,r){n.dataType||this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent([n.definition],r)}checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n,r,l=new Map){this.checkOperatorMultiplicitiesForMultiAssignmentsNested(n,1,l,r);for(const s of l.values())if(s.counter>=2)for(const c of s.assignments)c.operator!=="+="&&r("warning",`Found multiple assignments to '${c.feature}' with the '${c.operator}' assignment operator. Consider using '+=' instead to prevent data loss.`,{node:c,property:"feature"})}checkOperatorMultiplicitiesForMultiAssignmentsNested(n,r,l,s){let c=!1;for(let d=0;d<n.length;d++){const p=n[d];if(ft(p)&&p.feature){const h=new Map;By(h,p.feature,1,p),this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n.slice(d+1),s,h),c=!0;break}let m=r;if(Bs(p)&&Vy(p.cardinality)&&(m*=2),mt(p)&&By(l,p.feature,m,p),lt(p)&&se(p.rule.ref)&&p.rule.ref.fragment&&(c=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([p.rule.ref.definition],m,l,s)||c),tn(p)||pa(p)){const h=new Map,g=this.checkOperatorMultiplicitiesForMultiAssignmentsNested(p.elements,1,h,s);Rc(h,l,g?(T,R)=>T+R:(T,R)=>T*m+R),c=g||c}if(nn(p)){const h=new Map;let g=0;for(const T of p.elements){const R=new Map,D=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([T],1,R,s);Rc(R,h,D?(H,B)=>Math.max(H,B):(H,B)=>Math.max(H*m,B)),D&&g++}Rc(h,l),g===p.elements.length&&(c=!0)}}return c}checkInterfacePropertyTypes(n,r){for(const l of n.attributes)if(l.type){const s=Kr(l.type),c=vl(s);let d=!1,p=!1;for(const m of c.union.concat(c.array))gl(m)?d=!0:gl(m)||(p=!0);d&&p&&r("error",this.createMixedTypeError(l.name),{node:l,property:"type"})}}createMixedTypeError(n){return`Mixing a cross-reference with other types is not supported. Consider splitting property "${n}" into two or more different properties.`}checkTerminalRuleReturnType(n,r){var l;!((l=n.type)===null||l===void 0)&&l.name&&!ef(n.type.name)&&r("error","Terminal rules can only return primitive types like 'string', 'boolean', 'number', 'Date' or 'bigint'.",{node:n.type,property:"name"})}checkRuleCallParameters(n,r){const l=n.rule.ref;if(se(l)){const s=l.parameters.length,c=n.arguments.length;s!==c&&r("error",`Rule '${l.name}' expects ${s} arguments, but got ${c}.`,{node:n})}else pt(l)&&n.arguments.length>0&&r("error","Terminal rules do not accept any arguments",{node:n})}checkCrossRefNameAssignment(n,r){!n.terminal&&n.type.ref&&!ST(n.type.ref)&&r("error","Cannot infer terminal or data type rule for cross-reference.",{node:n,property:"type"})}checkCrossRefTerminalType(n,r){var l;const s=n.terminal;if(lt(s)){const c=s.rule.ref;se(c)&&!En(c)?r("error","Parser rules cannot be used for cross-references.",{node:s,property:"rule"}):se(c)&&!oS(c)?r("error","Data type rules for cross-references must be of type string.",{node:s,property:"rule"}):pt(c)&&(!((l=c.type)===null||l===void 0)&&l.name)&&c.type.name!=="string"&&r("error","Terminal rules for cross-references must be of type string.",{node:s,property:"rule"})}}checkCrossRefType(n,r){const l=this.checkReferenceToRuleButNotType(n?.type);l&&r("error",l,{node:n,property:"type"})}checkCrossReferenceToTypeUnion(n,r){if(rn(n.type.ref)&&Qr(n.type.ref.type)){const l=og(n.type.ref.type);l.length>0&&r("error",`Cross-reference on type union is only valid if all alternatives are AST nodes. ${l.join(", ")} ${l.length>1?"are":"is"} not ${l.length>1?"":"an "}AST node${l.length>1?"s":""}.`,{node:n,property:"type"})}}checkFragmentsInTypes(n,r){var l,s;se((l=n.typeRef)===null||l===void 0?void 0:l.ref)&&(!((s=n.typeRef)===null||s===void 0)&&s.ref.fragment)&&r("error","Cannot use rule fragments in types.",{node:n,property:"typeRef"})}checkReferenceTypeUnion(n,r){Ya(n.referenceType)||r("error","Only direct rule references are allowed in reference types.",{node:n,property:"referenceType"})}checkReferenceToRuleButNotType(n){if(n&&se(n.ref)&&!En(n.ref)&&(n.ref.returnType||n.ref.inferredType)){const r=Ka(n.ref);if(r)return`Use the rule type '${r}' instead of the typed rule name '${n.ref.name}' for cross-references.`}}checkAssignmentWithFeatureName(n,r){n.feature==="name"&&Ba(n.terminal)&&r("warning",'The "name" property is not recommended for cross-references.',{node:n,property:"feature"})}}function ul(o){return!o.definition||!o.definition.$cstNode||o.definition.$cstNode.length===0}const pS=new Set(["Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","Map","Set","WeakMap","WeakSet","Error","AggregateError","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","BigInt","RegExp","Number","Object","Function","Symbol","String","Math","NaN","Infinity","isFinite","isNaN","Buffer","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","globalThis","decodeURIComponent","decodeURI","encodeURIComponent","encodeURI","parseInt","parseFloat","Promise","Generator","GeneratorFunction","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Reflect","Proxy","Date","Intl","eval","undefined","langium"]);function og(o){const n=[];return o.types.forEach(r=>{var l;Ya(r)&&(!((l=r.typeRef)===null||l===void 0)&&l.ref?rn(r.typeRef.ref)&&(Qr(r.typeRef.ref.type)?n.push(...og(r.typeRef.ref.type)):n.push(r.typeRef.ref.name)):r.stringType?n.push(`"${r.stringType}"`):r.primitiveType&&n.push(r.primitiveType))}),Array.from(new Set(n))}function ug(o){const n=Ze(o,DT);if(n)return n.lookahead?n:ug(n.$container)}function By(o,n,r,...l){let s=o.get(n);s||(s={assignments:new Set,counter:0},o.set(n,s)),l.forEach(c=>s.assignments.add(c)),s.counter+=r}function Rc(o,n,r=(l,s)=>l+s){for(const[l,s]of o.entries()){const c=n.get(l);c?(s.assignments.forEach(d=>c.assignments.add(d)),c.counter=r(s.counter,c.counter)):(n.set(l,s),s.counter=r(s.counter,0))}o.clear()}class mS{constructor(n){this.reflection=n.shared.AstReflection,this.indexManager=n.shared.workspace.IndexManager}getCodeActions(n,r){const l=[],s=c=>c&&l.push(c);for(const c of r.context.diagnostics)this.createCodeActions(c,n,s);return l}createCodeActions(n,r,l){var s;switch((s=n.data)===null||s===void 0?void 0:s.code){case Se.GrammarNameUppercase:case Se.RuleNameUppercase:l(this.makeUpperCase(n,r));break;case Se.HiddenGrammarTokens:l(this.fixHiddenTerminals(n,r));break;case Se.UseRegexTokens:l(this.fixRegexTokens(n,r));break;case Se.EntryRuleTokenSyntax:l(this.addEntryKeyword(n,r));break;case Se.CrossRefTokenSyntax:l(this.fixCrossRefSyntax(n,r));break;case Se.ParserRuleToTypeDecl:l(this.replaceParserRuleByTypeDeclaration(n,r));break;case Se.UnnecessaryFileExtension:l(this.fixUnnecessaryFileExtension(n,r));break;case Se.MissingReturns:l(this.fixMissingReturns(n,r));break;case Se.InvalidInfers:case Se.InvalidReturns:l(this.fixInvalidReturnsInfers(n,r));break;case Se.MissingInfer:l(this.fixMissingInfer(n,r));break;case Se.SuperfluousInfer:l(this.fixSuperfluousInfer(n,r));break;case CT.LinkingError:{const c=n.data;c&&c.containerType==="RuleCall"&&c.property==="rule"&&l(this.addNewRule(n,c,r)),c&&this.lookInGlobalScope(n,c,r).forEach(l);break}}}fixMissingReturns(n,r){const l=r.textDocument.getText(n.range);if(l)return{title:`Add explicit return type for parser rule ${l}`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[r.textDocument.uri]:[{range:n.range,newText:`${l} returns ${l}`}]}}}}fixInvalidReturnsInfers(n,r){const l=n.data;if(l&&l.actionSegment){const s=r.textDocument.getText(l.actionSegment.range);return{title:`Correct ${s} usage`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[r.textDocument.uri]:[{range:l.actionSegment.range,newText:s==="infers"?"returns":"infers"}]}}}}}fixMissingInfer(n,r){const l=n.data;if(l&&l.actionSegment)return{title:"Correct 'infer' usage",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[r.textDocument.uri]:[{range:{start:l.actionSegment.range.end,end:l.actionSegment.range.end},newText:"infer "}]}}}}fixSuperfluousInfer(n,r){const l=n.data;if(l&&l.actionRange)return{title:"Remove the 'infer' keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[r.textDocument.uri]:[{range:l.actionRange,newText:""}]}}}}isRuleReplaceable(n){return!n.fragment&&!n.entry&&n.parameters.length===0&&!n.definesHiddenTokens&&!n.wildcard&&!n.returnType&&!n.dataType}replaceRule(n){var r;return((r=n.inferredType)!==null&&r!==void 0?r:n).name}isDefinitionReplaceable(n){return lt(n)?n.arguments.length===0&&se(n.rule.ref)&&this.isRuleReplaceable(n.rule.ref):nn(n)?n.elements.every(r=>this.isDefinitionReplaceable(r)):!1}replaceDefinition(n){if(lt(n)&&n.rule.ref)return n.rule.ref.name;if(nn(n))return n.elements.map(r=>this.replaceDefinition(r)).join(" | ");throw new Error("missing code for "+n)}replaceParserRuleByTypeDeclaration(n,r){const l=r.parseResult.value.$cstNode;if(l){const s=r.textDocument.offsetAt(n.range.start),c=fl(l,s),d=Ze(c?.astNode,se);if(d&&d.$cstNode&&this.isRuleReplaceable(d)&&this.isDefinitionReplaceable(d.definition)){const m=`type ${this.replaceRule(d)} = ${this.replaceDefinition(d.definition)};`;return{title:"Replace with type declaration",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:n.range,newText:m}]}}}}}}fixUnnecessaryFileExtension(n,r){const l=Object.assign({},n.range.end);l.character-=1;const s=Object.assign({},l);return s.character-=8,{title:"Remove file extension",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:{start:s,end:l},newText:""}]}}}}makeUpperCase(n,r){const l={start:n.range.start,end:{line:n.range.start.line,character:n.range.start.character+1}};return{title:"First letter to upper case",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:l,newText:r.textDocument.getText(l).toUpperCase()}]}}}}addEntryKeyword(n,r){return{title:"Add entry keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:{start:n.range.start,end:n.range.start},newText:"entry "}]}}}}fixRegexTokens(n,r){const l=r.textDocument.offsetAt(n.range.start),s=r.parseResult.value.$cstNode;if(s){const c=fl(s,l),d=Ze(c?.astNode,AT);if(d&&d.right&&d.$cstNode){const p=d.left.value,m=d.right.value;return{title:"Refactor into regular expression",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:d.$cstNode.range,newText:`/[${ty(p)}-${ty(m)}]/`}]}}}}}}fixCrossRefSyntax(n,r){return{title:"Replace '|' with ':'",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:[{range:n.range,newText:":"}]}}}}fixHiddenTerminals(n,r){const l=r.parseResult.value,s=l.hiddenTokens,c=[],d=Pa(l.$cstNode,"definesHiddenTokens");if(d){const p=d.range.start,m=d.offset,h=l.$cstNode.text.indexOf(")",m)+1;c.push({newText:"",range:{start:p,end:r.textDocument.positionAt(h)}})}for(const p of s){const m=p.ref;if(m&&pt(m)&&!m.hidden&&m.$cstNode){const h=m.$cstNode.range.start;c.push({newText:"hidden ",range:{start:h,end:h}})}}return{title:"Fix hidden terminals",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[r.textDocument.uri]:c}}}}addNewRule(n,r,l){const s=l.textDocument.offsetAt(n.range.start),c=l.parseResult.value.$cstNode;if(c){const d=fl(c,s),p=Ze(d?.astNode,se);if(p&&p.$cstNode)return{title:`Add new rule '${r.refText}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:p.$cstNode.range.end,end:p.$cstNode.range.end},newText:`

`+r.refText+`:
    /* TODO implement rule */ {infer `+r.refText+"};"}]}}}}}lookInGlobalScope(n,r,l){var s,c;const d={container:{$type:r.containerType},property:r.property,reference:{$refText:r.refText}},p=this.reflection.getReferenceType(d),m=this.indexManager.allElements(p).filter(R=>R.name===r.refText),h=[];let g=-1,T=-1;for(const R of m){if(we.equals(R.documentUri,l.uri))continue;const D=yS(l.uri,R.documentUri);let H,B="";const q=l.parseResult.value,P=q.imports.find(j=>j.path&&D<j.path);if(P)H=(s=P.$cstNode)===null||s===void 0?void 0:s.range.start;else if(q.imports.length>0){const j=q.imports[q.imports.length-1].$cstNode.range.end;j&&(H={line:j.line+1,character:0})}else q.rules.length>0&&(H=(c=q.rules[0].$cstNode)===null||c===void 0?void 0:c.range.start,B=`
`);H&&((g<0||D.length<T)&&(g=h.length,T=D.length),h.push({title:`Add import to '${D}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:H,end:H},newText:`import '${D}'
${B}`}]}}}))}return g>=0&&(h[g].isPreferred=!0),h}}function yS(o,n){const r=we.dirname(o);let l=we.relative(r,n);return!l.startsWith("./")&&!l.startsWith("../")&&(l="./"+l),l.endsWith(".langium")&&(l=l.substring(0,l.length-8)),l}var Sc,Py;function hS(){return Py||(Py=1,Sc=zh()),Sc}var gS=hS();function vS(o){return o?new Function("return "+o)():{}}const TS=new K.NotificationType("dsl/SetValue"),bS=()=>({TextEditorWorker:()=>new Worker(new URL(""+new URL("editor.worker-CuoTPPBL.js",import.meta.url).href,import.meta.url),{type:"module"}),TextMateWorker:()=>new Worker(new URL(""+new URL("worker-CDatfVdV.js",import.meta.url).href,import.meta.url),{type:"module"}),OutputLinkDetectionWorker:void 0,LanguageDetectionWorker:void 0,NotebookEditorWorker:void 0,LocalFileSearchWorker:void 0}),cg=o=>{z0({workerLoaders:bS(),logger:o})};function tf(o,n,r,l,s){const c=r+"-grammar.json";return{$type:"extended",logLevel:Yy.Warning,extensions:[{config:{name:r,publisher:"Example.com",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:[{id:r}],grammars:[{language:r,scopeName:"source."+r,path:c}]}},filesOrContents:new Map([[c,l]])}],vscodeApiConfig:{userConfiguration:{json:JSON.stringify({"editor.wordBasedSuggestions":"off","editor.experimental.asyncTokenization":!1})}},editorAppConfig:{codeResources:{modified:{text:n,enforceLanguageId:r,uri:o}},monacoWorkerFactory:cg},languageClientConfigs:{configs:{[r]:{clientOptions:{documentSelector:[r]},connection:{options:s}}}}}}const RS=new gS.NotificationType("dsl/DocumentChange"),SS=me.memo(Is);function Fr(o){const[n,r]=me.useState(),[l,s]=me.useState();me.useEffect(()=>{let d=!0,p;async function m(){const h=await DS(o.language,o.grammar,o.grammarExtension,o.excludeText,o.includeAst);p=h.worker,d&&r(tf(o.uri,"",o.language,h.textmateGrammar,{$type:"WorkerDirect",worker:p}))}return m(),()=>{d=!1,setTimeout(()=>{p.terminate()},5e3)}},[o.excludeText,o.grammar,o.grammarExtension,o.includeAst,o.language,o.uri]),me.useEffect(()=>{l?.sendNotification(TS,{uri:o.uri,value:o.value??""})},[l,o.uri,o.value]);const c=me.useCallback(d=>{const p=d.getLanguageClient(o.language);if(!p)throw new Error;s(p);const m=o.onChange;m&&p.onNotification(RS,h=>{h.uri===o.uri&&m({text:h.text,ast:h.ast})})},[o.language,o.onChange,o.uri]);return n?Z.jsx(SS,{className:o.className,wrapperConfig:n,onLoad:c}):Z.jsx("div",{})}function DS(o,n,r,l,s){return new Promise((c,d)=>{const p=new Worker(new URL(""+new URL("DslEditorWorker-CEs3hQdR.js",import.meta.url).href,import.meta.url),{type:"module"});p.onmessage=m=>{m.data.type==="started"&&c({worker:p,textmateGrammar:m.data.textmateGrammar})},p.onerror=d,p.postMessage({type:"start",language:o,grammar:n,grammarExtension:r,excludeText:l,includeAst:s})})}function Yr(o,n){const r=me.useRef(void 0);return me.useCallback((...l)=>(clearTimeout(r.current),new Promise(s=>{r.current=setTimeout(()=>s(o(...l)),n)})),[n])}const CS=Yc();function AS(){const[,o]=me.useState(),[n,r]=me.useState(),l=Yr(s=>{o(c=>(r(Qc(CS.diff(c,s.ast)??{},c)),s.ast))},500);return Z.jsxs("main",{children:[Z.jsx(Fr,{uri:"file:///code",language:"dsl",grammar:Xc,grammarExtension:da,value:Zs,onChange:l,excludeText:!0,includeAst:!0}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}})]})}function NS(){return Z.jsx("main",{children:Z.jsx(Fr,{uri:"file:///code",language:"dsl",grammar:Xc,grammarExtension:da,value:Zs})})}const $S=`{
  name: 'Langium',
  scopeName: 'source.langium',
  fileTypes: ['langium'],
  patterns: [
    {
      include: '#regex',
    },
    {
      include: '#comments',
    },
    {
      name: 'keyword.control.langium',
      match:
        '\\b(current|entry|extends|fragment|grammar|hidden|import|infer|infers|interface|returns|terminal|type|with)\\b',
    },
    {
      name: 'constant.language.langium',
      match: '\\b(?i:true|false)\\b',
    },
    {
      name: 'keyword.symbol.langium',
      match: '(\\{|\\}|\\:|\\]|\\[|\\(|\\)|(\\??|\\+?)\\=|->|\\=>|<|>|\\,|\\*|\\+|\\@|\\||\\&|\\?|\\!|\\;)',
    },
    {
      name: 'string.quoted.double.langium',
      begin: '"',
      end: '"',
      patterns: [
        {
          include: '#string-character-escape',
        },
      ],
    },
    {
      name: 'string.quoted.single.langium',
      begin: "'",
      end: "'",
      patterns: [
        {
          include: '#string-character-escape',
        },
      ],
    },
  ],
  repository: {
    comments: {
      patterns: [
        {
          name: 'comment.block.langium',
          begin: '/\\*',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.comment.langium',
            },
          },
          end: '\\*/',
          endCaptures: {
            '0': {
              name: 'punctuation.definition.comment.langium',
            },
          },
        },
        {
          begin: '(^\\s+)?(?=//)',
          beginCaptures: {
            '1': {
              name: 'punctuation.whitespace.comment.leading.cs',
            },
          },
          end: '(?=$)',
          name: 'comment.line.langium',
        },
      ],
    },
    'string-character-escape': {
      name: 'constant.character.escape.langium',
      match:
        '\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u\\{[0-9A-Fa-f]+\\}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)',
    },
    regex: {
      patterns: [
        {
          name: 'string.regexp.ts',
          begin:
            '(?<!\\+\\+|--|})(?<=[=(:,\\[?+!]|^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case|=>|&&|\\|\\||\\*\\/)\\s*(\\/)(?![\\/*])(?=(?:[^\\/\\\\\\[\\()]|\\\\.|\\[([^\\]\\\\]|\\\\.)+\\]|\\(([^\\)\\\\]|\\\\.)+\\))+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.string.begin.ts',
            },
          },
          end: '(/)([a-z]*)',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.string.end.ts',
            },
            '2': {
              name: 'keyword.other.ts',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'string.regexp.ts',
          begin:
            '((?<![_$[:alnum:])\\]]|\\+\\+|--|}|\\*\\/)|((?<=^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case))\\s*)\\/(?![\\/*])(?=(?:[^\\/\\\\\\[]|\\\\.|\\[([^\\]\\\\]|\\\\.)*\\])+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.string.begin.ts',
            },
          },
          end: '(/)([a-z]*)',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.string.end.ts',
            },
            '2': {
              name: 'keyword.other.ts',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
      ],
    },
    regexp: {
      patterns: [
        {
          name: 'keyword.control.anchor.regexp',
          match: '\\\\[bB]|\\^|\\$',
        },
        {
          match: '\\\\[1-9]\\d*|\\\\k<([a-zA-Z_$][\\w$]*)>',
          captures: {
            '0': {
              name: 'keyword.other.back-reference.regexp',
            },
            '1': {
              name: 'variable.other.regexp',
            },
          },
        },
        {
          name: 'keyword.operator.quantifier.regexp',
          match: '[?+*]|\\{(\\d+,\\d+|\\d+,|,\\d+|\\d+)\\}\\??',
        },
        {
          name: 'keyword.operator.or.regexp',
          match: '\\|',
        },
        {
          name: 'meta.group.assertion.regexp',
          begin: '(\\()((\\?=)|(\\?!)|(\\?<=)|(\\?<!))',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.group.regexp',
            },
            '2': {
              name: 'punctuation.definition.group.assertion.regexp',
            },
            '3': {
              name: 'meta.assertion.look-ahead.regexp',
            },
            '4': {
              name: 'meta.assertion.negative-look-ahead.regexp',
            },
            '5': {
              name: 'meta.assertion.look-behind.regexp',
            },
            '6': {
              name: 'meta.assertion.negative-look-behind.regexp',
            },
          },
          end: '(\\))',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.group.regexp',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'meta.group.regexp',
          begin: '\\((?:(\\?:)|(?:\\?<([a-zA-Z_$][\\w$]*)>))?',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.group.regexp',
            },
            '1': {
              name: 'punctuation.definition.group.no-capture.regexp',
            },
            '2': {
              name: 'variable.other.regexp',
            },
          },
          end: '\\)',
          endCaptures: {
            '0': {
              name: 'punctuation.definition.group.regexp',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'constant.other.character-class.set.regexp',
          begin: '(\\[)(\\^)?',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.character-class.regexp',
            },
            '2': {
              name: 'keyword.operator.negation.regexp',
            },
          },
          end: '(\\])',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.character-class.regexp',
            },
          },
          patterns: [
            {
              name: 'constant.other.character-class.range.regexp',
              match:
                '(?:.|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))\\-(?:[^\\]\\\\]|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))',
              captures: {
                '1': {
                  name: 'constant.character.numeric.regexp',
                },
                '2': {
                  name: 'constant.character.control.regexp',
                },
                '3': {
                  name: 'constant.character.escape.backslash.regexp',
                },
                '4': {
                  name: 'constant.character.numeric.regexp',
                },
                '5': {
                  name: 'constant.character.control.regexp',
                },
                '6': {
                  name: 'constant.character.escape.backslash.regexp',
                },
              },
            },
            {
              include: '#regex-character-class',
            },
          ],
        },
        {
          include: '#regex-character-class',
        },
      ],
    },
    'regex-character-class': {
      patterns: [
        {
          name: 'constant.other.character-class.regexp',
          match: '\\\\[wWsSdDtrnvf]|\\.',
        },
        {
          name: 'constant.character.numeric.regexp',
          match: '\\\\([0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})',
        },
        {
          name: 'constant.character.control.regexp',
          match: '\\\\c[A-Z]',
        },
        {
          name: 'constant.character.escape.backslash.regexp',
          match: '\\\\.',
        },
      ],
    },
  },
}`,_S=me.memo(Is);function fg(o){const[n,r]=me.useState();me.useEffect(()=>{let s=!0,c=new Worker(new URL(""+new URL("DslGrammarEditorWorker-D-5FDOby.js",import.meta.url).href,import.meta.url),{type:"module"});return s&&r(tf(o.uri,o.value??"","langium",$S,{$type:"WorkerDirect",worker:c})),()=>{s=!1,setTimeout(()=>{c?.terminate(),c=void 0},5e3)}},[o.uri]);const l=me.useCallback(s=>{const c=o.onChange;c&&s.modified&&c(s.modified)},[o.onChange]);return n?Z.jsx(_S,{className:o.className,wrapperConfig:n,onTextChanged:l}):Z.jsx("div",{})}const wS=me.memo(Is);function xS(o){const[n,r]=me.useState();me.useEffect(()=>{r(kS(o.uri,o.value??""))},[o.uri]);const l=me.useCallback(s=>{const c=o.onChange;c&&s.modified&&c(s.modified)},[o.onChange]);return n?Z.jsx(wS,{className:o.className,wrapperConfig:n,onTextChanged:l}):Z.jsx("div",{})}function kS(o,n){const r="json",l=r+"-grammar.json",s="";return{$type:"extended",logLevel:Yy.Warning,extensions:[{config:{name:r,publisher:"Example.com",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:[{id:r}],grammars:[{language:r,scopeName:"source."+r,path:l}]}},filesOrContents:new Map([[l,s]])}],vscodeApiConfig:{userConfiguration:{json:JSON.stringify({"editor.wordBasedSuggestions":"off","editor.experimental.asyncTokenization":!1})}},editorAppConfig:{codeResources:{modified:{text:n,enforceLanguageId:r,uri:o}},monacoWorkerFactory:cg}}}function ES(){const[o,n]=me.useState(Xc),[r,l]=me.useState(da),s=Yr(n,500),c=Yr(l,500);return Z.jsxs("main",{children:[Z.jsxs("div",{className:"column",children:[Z.jsx(fg,{uri:"file:///grammar",value:o,onChange:s}),Z.jsx(xS,{uri:"file:///grammar-extension",value:r,onChange:c})]}),Z.jsx(Fr,{uri:"file:///code",language:"dsl",grammar:o,grammarExtension:r,value:Zs})]})}const MS=`grammar ClassModel

entry ClassModel:
    Localization*
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    Localization*
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    Localization*
    'attribute' name=ID dataType=[DataType:ID];

Reference:
    Localization*
    'reference' name=ID target=[Class:ID];

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    Localization*
    'string' name=ID ('{'
        ('length' length=Natural)?
        ('minLength' minLength=Natural)?
        ('maxLength' maxLength=Natural)?
        ('pattern' pattern=STRING)?
    '}')?;

NumericType:
    Localization*
    'numeric' name=ID ('{'
        ('size' size=Natural)?
        ('totalDigits' totalDigits=Natural)?
        ('fractionDigits' fractionDigits=Natural)?
        ('minInclusive' minInclusive=Numeric)?
        ('minExclusive' minExclusive=Numeric)?
        ('maxInclusive' maxInclusive=Numeric)?
        ('maxExclusive' maxExclusive=Numeric)?
        ('measurementUnit' pattern=STRING)?
    '}')?;

BooleanType:
    Localization*
    'boolean' name=ID ('{' '}')?;

TimeType:
    Localization*
    'time' name=ID ('{'
        ('instantUnits' instantUnits+=TimeUnit+)?
        ('instantFractionDigits' instantFractionDigits=Natural)?
        ('durationUnits' durationUnits+=TimeUnit+)?
        ('durationFractionDigits' durationFractionDigits=Natural)?
        ('recurrence' recurrence=TimeUnit)?
    '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    Localization*
    'uuid' name=ID ('{' '}')?;

EnumeratedType:
    Localization*
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    '}')?;

EnumeratedTypeLiteral:
    Localization*
    name=ID;

fragment Localization:
    '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
`,zS=`@name('ru-RU', 'модель данных интернет-магазина')
classModel OnlineStore

@name('ru-RU', 'пользователь')
class User {

  @name('ru-RU', 'имя')
  attribute firstName String

  @name('ru-RU', 'фамилия')
  attribute lastName String

  @name('ru-RU', 'дата рождения')
  attribute birthDate Date

  @name('ru-RU', 'электронная почта')
  attribute email String

}

@name('ru-RU', 'заказ')
class Order {

  @name('ru-RU', 'адресс доставки')
  attribute deliveryAddress String

  @name('ru-RU', 'пользователь')
  reference user User

  @name('ru-RU', 'элементы заказа')
  reference items OrderItem

}

@name('ru-RU', 'элемент заказа')
class OrderItem {

  @name('ru-RU', 'заказ')
  reference order Order

  @name('ru-RU', 'продукт')
  reference product Product

  @name('ru-RU', 'количество')
  attribute quantity UnsignedInt

  @name('ru-RU', 'стоимость')
  attribute price Money

}

@name('ru-RU', 'продукт')
abstract class Product {

  @name('ru-RU', 'название')
  attribute name String

}

@name('ru-RU', 'книга')
class Book extends Product {

  @name('ru-RU', 'автор')
  attribute author String

}

@name('ru-RU', 'ручка')
class Pen extends Product {

  @name('ru-RU', 'цвет')
  attribute color Color

}

@name('ru-RU', 'строка')
string String {
}

@name('ru-RU', 'целое беззнаковое число')
numeric UnsignedInt {
  fractionDigits 0
  minInclusive 0
}

@name('ru-RU', 'дата')
time Date {
  instantUnits year month day
}

@name('ru-RU', 'денежный тип')
numeric Money {
  totalDigits 19
  fractionDigits 4
  minInclusive 0
}

@name('ru-RU', 'цвет')
enumerated Color {

  @name('ru-RU', 'красный')
  Red

  @name('ru-RU', 'зелёный')
  Green

  @name('ru-RU', 'синий')
  Blue

  @name('ru-RU', 'чёрный')
  Black

}
`;function OS(){const[o,n]=me.useState(MS),r=Yr(n,500);return Z.jsxs("main",{children:[Z.jsx(fg,{uri:"file:///grammar",value:o,onChange:r}),Z.jsx(Fr,{uri:"file:///code",value:zS,language:"dsl",grammar:o})]})}const ml=`grammar ClassModel

entry ClassModel:
    _NL? Localization* _NL?
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    _NL? Localization* _NL?
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    _NL? _NL? '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    _NL? Localization* _NL?
    'attribute' name=ID dataType=[DataType:ID] Multiplicity?;

Reference:
    _NL? Localization* _NL?
    'reference' name=ID target=[Class:ID] Multiplicity? ('opposite' opposite=[Reference:ID])?;

fragment Multiplicity:
    '[' lower=Natural ('..' upper=UnlimitedNatural)? ']';

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    _NL? Localization* _NL?
    'string' name=ID ('{'
        (_NL? 'length' length=Natural)?
        (_NL? 'minLength' minLength=Natural)?
        (_NL? 'maxLength' maxLength=Natural)?
        (_NL? 'pattern' pattern=STRING)?
    _NL? '}')?;

NumericType:
    _NL? Localization* _NL?
    'numeric' name=ID ('{'
        (_NL? 'size' size=Natural)?
        (_NL? 'totalDigits' totalDigits=Natural)?
        (_NL? 'fractionDigits' fractionDigits=Natural)?
        (_NL? 'minInclusive' minInclusive=Numeric)?
        (_NL? 'minExclusive' minExclusive=Numeric)?
        (_NL? 'maxInclusive' maxInclusive=Numeric)?
        (_NL? 'maxExclusive' maxExclusive=Numeric)?
        (_NL? 'measurementUnit' pattern=STRING)?
    _NL? '}')?;

BooleanType:
    _NL? Localization* _NL?
    'boolean' name=ID ('{' _NL? '}')?;

TimeType:
    _NL? Localization* _NL?
    'time' name=ID ('{'
        (_NL? 'instantUnits' instantUnits+=TimeUnit+)?
        (_NL? 'instantFractionDigits' instantFractionDigits=Natural)?
        (_NL? 'durationUnits' durationUnits+=TimeUnit+)?
        (_NL? 'durationFractionDigits' durationFractionDigits=Natural)?
        (_NL? 'recurrence' recurrence=TimeUnit)?
    _NL? '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    _NL? Localization* _NL?
    'uuid' name=ID ('{' _NL? '}')?;

EnumeratedType:
    _NL? Localization* _NL?
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    _NL? _NL? '}')?;

EnumeratedTypeLiteral:
    _NL? Localization* _NL?
    name=ID;

fragment Localization:
    _NL? '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    _NL? '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

UnlimitedNatural returns number:
    INT | '*';

_NL returns string: '__NL__';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
`,US={json:{version:"1.0",encoding:"utf-8"},ns:{classmodel:"https://example.com/class-model",ecore:"http://www.eclipse.org/emf/2002/Ecore"},content:[{id:"0197a602-a759-712e-81ab-9a326d8244d4",eClass:"classmodel:ClassModel",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-1b98385eea26",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"модель данных интернет-магазина"}}],name:"OnlineStore",classes:[{id:"0197a602-a75a-77cf-b827-1dc877acbbc0",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-200df3134f70",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"пользователь"}}],kind:"Regular",name:"User",properties:[{id:"0197a602-a75a-77cf-b827-274919b36035",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-286e22f7416f",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"имя"}}],name:"firstName",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:0,upper:1}},{id:"0197a602-a75a-77cf-b827-2c7465fae9bb",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-331802d37383",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"фамилия"}}],name:"lastName",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:0,upper:1}},{id:"0197a602-a75a-77cf-b827-351cc71066fc",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-3b6372bb3b85",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"дата рождения"}}],name:"birthDate",dataType:"0197a602-a75a-77cf-b827-cf261e9de448",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-3fefaf8a11a3",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-418235fedaa4",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"электронная почта"}}],name:"email",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:1,upper:1}}]}},{id:"0197a602-a75a-77cf-b827-4731a5270e0a",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-49116bc5ce56",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"заказ"}}],kind:"Regular",name:"Order",properties:[{id:"0197a602-a75a-77cf-b827-4e4b319c5999",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-50aa29298525",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"адресс доставки"}}],name:"deliveryAddress",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-54fb3068a38f",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-58f2cba07d02",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"пользователь"}}],name:"user",target:"0197a602-a75a-77cf-b827-1dc877acbbc0",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-5e64dbef4264",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-60040fb7f00d",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"элементы заказа"}}],name:"items",target:"0197a602-a75a-77cf-b827-649b969f3f0a",lower:1,upper:-1}}]}},{id:"0197a602-a75a-77cf-b827-649b969f3f0a",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-6865ad45df0b",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"элемент заказа"}}],kind:"Regular",name:"OrderItem",properties:[{id:"0197a602-a75a-77cf-b827-6de8b40b1c2b",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-721b9a1ca207",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"заказ"}}],name:"order",target:"0197a602-a75a-77cf-b827-4731a5270e0a",opposite:"0197a602-a75a-77cf-b827-5e64dbef4264",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-75d6c6e7389b",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-7b23a5c58c9a",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"продукт"}}],name:"product",target:"0197a602-a75a-77cf-b827-8e37dea56e11",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-7c4b5cf71e63",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-80c9c2fe5d35",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"количество"}}],name:"quantity",dataType:"0197a602-a75a-77cf-b827-c6185e0d31b5",lower:1,upper:1}},{id:"0197a602-a75a-77cf-b827-87b405c86907",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-8a98b0b3acc1",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"стоимость"}}],name:"price",dataType:"0197a602-a75a-77cf-b827-d44df6bf991f",lower:1,upper:1}}]}},{id:"0197a602-a75a-77cf-b827-8e37dea56e11",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-9054848f407d",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"продукт"}}],kind:"Abstract",name:"Product",properties:[{id:"0197a602-a75a-77cf-b827-9750a20d6ee3",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-98036dc68348",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"название"}}],name:"name",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:1,upper:1}}]}},{id:"0197a602-a75a-77cf-b827-9d16ed97ba0b",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-a06a1cf45470",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"книга"}}],kind:"Regular",name:"Book",generals:["0197a602-a75a-77cf-b827-8e37dea56e11"],properties:[{id:"0197a602-a75a-77cf-b827-a4c616309e48",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-abb57ff3df5c",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"автор"}}],name:"author",dataType:"0197a602-a75a-77cf-b827-bee806621ae6",lower:1,upper:1}}]}},{id:"0197a602-a75a-77cf-b827-ada46e212bfc",eClass:"classmodel:Class",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-b28d32313fe3",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"ручка"}}],kind:"Regular",name:"Pen",generals:["0197a602-a75a-77cf-b827-8e37dea56e11"],properties:[{id:"0197a602-a75a-77cf-b827-b7c80415bf45",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-babfea557e53",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"цвет"}}],name:"color",dataType:"0197a602-a75a-77cf-b827-df8f49641d6b",lower:1,upper:1}}]}}],dataTypes:[{id:"0197a602-a75a-77cf-b827-bee806621ae6",eClass:"classmodel:StringType",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-c08761980d5f",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"строка"}}],name:"String"}},{id:"0197a602-a75a-77cf-b827-c6185e0d31b5",eClass:"classmodel:NumericType",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-cac8ab9c7235",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"целое беззнаковое число"}}],name:"UnsignedInt",fractionDigits:0,minInclusive:0}},{id:"0197a602-a75a-77cf-b827-cf261e9de448",eClass:"classmodel:TimeType",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-d0670fd93d79",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"дата"}}],name:"Date",instantUnits:["Year","Month","Day"]}},{id:"0197a602-a75a-77cf-b827-d44df6bf991f",eClass:"classmodel:NumericType",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-d96478c128ee",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"денежный тип"}}],name:"Money",totalDigits:19,fractionDigits:4,minInclusive:0}},{id:"0197a602-a75a-77cf-b827-df8f49641d6b",eClass:"classmodel:EnumeratedType",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-e334b650a95c",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"цвет"}}],name:"Color",literals:[{id:"0197a602-a75a-77cf-b827-e7822e72724d",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-e83390032187",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"красный"}}],name:"Red"}},{id:"0197a602-a75a-77cf-b827-ede7525c8d56",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-f29f9089da1a",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"зелёный"}}],name:"Green"}},{id:"0197a602-a75a-77cf-b827-f6e09dbc97c4",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197a602-a75a-77cf-b827-fb8a9f2b258e",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"синий"}}],name:"Blue"}},{id:"0197a602-a75a-77cf-b827-ffb17096ce58",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197a602-a75a-77cf-b828-03940730fda0",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"чёрный"}}],name:"Black"}}]}}]}}]};class dg{node;indices;constructor(n){this.node=n,this.indices=new Map}type(){return this.node.$type}get(n){const r=this.node[n];if(!Array.isArray(r))return r;const l=this.indices.get(n)??0;return this.indices.set(n,l+1),r[l]}}function HS(o,n,r){const l=n.rules.find(c=>se(c)&&c.name===o.$type);if(!l)throw new Error(`Rule not found for ${o.$type}`);const s=Tl(new dg(o),n,r??{},l.definition);return KS(s?.trim().replace(/[ ]+$/gm,"")??"")+`
`}function Tl(o,n,r,l){if(tn(l))return Gs(o,n,r,l,LS);if(nn(l))return Gs(o,n,r,l,qS);if(mt(l))return Gs(o,n,r,l,GS);if(lt(l))return l.rule.ref?.name==="_NL"?`
`:l.rule.ref?.fragment||o.type()===l.rule.ref?.name?Gs(o,n,r,l.rule.ref?.definition,Tl,l.cardinality):void 0;if(ft(l))return o.type()===l.inferredType?.name?"":void 0;if(Hn(l))return l.value;throw new Error(`Unsupported ${l.$type}`)}function LS(o,n,r,l){const s=[];for(const c of l.elements){const d=Tl(o,n,r,c);if(d===void 0)return;s.push(d)}return pg(s)}function qS(o,n,r,l){for(const s of l.elements){const c=Tl(o,n,r,s);if(c!==void 0)return c}}function GS(o,n,r,l){if(lt(l.terminal)){const s=o.get(l.feature);if(s===void 0)return;if(se(l.terminal.rule.ref))if(l.terminal.rule.ref.dataType){const c=r[l.terminal.rule.ref.name]?.value?.print;if(c)return c?c(s):s.toString();if(l.terminal.rule.ref.dataType==="number")return s.toString();throw new Error(`Unsupported value '${s}' with type ${typeof s}`)}else{if(!Qy(s))throw new Error(`Expected AST node but got '${s}' with type ${typeof s}`);return Tl(new dg(s),n,r,l.terminal.rule.ref.definition)}if(pt(l.terminal.rule.ref)){if(typeof s=="string")return l.terminal.rule.ref.name==="STRING"?"'"+s.replace("\\","\\\\").replace("\b","\\b").replace("\f","\\f").replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t").replace("\v","\\v").replace("'","\\'")+"'":s;if(typeof s=="number")return s.toString();throw new Error(`Unsupported value '${s}' with type ${typeof s}`)}throw new Error}if(Ba(l.terminal)){const s=o.get(l.feature);if(s===void 0)return;if(!NT(s))throw new Error(`Expected cross-reference but got '${s}' with type ${typeof s}`);return s.$refText}throw new Error(`Unsupported terminal ${l.terminal.$type}`)}const jS=1e4;function Gs(o,n,r,l,s,c){const d=[],p=c==="*"||c==="+"||l.cardinality==="*"||l.cardinality==="+";let m=0;do{const g=s(o,n,r,l);if(g===void 0)break;if(m++>=jS)throw new Error;d.push(g)}while(p);const h=c==="?"||c==="*"||l.cardinality==="?"||l.cardinality==="*";return d.length||h?pg(d):void 0}function pg(o){let n="";for(const r of o)!n.length||n.endsWith(`
`)||n.endsWith("(")||n.endsWith("[")||n.endsWith(".")||r.startsWith(",")||r.startsWith(".")||r.startsWith("(")||r.startsWith(")")||r.startsWith("[")||r.startsWith("]")?n+=r:r&&(n+=" "+r);return n}function KS(o){let n="",r=0;for(let l=0;l<o.length;l++)n+=o[l],o[l]==="{"?r++:o[l]==="}"?r--:o[l]===`
`&&o[l+1]!==`
`&&o[l+1]!=="}"&&(n+="  ".repeat(r));return n}const BS=new K.NotificationType("dsl/ModelChange"),PS=new K.NotificationType("dsl/SetModel"),FS=me.memo(Is);function Fy(o){const[n,r]=me.useState(),[l,s]=me.useState();me.useEffect(()=>{let d=!0,p;async function m(){const h=await YS(o.language,o.grammar,o.grammarExtension,o.value.ns);p=h.worker,d&&r(tf(o.uri,"",o.language,h.textmateGrammar,{$type:"WorkerDirect",worker:p}))}return m(),()=>{d=!1,setTimeout(()=>{p.terminate()},5e3)}},[o.grammar,o.grammarExtension,o.language,o.uri]),me.useEffect(()=>{l?.sendNotification(PS,{uri:o.uri,value:o.value})},[l,o.uri,o.value]);const c=me.useCallback(d=>{const p=d.getLanguageClient(o.language);if(!p)throw new Error;s(p);const m=o.onChange;m&&p.onNotification(BS,h=>{h.uri===o.uri&&m(h.model)})},[o.language,o.onChange,o.uri]);return n?Z.jsx(FS,{className:o.className,wrapperConfig:n,onLoad:c}):Z.jsx("div",{})}function YS(o,n,r,l){return new Promise((s,c)=>{const d=new Worker(new URL(""+new URL("DslModelEditorWorker-azJV1ZUe.js",import.meta.url).href,import.meta.url),{type:"module"});d.onmessage=p=>{p.data.type==="started"&&s({worker:d,textmateGrammar:p.data.textmateGrammar})},d.onerror=c,d.postMessage({type:"start",language:o,grammar:n,grammarExtension:r,namespaces:l})})}const QS=Yc({});function XS(){const[o,n]=me.useState(),[r,l]=me.useState(),s=Yr(async c=>{n(d=>(l(Qc(QS.diff(d,c)??{},d)),c))},500);return Z.jsxs("main",{children:[Z.jsx(Fy,{uri:"file:///code",language:"dsl",grammar:ml,grammarExtension:da,value:US,onChange:s}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:r??""}}),o?Z.jsx(Fy,{uri:"file:///code2",language:"dsl2",grammar:ml,grammarExtension:da,value:o}):Z.jsx("div",{})]})}const VS=Yc();function ZS(){const[,o]=me.useState(),[n,r]=me.useState(),[l,s]=me.useState(),c=Yr(async d=>{if(o(p=>(r(Qc(VS.diff(p,d.ast)??{},p)),d.ast)),d.ast){const{Grammar:p}=await cS({grammar:ml});s(HS(d.ast,p,vS(da)))}},500);return Z.jsxs("main",{children:[Z.jsx(Fr,{uri:"file:///code",language:"dsl",grammar:ml,grammarExtension:da,value:Zs,onChange:c,excludeText:!0,includeAst:!0}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}}),Z.jsx(Fr,{uri:"file:///code2",language:"dsl2",grammar:ml,grammarExtension:da,value:l})]})}function IS(){return Z.jsxs(x0,{children:[Z.jsx("header",{children:Z.jsx("nav",{children:Z.jsxs("ul",{children:[Z.jsx("li",{children:Z.jsx(Hr,{to:"/",children:"Editor"})}),Z.jsx("li",{children:Z.jsx(Hr,{to:"/ast",children:"AST"})}),Z.jsx("li",{children:Z.jsx(Hr,{to:"/print",children:"Print"})}),Z.jsx("li",{children:Z.jsx(Hr,{to:"/grammar",children:"Grammar"})}),Z.jsx("li",{children:Z.jsx(Hr,{to:"/extension",children:"Extension"})}),Z.jsx("li",{children:Z.jsx(Hr,{to:"/model",children:"Model"})})]})})}),Z.jsxs(k0,{children:[Z.jsx(Lr,{index:!0,element:Z.jsx(NS,{})}),Z.jsx(Lr,{path:"ast",element:Z.jsx(AS,{})}),Z.jsx(Lr,{path:"print",element:Z.jsx(ZS,{})}),Z.jsx(Lr,{path:"grammar",element:Z.jsx(OS,{})}),Z.jsx(Lr,{path:"extension",element:Z.jsx(ES,{})}),Z.jsx(Lr,{path:"model",element:Z.jsx(XS,{})})]})]})}MT.createRoot(document.getElementById("root")).render(Z.jsx(IS,{}));

import{r as _0,a as $0,b as me,R as w0,H as k0,N as Ha,c as x0,d as La}from"./react-_Yu79x0V.js";import{r as E0}from"./vscode-languageclient-BsLwh9Dv.js";import"./monaco-vscode-editor-api-Cjp3CvRF.js";import"./monaco-vscode-api-C8AKrXDl.js";import{M as M0,u as z0}from"./monaco-editor-wrapper-BkUNkEq0.js";import{r as Ye}from"./vscode-lsp-D-OjvtvS.js";import{aR as Yy}from"./monaco-vscode-base-service-override-DWrDktfJ.js";import{l as U0,L as O0,f as zt,U as fr,i as se,d as fl,g as Ze,s as zn,e as lt,h as nt,j as Yt,k as Qy,n as tn,o as nn,p as pr,q as mt,t as ft,u as Lc,v as Xy,w as On,x as Bs,y as Vy,z as Hn,A as Br,B as H0,C as pt,D as qc,E as Mt,F as Ym,G as Qm,H as L0,I as we,J as Zy,K as q0,M as G0,N as j0,O as K0,P as B0,Q as js,R as F0,S as Iy,T as P0,V as Fr,W as Wy,X as Lr,Y as Jy,Z as Xm,_ as Y0,$ as eh,a0 as th,a1 as Q0,a2 as X0,a3 as V0,a4 as Z0,a5 as Vm,a6 as nh,a7 as Zm,a8 as Im,a9 as Dc,aa as I0,ab as W0,ac as yl,ad as J0,ae as rh,af as Gr,ag as eT,ah as Wm,ai as tT,aj as Jm,ak as nT,al as rT,am as aT,an as iT,ao as lT,ap as sT,aq as an,ar as Yr,as as oT,at as ah,au as ih,av as uT,aw as Ba,ax as Cc,ay as cT,az as fT,aA as Ve,aB as Qa,aC as dT,aD as lh,aE as pT,aF as sh,aG as Gc,aH as jc,aI as Kc,aJ as oh,aK as uh,aL as En,aM as mT,aN as yT,aO as hT,aP as Fs,aQ as gT,aR as vT,aS as ey,aT as TT,aU as pn,aV as fc,aW as RT,aX as bT,aY as ST,aZ as DT,a_ as CT,a$ as ty,b0 as AT,b1 as NT}from"./langium-_yyiCiW_.js";import"./monaco-vscode-extension-api-DS8be8tZ.js";import"./monaco-vscode-configuration-service-override-COq0Cpay.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}})();var dc={exports:{}},Yi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function _T(){if(ny)return Yi;ny=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:o,type:l,key:d,ref:s!==void 0?s:null,props:c}}return Yi.Fragment=n,Yi.jsx=a,Yi.jsxs=a,Yi}var ry;function $T(){return ry||(ry=1,dc.exports=_T()),dc.exports}var Z=$T(),pc={exports:{}},Qi={},mc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function wT(){return ay||(ay=1,function(o){function n(M,Q){var ee=M.length;M.push(Q);e:for(;0<ee;){var Y=ee-1>>>1,z=M[Y];if(0<s(z,Q))M[Y]=Q,M[ee]=z,ee=Y;else break e}}function a(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var Q=M[0],ee=M.pop();if(ee!==Q){M[0]=ee;e:for(var Y=0,z=M.length,he=z>>>1;Y<he;){var xe=2*(Y+1)-1,Re=M[xe],qe=xe+1,Ct=M[qe];if(0>s(Re,ee))qe<z&&0>s(Ct,Re)?(M[Y]=Ct,M[qe]=ee,Y=qe):(M[Y]=Re,M[xe]=ee,Y=xe);else if(qe<z&&0>s(Ct,ee))M[Y]=Ct,M[qe]=ee,Y=qe;else break e}}return Q}function s(M,Q){var ee=M.sortIndex-Q.sortIndex;return ee!==0?ee:M.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();o.unstable_now=function(){return d.now()-p}}var m=[],h=[],g=1,T=null,b=3,D=!1,H=!1,B=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function W(M){for(var Q=a(h);Q!==null;){if(Q.callback===null)l(h);else if(Q.startTime<=M)l(h),Q.sortIndex=Q.expirationTime,n(m,Q);else break;Q=a(h)}}function oe(M){if(B=!1,W(M),!H)if(a(m)!==null)H=!0,ie||(ie=!0,Le());else{var Q=a(h);Q!==null&&gt(oe,Q.startTime-M)}}var ie=!1,ye=-1,fe=5,Ue=-1;function ke(){return q?!0:!(o.unstable_now()-Ue<fe)}function yt(){if(q=!1,ie){var M=o.unstable_now();Ue=M;var Q=!0;try{e:{H=!1,B&&(B=!1,j(ye),ye=-1),D=!0;var ee=b;try{t:{for(W(M),T=a(m);T!==null&&!(T.expirationTime>M&&ke());){var Y=T.callback;if(typeof Y=="function"){T.callback=null,b=T.priorityLevel;var z=Y(T.expirationTime<=M);if(M=o.unstable_now(),typeof z=="function"){T.callback=z,W(M),Q=!0;break t}T===a(m)&&l(m),W(M)}else l(m);T=a(m)}if(T!==null)Q=!0;else{var he=a(h);he!==null&&gt(oe,he.startTime-M),Q=!1}}break e}finally{T=null,b=ee,D=!1}Q=void 0}}finally{Q?Le():ie=!1}}}var Le;if(typeof P=="function")Le=function(){P(yt)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ln=ht.port2;ht.port1.onmessage=yt,Le=function(){ln.postMessage(null)}}else Le=function(){F(yt,0)};function gt(M,Q){ye=F(function(){M(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return b},o.unstable_next=function(M){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ee=b;b=Q;try{return M()}finally{b=ee}},o.unstable_requestPaint=function(){q=!0},o.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=b;b=M;try{return Q()}finally{b=ee}},o.unstable_scheduleCallback=function(M,Q,ee){var Y=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,M={id:g++,callback:Q,priorityLevel:M,startTime:ee,expirationTime:z,sortIndex:-1},ee>Y?(M.sortIndex=ee,n(h,M),a(m)===null&&M===a(h)&&(B?(j(ye),ye=-1):B=!0,gt(oe,ee-Y))):(M.sortIndex=z,n(m,M),H||D||(H=!0,ie||(ie=!0,Le()))),M},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(M){var Q=b;return function(){var ee=b;b=Q;try{return M.apply(this,arguments)}finally{b=ee}}}}(yc)),yc}var iy;function kT(){return iy||(iy=1,mc.exports=wT()),mc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function xT(){if(ly)return Qi;ly=1;var o=kT(),n=_0(),a=$0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return p(u),e;if(f===i)return p(u),t;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var y=!1,v=u.child;v;){if(v===r){y=!0,r=u,i=f;break}if(v===i){y=!0,i=u,r=f;break}v=v.sibling}if(!y){for(v=f.child;v;){if(v===r){y=!0,r=f,i=u;break}if(v===i){y=!0,i=f,r=u;break}v=v.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Symbol.for("react.client.reference");function ln(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case q:return"Profiler";case B:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case Ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case P:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:ln(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return ln(e(t))}catch{}}return null}var gt=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Y=[],z=-1;function he(e){return{current:e}}function xe(e){0>z||(e.current=Y[z],Y[z]=null,z--)}function Re(e,t){z++,Y[z]=e.current,e.current=t}var qe=he(null),Ct=he(null),Xt=he(null),yr=he(null);function Qr(e,t){switch(Re(Xt,t),Re(Ct,e),Re(qe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rm(t),e=bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(qe),Re(qe,e)}function qn(){xe(qe),xe(Ct),xe(Xt)}function re(e){e.memoizedState!==null&&Re(yr,e);var t=qe.current,r=bm(t,e.type);t!==r&&(Re(Ct,e),Re(qe,r))}function $(e){Ct.current===e&&(xe(qe),xe(Ct)),yr.current===e&&(xe(yr),ji._currentValue=ee)}var G=Object.prototype.hasOwnProperty,le=o.unstable_scheduleCallback,O=o.unstable_cancelCallback,st=o.unstable_shouldYield,Vt=o.unstable_requestPaint,ot=o.unstable_now,Rl=o.unstable_getCurrentPriorityLevel,Xa=o.unstable_ImmediatePriority,Va=o.unstable_UserBlockingPriority,hr=o.unstable_NormalPriority,Xr=o.unstable_LowPriority,bl=o.unstable_IdlePriority,Vr=o.log,Zr=o.unstable_setDisableYieldValue,sn=null,Be=null;function E(e){if(typeof Vr=="function"&&Zr(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(sn,e)}catch{}}var k=Math.clz32?Math.clz32:Ut,X=Math.log,Zt=Math.LN2;function Ut(e){return e>>>=0,e===0?32:31-(X(e)/Zt|0)|0}var Ir=256,Sl=4194304;function gr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dl(e,t,r){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~f,i!==0?u=gr(i):(y&=v,y!==0?u=gr(y):r||(r=v&~e,r!==0&&(u=gr(r))))):(v=i&~f,v!==0?u=gr(v):y!==0?u=gr(y):r||(r=i&~e,r!==0&&(u=gr(r)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:u}function Za(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nf(){var e=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),e}function rf(){var e=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),e}function Js(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ia(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yg(e,t,r,i,u,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,R=e.expirationTimes,N=e.hiddenUpdates;for(r=y&~r;0<r;){var x=31-k(r),L=1<<x;v[x]=0,R[x]=-1;var _=N[x];if(_!==null)for(N[x]=null,x=0;x<_.length;x++){var w=_[x];w!==null&&(w.lane&=-536870913)}r&=~L}i!==0&&af(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function af(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-k(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|r&4194090}function lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-k(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}function eo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function to(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sf(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Gm(e.type))}function hg(e,t){var r=Q.p;try{return Q.p=e,t()}finally{Q.p=r}}var Gn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Gn,vt="__reactProps$"+Gn,Wr="__reactContainer$"+Gn,no="__reactEvents$"+Gn,gg="__reactListeners$"+Gn,vg="__reactHandles$"+Gn,of="__reactResources$"+Gn,Wa="__reactMarker$"+Gn;function ro(e){delete e[ut],delete e[vt],delete e[no],delete e[gg],delete e[vg]}function Jr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Am(e);e!==null;){if(r=e[ut])return r;e=Am(e)}return t}e=r,r=e.parentNode}return null}function ea(e){if(e=e[ut]||e[Wr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ta(e){var t=e[of];return t||(t=e[of]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Wa]=!0}var uf=new Set,cf={};function vr(e,t){na(e,t),na(e+"Capture",t)}function na(e,t){for(cf[e]=t,e=0;e<t.length;e++)uf.add(t[e])}var Tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ff={},df={};function Rg(e){return G.call(df,e)?!0:G.call(ff,e)?!1:Tg.test(e)?df[e]=!0:(ff[e]=!0,!1)}function Cl(e,t,r){if(Rg(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Al(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function yn(e,t,r,i){if(i===null)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+i)}}var ao,pf;function ra(e){if(ao===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ao=t&&t[1]||"",pf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ao+e+pf}var io=!1;function lo(e,t){if(!e||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(w){var _=w}Reflect.construct(e,[],L)}else{try{L.call()}catch(w){_=w}e.call(L.prototype)}}else{try{throw Error()}catch(w){_=w}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(w){if(w&&_&&typeof w.stack=="string")return[w.stack,_.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),y=f[0],v=f[1];if(y&&v){var R=y.split(`
`),N=v.split(`
`);for(u=i=0;i<R.length&&!R[i].includes("DetermineComponentFrameRoot");)i++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(i===R.length||u===N.length)for(i=R.length-1,u=N.length-1;1<=i&&0<=u&&R[i]!==N[u];)u--;for(;1<=i&&0<=u;i--,u--)if(R[i]!==N[u]){if(i!==1||u!==1)do if(i--,u--,0>u||R[i]!==N[u]){var x=`
`+R[i].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=i&&0<=u);break}}}finally{io=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ra(r):""}function bg(e){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return lo(e.type,!1);case 11:return lo(e.type.render,!1);case 1:return lo(e.type,!0);case 31:return ra("Activity");default:return""}}function mf(e){try{var t="";do t+=bg(e),e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=yf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){i=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nl(e){e._valueTracker||(e._valueTracker=Sg(e))}function hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=yf(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dg=/[\n"\\]/g;function Ht(e){return e.replace(Dg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function so(e,t,r,i,u,f,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?oo(e,y,Ot(t)):r!=null?oo(e,y,Ot(r)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ot(v):e.removeAttribute("name")}function gf(e,t,r,i,u,f,y,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;r=r!=null?""+Ot(r):"",t=t!=null?""+Ot(t):r,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function oo(e,t,r){t==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function aa(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Ot(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function vf(e,t,r){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Ot(r):""}function Tf(e,t,r,i){if(t==null){if(i!=null){if(r!=null)throw Error(l(92));if(gt(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),t=r}r=Ot(t),e.defaultValue=r,i=e.textContent,i===r&&i!==""&&i!==null&&(e.value=i)}function ia(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rf(e,t,r){var i=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,r):typeof r!="number"||r===0||Cg.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function bf(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&r[u]!==i&&Rf(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&Rf(e,f,t[f])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(e){return Ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var co=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,sa=null;function Sf(e){var t=ea(e);if(t&&(e=t.stateNode)){var r=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(so(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=i[vt]||null;if(!u)throw Error(l(90));so(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<r.length;t++)i=r[t],i.form===e.form&&hf(i)}break e;case"textarea":vf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&aa(e,!!r.multiple,t,!1)}}}var po=!1;function Df(e,t,r){if(po)return e(t,r);po=!0;try{var i=e(t);return i}finally{if(po=!1,(la!==null||sa!==null)&&(ps(),la&&(t=la,e=sa,sa=la=null,Sf(t),e)))for(t=0;t<e.length;t++)Sf(e[t])}}function ei(e,t){var r=e.stateNode;if(r===null)return null;var i=r[vt]||null;if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(hn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){mo=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{mo=!1}var jn=null,yo=null,wl=null;function Cf(){if(wl)return wl;var e,t=yo,r=t.length,i,u="value"in jn?jn.value:jn.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(i=1;i<=y&&t[r-i]===u[f-i];i++);return wl=u.slice(e,1<i?1-i:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function Af(){return!1}function Tt(e){function t(r,i,u,f,y){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xl:Af,this.isPropagationStopped=Af,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Tt(Tr),ni=g({},Tr,{view:0,detail:0}),_g=Tt(ni),ho,go,ri,Ml=g({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ho=e.screenX-ri.screenX,go=e.screenY-ri.screenY):go=ho=0,ri=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Nf=Tt(Ml),$g=g({},Ml,{dataTransfer:0}),wg=Tt($g),kg=g({},ni,{relatedTarget:0}),vo=Tt(kg),xg=g({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=Tt(xg),Mg=g({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zg=Tt(Mg),Ug=g({},Tr,{data:0}),_f=Tt(Ug),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function To(){return qg}var Gg=g({},ni,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=Tt(Gg),Kg=g({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=Tt(Kg),Bg=g({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Fg=Tt(Bg),Pg=g({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=Tt(Pg),Qg=g({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xg=Tt(Qg),Vg=g({},Tr,{newState:0,oldState:0}),Zg=Tt(Vg),Ig=[9,13,27,32],Ro=hn&&"CompositionEvent"in window,ai=null;hn&&"documentMode"in document&&(ai=document.documentMode);var Wg=hn&&"TextEvent"in window&&!ai,wf=hn&&(!Ro||ai&&8<ai&&11>=ai),kf=" ",xf=!1;function Ef(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function Jg(e,t){switch(e){case"compositionend":return Mf(t);case"keypress":return t.which!==32?null:(xf=!0,kf);case"textInput":return e=t.data,e===kf&&xf?null:e;default:return null}}function ev(e,t){if(oa)return e==="compositionend"||!Ro&&Ef(e,t)?(e=Cf(),wl=yo=jn=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tv[e.type]:t==="textarea"}function Uf(e,t,r,i){la?sa?sa.push(i):sa=[i]:la=i,t=Ts(t,"onChange"),0<t.length&&(r=new El("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ii=null,li=null;function nv(e){ym(e,0)}function zl(e){var t=Ja(e);if(hf(t))return e}function Of(e,t){if(e==="change")return t}var Hf=!1;if(hn){var bo;if(hn){var So="oninput"in document;if(!So){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),So=typeof Lf.oninput=="function"}bo=So}else bo=!1;Hf=bo&&(!document.documentMode||9<document.documentMode)}function qf(){ii&&(ii.detachEvent("onpropertychange",Gf),li=ii=null)}function Gf(e){if(e.propertyName==="value"&&zl(li)){var t=[];Uf(t,li,e,fo(e)),Df(nv,t)}}function rv(e,t,r){e==="focusin"?(qf(),ii=t,li=r,ii.attachEvent("onpropertychange",Gf)):e==="focusout"&&qf()}function av(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(li)}function iv(e,t){if(e==="click")return zl(t)}function lv(e,t){if(e==="input"||e==="change")return zl(t)}function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:sv;function si(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!G.call(t,u)||!At(e[u],t[u]))return!1}return!0}function jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,t){var r=jf(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jf(r)}}function Bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_l(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_l(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ov=hn&&"documentMode"in document&&11>=document.documentMode,ua=null,Co=null,oi=null,Ao=!1;function Pf(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ao||ua==null||ua!==_l(i)||(i=ua,"selectionStart"in i&&Do(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oi&&si(oi,i)||(oi=i,i=Ts(Co,"onSelect"),0<i.length&&(t=new El("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ua)))}function Rr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ca={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},No={},Yf={};hn&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function br(e){if(No[e])return No[e];if(!ca[e])return e;var t=ca[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yf)return No[e]=t[r];return e}var Qf=br("animationend"),Xf=br("animationiteration"),Vf=br("animationstart"),uv=br("transitionrun"),cv=br("transitionstart"),fv=br("transitioncancel"),Zf=br("transitionend"),If=new Map,_o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_o.push("scrollEnd");function It(e,t){If.set(e,t),vr(t,[e])}var Wf=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var r=Wf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:mf(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:mf(t)}}var qt=[],fa=0,$o=0;function Ul(){for(var e=fa,t=$o=fa=0;t<e;){var r=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var u=qt[t];qt[t++]=null;var f=qt[t];if(qt[t++]=null,i!==null&&u!==null){var y=i.pending;y===null?u.next=u:(u.next=y.next,y.next=u),i.pending=u}f!==0&&Jf(r,u,f)}}function Ol(e,t,r,i){qt[fa++]=e,qt[fa++]=t,qt[fa++]=r,qt[fa++]=i,$o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function wo(e,t,r,i){return Ol(e,t,r,i),Hl(e)}function da(e,t){return Ol(e,null,null,t),Hl(e)}function Jf(e,t,r){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=e.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-k(r),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=r|536870912),f):null}function Hl(e){if(50<Mi)throw Mi=0,Uu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pa={};function dv(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,i){return new dv(e,t,r,i)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ed(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ll(e,t,r,i,u,f){var y=0;if(i=e,typeof e=="function")ko(e)&&(y=1);else if(typeof e=="string")y=m0(e,r,qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ue:return e=Nt(31,r,t,u),e.elementType=Ue,e.lanes=f,e;case H:return Sr(r.children,u,f,t);case B:y=8,u|=24;break;case q:return e=Nt(12,r,t,u|2),e.elementType=q,e.lanes=f,e;case oe:return e=Nt(13,r,t,u),e.elementType=oe,e.lanes=f,e;case ie:return e=Nt(19,r,t,u),e.elementType=ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case P:y=10;break e;case j:y=9;break e;case W:y=11;break e;case ye:y=14;break e;case fe:y=16,i=null;break e}y=29,r=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Nt(y,r,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function Sr(e,t,r,i){return e=Nt(7,e,i,t),e.lanes=r,e}function xo(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Eo(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ma=[],ya=0,ql=null,Gl=0,Gt=[],jt=0,Dr=null,vn=1,Tn="";function Cr(e,t){ma[ya++]=Gl,ma[ya++]=ql,ql=e,Gl=t}function td(e,t,r){Gt[jt++]=vn,Gt[jt++]=Tn,Gt[jt++]=Dr,Dr=e;var i=vn;e=Tn;var u=32-k(i)-1;i&=~(1<<u),r+=1;var f=32-k(t)+u;if(30<f){var y=u-u%5;f=(i&(1<<y)-1).toString(32),i>>=y,u-=y,vn=1<<32-k(t)+u|r<<u|i,Tn=f+e}else vn=1<<f|r<<u|i,Tn=e}function Mo(e){e.return!==null&&(Cr(e,1),td(e,1,0))}function zo(e){for(;e===ql;)ql=ma[--ya],ma[ya]=null,Gl=ma[--ya],ma[ya]=null;for(;e===Dr;)Dr=Gt[--jt],Gt[jt]=null,Tn=Gt[--jt],Gt[jt]=null,vn=Gt[--jt],Gt[jt]=null}var dt=null,Oe=null,be=!1,Ar=null,on=!1,Uo=Error(l(519));function Nr(e){var t=Error(l(418,""));throw fi(Lt(t,e)),Uo}function nd(e){var t=e.stateNode,r=e.type,i=e.memoizedProps;switch(t[ut]=e,t[vt]=i,r){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(r=0;r<Ui.length;r++)pe(Ui[r],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),gf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Nl(t);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Tf(t,i.value,i.defaultValue,i.children),Nl(t)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||i.suppressHydrationWarning===!0||Tm(t.textContent,r)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=Rs),t=!0):t=!1,t||Nr(e)}function rd(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:dt=dt.return}}function ui(e){if(e!==dt)return!1;if(!be)return rd(e),be=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Iu(e.type,e.memoizedProps)),r=!r),r&&Oe&&Nr(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(t===0){Oe=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++;e=e.nextSibling}Oe=null}}else t===27?(t=Oe,rr(e.type)?(e=tc,tc=null,Oe=e):Oe=t):Oe=dt?Jt(e.stateNode.nextSibling):null;return!0}function ci(){Oe=dt=null,be=!1}function ad(){var e=Ar;return e!==null&&(St===null?St=e:St.push.apply(St,e),Ar=null),e}function fi(e){Ar===null?Ar=[e]:Ar.push(e)}var Oo=he(null),_r=null,Rn=null;function Kn(e,t,r){Re(Oo,t._currentValue),t._currentValue=r}function bn(e){e._currentValue=Oo.current,xe(Oo)}function Ho(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Lo(e,t,r,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var R=0;R<t.length;R++)if(v.context===t[R]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),Ho(f.return,r,e),i||(y=null);break e}f=v.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Ho(y,r,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function di(e,t,r,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var v=u.type;At(u.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(u===yr.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}u=u.return}e!==null&&Lo(t,e,r,i),t.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $r(e){_r=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return id(_r,e)}function Kl(e,t){return _r===null&&$r(e),id(e,t)}function id(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Rn===null){if(e===null)throw Error(l(308));Rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rn=Rn.next=t;return r}var pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},mv=o.unstable_scheduleCallback,yv=o.unstable_NormalPriority,Qe={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new pv,data:new Map,refCount:0}}function pi(e){e.refCount--,e.refCount===0&&mv(yv,function(){e.controller.abort()})}var mi=null,Go=0,ha=0,ga=null;function hv(e,t){if(mi===null){var r=mi=[];Go=0,ha=Ku(),ga={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Go++,t.then(ld,ld),t}function ld(){if(--Go===0&&mi!==null){ga!==null&&(ga.status="fulfilled");var e=mi;mi=null,ha=0,ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gv(e,t){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<r.length;u++)(0,r[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var sd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&hv(e,t),sd!==null&&sd(e,t)};var wr=he(null);function jo(){var e=wr.current;return e!==null?e:Ee.pooledCache}function Bl(e,t){t===null?Re(wr,wr.current):Re(wr,t.pool)}function od(){var e=jo();return e===null?null:{parent:Qe._currentValue,pool:e}}var yi=Error(l(460)),ud=Error(l(474)),Fl=Error(l(542)),Ko={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pl(){}function fd(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Pl,Pl),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(Pl,Pl);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw hi=t,yi}}var hi=null;function dd(){if(hi===null)throw Error(l(459));var e=hi;return hi=null,e}function pd(e){if(e===yi||e===Fl)throw Error(l(483))}var Bn=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(De&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Hl(e),Jf(e,null,r),t}return Ol(e,i,t,r),Hl(e)}function gi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,lf(e,r)}}function Po(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Yo=!1;function vi(){if(Yo){var e=ga;if(e!==null)throw e}}function Ti(e,t,r,i){Yo=!1;var u=e.updateQueue;Bn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var R=v,N=R.next;R.next=null,y===null?f=N:y.next=N,y=R;var x=e.alternate;x!==null&&(x=x.updateQueue,v=x.lastBaseUpdate,v!==y&&(v===null?x.firstBaseUpdate=N:v.next=N,x.lastBaseUpdate=R))}if(f!==null){var L=u.baseState;y=0,x=N=R=null,v=f;do{var _=v.lane&-536870913,w=_!==v.lane;if(w?(ge&_)===_:(i&_)===_){_!==0&&_===ha&&(Yo=!0),x!==null&&(x=x.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=e,J=v;_=t;var _e=r;switch(J.tag){case 1:if(ae=J.payload,typeof ae=="function"){L=ae.call(_e,L,_);break e}L=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=J.payload,_=typeof ae=="function"?ae.call(_e,L,_):ae,_==null)break e;L=g({},L,_);break e;case 2:Bn=!0}}_=v.callback,_!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[_]:w.push(_))}else w={lane:_,tag:v.tag,payload:v.payload,callback:v.callback,next:null},x===null?(N=x=w,R=L):x=x.next=w,y|=_;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;w=v,v=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);x===null&&(R=L),u.baseState=R,u.firstBaseUpdate=N,u.lastBaseUpdate=x,f===null&&(u.shared.lanes=0),Jn|=y,e.lanes=y,e.memoizedState=L}}function md(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function yd(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)md(r[e],t)}var va=he(null),Yl=he(0);function hd(e,t){e=$n,Re(Yl,e),Re(va,t),$n=e|t.baseLanes}function Qo(){Re(Yl,$n),Re(va,va.current)}function Xo(){$n=Yl.current,xe(va),xe(Yl)}var Yn=0,ue=null,Ae=null,Fe=null,Ql=!1,Ta=!1,kr=!1,Xl=0,Ri=0,Ra=null,vv=0;function Ge(){throw Error(l(321))}function Vo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Zo(e,t,r,i,u,f){return Yn=f,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Jd:ep,kr=!1,f=r(i,u),kr=!1,Ta&&(f=vd(t,r,i,u)),gd(e),f}function gd(e){M.H=es;var t=Ae!==null&&Ae.next!==null;if(Yn=0,Fe=Ae=ue=null,Ql=!1,Ri=0,Ra=null,t)throw Error(l(300));e===null||Je||(e=e.dependencies,e!==null&&jl(e)&&(Je=!0))}function vd(e,t,r,i){ue=e;var u=0;do{if(Ta&&(Ra=null),Ri=0,Ta=!1,25<=u)throw Error(l(301));if(u+=1,Fe=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Av,f=t(r,i)}while(Ta);return f}function Tv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?bi(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ue.flags|=1024),t}function Io(){var e=Xl!==0;return Xl=0,e}function Wo(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Jo(e){if(Ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ql=!1}Yn=0,Fe=Ae=ue=null,Ta=!1,Ri=Xl=0,Ra=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(Ae===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?ue.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bi(e){var t=Ri;return Ri+=1,Ra===null&&(Ra=[]),e=fd(Ra,e,t),t=ue,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Jd:ep),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bi(e);if(e.$$typeof===P)return ct(e)}throw Error(l(438,String(e)))}function tu(e){var t=null,r=ue.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=eu(),ue.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),i=0;i<e;i++)r[i]=ke;return t.index++,r}function Sn(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Pe();return nu(t,Ae,e)}function nu(e,t,r){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var v=y=null,R=null,N=t,x=!1;do{var L=N.lane&-536870913;if(L!==N.lane?(ge&L)===L:(Yn&L)===L){var _=N.revertLane;if(_===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),L===ha&&(x=!0);else if((Yn&_)===_){N=N.next,_===ha&&(x=!0);continue}else L={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(v=R=L,y=f):R=R.next=L,ue.lanes|=_,Jn|=_;L=N.action,kr&&r(f,L),f=N.hasEagerState?N.eagerState:r(f,L)}else _={lane:L,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},R===null?(v=R=_,y=f):R=R.next=_,ue.lanes|=L,Jn|=L;N=N.next}while(N!==null&&N!==t);if(R===null?y=f:R.next=v,!At(f,e.memoizedState)&&(Je=!0,x&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=R,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ru(e){var t=Pe(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);At(f,t.memoizedState)||(Je=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function Td(e,t,r){var i=ue,u=Pe(),f=be;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=t();var y=!At((Ae||u).memoizedState,r);y&&(u.memoizedState=r,Je=!0),u=u.queue;var v=Sd.bind(null,i,u,e);if(Si(2048,8,v,[e]),u.getSnapshot!==t||y||Fe!==null&&Fe.memoizedState.tag&1){if(i.flags|=2048,ba(9,Il(),bd.bind(null,i,u,r,t),null),Ee===null)throw Error(l(349));f||(Yn&124)!==0||Rd(i,t,r)}return r}function Rd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t=eu(),ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bd(e,t,r,i){t.value=r,t.getSnapshot=i,Dd(t)&&Cd(e)}function Sd(e,t,r){return r(function(){Dd(t)&&Cd(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function Cd(e){var t=da(e,2);t!==null&&xt(t,e,2)}function au(e){var t=Rt();if(typeof e=="function"){var r=e;if(e=r(),kr){E(!0);try{r()}finally{E(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Ad(e,t,r,i){return e.baseState=r,nu(e,Ae,typeof i=="function"?i:Sn)}function Rv(e,t,r,i,u){if(Jl(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?r(!0):f.isTransition=!1,i(f),r=t.pending,r===null?(f.next=t.pending=f,Nd(t,f)):(f.next=r.next,t.pending=r.next=f)}}function Nd(e,t){var r=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=M.T,y={};M.T=y;try{var v=r(u,i),R=M.S;R!==null&&R(y,v),_d(e,t,v)}catch(N){iu(e,t,N)}finally{M.T=f}}else try{f=r(u,i),_d(e,t,f)}catch(N){iu(e,t,N)}}function _d(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){$d(e,t,i)},function(i){return iu(e,t,i)}):$d(e,t,r)}function $d(e,t,r){t.status="fulfilled",t.value=r,wd(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Nd(e,r)))}function iu(e,t,r){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=r,wd(t),t=t.next;while(t!==i)}e.action=null}function wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kd(e,t){return t}function xd(e,t){if(be){var r=Ee.formState;if(r!==null){e:{var i=ue;if(be){if(Oe){t:{for(var u=Oe,f=on;u.nodeType!==8;){if(!f){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Oe=Jt(u.nextSibling),i=u.data==="F!";break e}}Nr(i)}i=!1}i&&(t=r[0])}}return r=Rt(),r.memoizedState=r.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},r.queue=i,r=Zd.bind(null,ue,i),i.dispatch=r,i=au(!1),f=cu.bind(null,ue,!1,i.queue),i=Rt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,r=Rv.bind(null,ue,u,f,r),u.dispatch=r,i.memoizedState=e,[t,r,!1]}function Ed(e){var t=Pe();return Md(t,Ae,e)}function Md(e,t,r){if(t=nu(e,t,kd)[0],e=Zl(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=bi(t)}catch(y){throw y===yi?Fl:y}else i=t;t=Pe();var u=t.queue,f=u.dispatch;return r!==t.memoizedState&&(ue.flags|=2048,ba(9,Il(),bv.bind(null,u,r),null)),[i,f,e]}function bv(e,t){e.action=t}function zd(e){var t=Pe(),r=Ae;if(r!==null)return Md(t,r,e);Pe(),t=t.memoizedState,r=Pe();var i=r.queue.dispatch;return r.memoizedState=e,[t,i,!1]}function ba(e,t,r,i){return e={tag:e,create:r,deps:i,inst:t,next:null},t=ue.updateQueue,t===null&&(t=eu(),ue.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function Il(){return{destroy:void 0,resource:void 0}}function Ud(){return Pe().memoizedState}function Wl(e,t,r,i){var u=Rt();i=i===void 0?null:i,ue.flags|=e,u.memoizedState=ba(1|t,Il(),r,i)}function Si(e,t,r,i){var u=Pe();i=i===void 0?null:i;var f=u.memoizedState.inst;Ae!==null&&i!==null&&Vo(i,Ae.memoizedState.deps)?u.memoizedState=ba(t,f,r,i):(ue.flags|=e,u.memoizedState=ba(1|t,f,r,i))}function Od(e,t){Wl(8390656,8,e,t)}function Hd(e,t){Si(2048,8,e,t)}function Ld(e,t){return Si(4,2,e,t)}function qd(e,t){return Si(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,r){r=r!=null?r.concat([e]):null,Si(4,4,Gd.bind(null,t,e),r)}function lu(){}function Kd(e,t){var r=Pe();t=t===void 0?null:t;var i=r.memoizedState;return t!==null&&Vo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Bd(e,t){var r=Pe();t=t===void 0?null:t;var i=r.memoizedState;if(t!==null&&Vo(t,i[1]))return i[0];if(i=e(),kr){E(!0);try{e()}finally{E(!1)}}return r.memoizedState=[i,t],i}function su(e,t,r){return r===void 0||(Yn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=r,e=Yp(),ue.lanes|=e,Jn|=e,r)}function Fd(e,t,r,i){return At(r,t)?r:va.current!==null?(e=su(e,r,i),At(e,t)||(Je=!0),e):(Yn&42)===0?(Je=!0,e.memoizedState=r):(e=Yp(),ue.lanes|=e,Jn|=e,t)}function Pd(e,t,r,i,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var y=M.T,v={};M.T=v,cu(e,!1,t,r);try{var R=u(),N=M.S;if(N!==null&&N(v,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var x=gv(R,i);Di(e,t,x,kt(e))}else Di(e,t,i,kt(e))}catch(L){Di(e,t,{then:function(){},status:"rejected",reason:L},kt())}finally{Q.p=f,M.T=y}}function Sv(){}function ou(e,t,r,i){if(e.tag!==5)throw Error(l(476));var u=Yd(e).queue;Pd(e,u,t,ee,r===null?Sv:function(){return Qd(e),r(i)})}function Yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ee},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qd(e){var t=Yd(e).next.queue;Di(e,t,{},kt())}function uu(){return ct(ji)}function Xd(){return Pe().memoizedState}function Vd(){return Pe().memoizedState}function Dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=kt();e=Fn(r);var i=Pn(t,e,r);i!==null&&(xt(i,t,r),gi(i,t,r)),t={cache:qo()},e.payload=t;return}t=t.return}}function Cv(e,t,r){var i=kt();r={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Jl(e)?Id(t,r):(r=wo(e,t,r,i),r!==null&&(xt(r,e,i),Wd(r,t,i)))}function Zd(e,t,r){var i=kt();Di(e,t,r,i)}function Di(e,t,r,i){var u={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Id(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,v=f(y,r);if(u.hasEagerState=!0,u.eagerState=v,At(v,y))return Ol(e,t,u,0),Ee===null&&Ul(),!1}catch{}finally{}if(r=wo(e,t,u,i),r!==null)return xt(r,e,i),Wd(r,t,i),!0}return!1}function cu(e,t,r,i){if(i={lane:2,revertLane:Ku(),action:i,hasEagerState:!1,eagerState:null,next:null},Jl(e)){if(t)throw Error(l(479))}else t=wo(e,r,i,2),t!==null&&xt(t,e,2)}function Jl(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Id(e,t){Ta=Ql=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wd(e,t,r){if((r&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,lf(e,r)}}var es={readContext:ct,use:Vl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},Jd={readContext:ct,use:Vl,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Od,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Wl(4194308,4,Gd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var r=Rt();t=t===void 0?null:t;var i=e();if(kr){E(!0);try{e()}finally{E(!1)}}return r.memoizedState=[i,t],i},useReducer:function(e,t,r){var i=Rt();if(r!==void 0){var u=r(t);if(kr){E(!0);try{r(t)}finally{E(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Cv.bind(null,ue,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,r=Zd.bind(null,ue,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:lu,useDeferredValue:function(e,t){var r=Rt();return su(r,e,t)},useTransition:function(){var e=au(!1);return e=Pd.bind(null,ue,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var i=ue,u=Rt();if(be){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Ee===null)throw Error(l(349));(ge&124)!==0||Rd(i,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Od(Sd.bind(null,i,f,e),[e]),i.flags|=2048,ba(9,Il(),bd.bind(null,i,f,r,t),null),r},useId:function(){var e=Rt(),t=Ee.identifierPrefix;if(be){var r=Tn,i=vn;r=(i&~(1<<32-k(i)-1)).toString(32)+r,t="«"+t+"R"+r,r=Xl++,0<r&&(t+="H"+r.toString(32)),t+="»"}else r=vv++,t="«"+t+"r"+r.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:uu,useFormState:xd,useActionState:xd,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=cu.bind(null,ue,!0,r),r.dispatch=t,[e,t]},useMemoCache:tu,useCacheRefresh:function(){return Rt().memoizedState=Dv.bind(null,ue)}},ep={readContext:ct,use:Vl,useCallback:Kd,useContext:ct,useEffect:Hd,useImperativeHandle:jd,useInsertionEffect:Ld,useLayoutEffect:qd,useMemo:Bd,useReducer:Zl,useRef:Ud,useState:function(){return Zl(Sn)},useDebugValue:lu,useDeferredValue:function(e,t){var r=Pe();return Fd(r,Ae.memoizedState,e,t)},useTransition:function(){var e=Zl(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:bi(e),t]},useSyncExternalStore:Td,useId:Xd,useHostTransitionStatus:uu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var r=Pe();return Ad(r,Ae,e,t)},useMemoCache:tu,useCacheRefresh:Vd},Av={readContext:ct,use:Vl,useCallback:Kd,useContext:ct,useEffect:Hd,useImperativeHandle:jd,useInsertionEffect:Ld,useLayoutEffect:qd,useMemo:Bd,useReducer:ru,useRef:Ud,useState:function(){return ru(Sn)},useDebugValue:lu,useDeferredValue:function(e,t){var r=Pe();return Ae===null?su(r,e,t):Fd(r,Ae.memoizedState,e,t)},useTransition:function(){var e=ru(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:bi(e),t]},useSyncExternalStore:Td,useId:Xd,useHostTransitionStatus:uu,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var r=Pe();return Ae!==null?Ad(r,Ae,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:tu,useCacheRefresh:Vd},Sa=null,Ci=0;function ts(e){var t=Ci;return Ci+=1,Sa===null&&(Sa=[]),fd(Sa,e,t)}function Ai(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ns(e,t){throw t.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tp(e){var t=e._init;return t(e._payload)}function np(e){function t(C,S){if(e){var A=C.deletions;A===null?(C.deletions=[S],C.flags|=16):A.push(S)}}function r(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function i(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function u(C,S){return C=gn(C,S),C.index=0,C.sibling=null,C}function f(C,S,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<S?(C.flags|=67108866,S):A):(C.flags|=67108866,S)):(C.flags|=1048576,S)}function y(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,S,A,U){return S===null||S.tag!==6?(S=xo(A,C.mode,U),S.return=C,S):(S=u(S,A),S.return=C,S)}function R(C,S,A,U){var V=A.type;return V===H?x(C,S,A.props.children,U,A.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fe&&tp(V)===S.type)?(S=u(S,A.props),Ai(S,A),S.return=C,S):(S=Ll(A.type,A.key,A.props,null,C.mode,U),Ai(S,A),S.return=C,S)}function N(C,S,A,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Eo(A,C.mode,U),S.return=C,S):(S=u(S,A.children||[]),S.return=C,S)}function x(C,S,A,U,V){return S===null||S.tag!==7?(S=Sr(A,C.mode,U,V),S.return=C,S):(S=u(S,A),S.return=C,S)}function L(C,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=xo(""+S,C.mode,A),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case b:return A=Ll(S.type,S.key,S.props,null,C.mode,A),Ai(A,S),A.return=C,A;case D:return S=Eo(S,C.mode,A),S.return=C,S;case fe:var U=S._init;return S=U(S._payload),L(C,S,A)}if(gt(S)||Le(S))return S=Sr(S,C.mode,A,null),S.return=C,S;if(typeof S.then=="function")return L(C,ts(S),A);if(S.$$typeof===P)return L(C,Kl(C,S),A);ns(C,S)}return null}function _(C,S,A,U){var V=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:v(C,S,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return A.key===V?R(C,S,A,U):null;case D:return A.key===V?N(C,S,A,U):null;case fe:return V=A._init,A=V(A._payload),_(C,S,A,U)}if(gt(A)||Le(A))return V!==null?null:x(C,S,A,U,null);if(typeof A.then=="function")return _(C,S,ts(A),U);if(A.$$typeof===P)return _(C,S,Kl(C,A),U);ns(C,A)}return null}function w(C,S,A,U,V){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return C=C.get(A)||null,v(S,C,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return C=C.get(U.key===null?A:U.key)||null,R(S,C,U,V);case D:return C=C.get(U.key===null?A:U.key)||null,N(S,C,U,V);case fe:var ce=U._init;return U=ce(U._payload),w(C,S,A,U,V)}if(gt(U)||Le(U))return C=C.get(A)||null,x(S,C,U,V,null);if(typeof U.then=="function")return w(C,S,A,ts(U),V);if(U.$$typeof===P)return w(C,S,A,Kl(S,U),V);ns(S,U)}return null}function ae(C,S,A,U){for(var V=null,ce=null,I=S,te=S=0,tt=null;I!==null&&te<A.length;te++){I.index>te?(tt=I,I=null):tt=I.sibling;var Te=_(C,I,A[te],U);if(Te===null){I===null&&(I=tt);break}e&&I&&Te.alternate===null&&t(C,I),S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te,I=tt}if(te===A.length)return r(C,I),be&&Cr(C,te),V;if(I===null){for(;te<A.length;te++)I=L(C,A[te],U),I!==null&&(S=f(I,S,te),ce===null?V=I:ce.sibling=I,ce=I);return be&&Cr(C,te),V}for(I=i(I);te<A.length;te++)tt=w(I,C,te,A[te],U),tt!==null&&(e&&tt.alternate!==null&&I.delete(tt.key===null?te:tt.key),S=f(tt,S,te),ce===null?V=tt:ce.sibling=tt,ce=tt);return e&&I.forEach(function(or){return t(C,or)}),be&&Cr(C,te),V}function J(C,S,A,U){if(A==null)throw Error(l(151));for(var V=null,ce=null,I=S,te=S=0,tt=null,Te=A.next();I!==null&&!Te.done;te++,Te=A.next()){I.index>te?(tt=I,I=null):tt=I.sibling;var or=_(C,I,Te.value,U);if(or===null){I===null&&(I=tt);break}e&&I&&or.alternate===null&&t(C,I),S=f(or,S,te),ce===null?V=or:ce.sibling=or,ce=or,I=tt}if(Te.done)return r(C,I),be&&Cr(C,te),V;if(I===null){for(;!Te.done;te++,Te=A.next())Te=L(C,Te.value,U),Te!==null&&(S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te);return be&&Cr(C,te),V}for(I=i(I);!Te.done;te++,Te=A.next())Te=w(I,C,te,Te.value,U),Te!==null&&(e&&Te.alternate!==null&&I.delete(Te.key===null?te:Te.key),S=f(Te,S,te),ce===null?V=Te:ce.sibling=Te,ce=Te);return e&&I.forEach(function(N0){return t(C,N0)}),be&&Cr(C,te),V}function _e(C,S,A,U){if(typeof A=="object"&&A!==null&&A.type===H&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case b:e:{for(var V=A.key;S!==null;){if(S.key===V){if(V=A.type,V===H){if(S.tag===7){r(C,S.sibling),U=u(S,A.props.children),U.return=C,C=U;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fe&&tp(V)===S.type){r(C,S.sibling),U=u(S,A.props),Ai(U,A),U.return=C,C=U;break e}r(C,S);break}else t(C,S);S=S.sibling}A.type===H?(U=Sr(A.props.children,C.mode,U,A.key),U.return=C,C=U):(U=Ll(A.type,A.key,A.props,null,C.mode,U),Ai(U,A),U.return=C,C=U)}return y(C);case D:e:{for(V=A.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){r(C,S.sibling),U=u(S,A.children||[]),U.return=C,C=U;break e}else{r(C,S);break}else t(C,S);S=S.sibling}U=Eo(A,C.mode,U),U.return=C,C=U}return y(C);case fe:return V=A._init,A=V(A._payload),_e(C,S,A,U)}if(gt(A))return ae(C,S,A,U);if(Le(A)){if(V=Le(A),typeof V!="function")throw Error(l(150));return A=V.call(A),J(C,S,A,U)}if(typeof A.then=="function")return _e(C,S,ts(A),U);if(A.$$typeof===P)return _e(C,S,Kl(C,A),U);ns(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(r(C,S.sibling),U=u(S,A),U.return=C,C=U):(r(C,S),U=xo(A,C.mode,U),U.return=C,C=U),y(C)):r(C,S)}return function(C,S,A,U){try{Ci=0;var V=_e(C,S,A,U);return Sa=null,V}catch(I){if(I===yi||I===Fl)throw I;var ce=Nt(29,I,null,C.mode);return ce.lanes=U,ce.return=C,ce}finally{}}}var Da=np(!0),rp=np(!1),Kt=he(null),un=null;function Qn(e){var t=e.alternate;Re(Xe,Xe.current&1),Re(Kt,e),un===null&&(t===null||va.current!==null||t.memoizedState!==null)&&(un=e)}function ap(e){if(e.tag===22){if(Re(Xe,Xe.current),Re(Kt,e),un===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(un=e)}}else Xn()}function Xn(){Re(Xe,Xe.current),Re(Kt,Kt.current)}function Dn(e){xe(Kt),un===e&&(un=null),xe(Xe)}var Xe=he(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ec(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fu(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:g({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var du={enqueueSetState:function(e,t,r){e=e._reactInternals;var i=kt(),u=Fn(i);u.payload=t,r!=null&&(u.callback=r),t=Pn(e,u,i),t!==null&&(xt(t,e,i),gi(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=kt(),u=Fn(i);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Pn(e,u,i),t!==null&&(xt(t,e,i),gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=kt(),i=Fn(r);i.tag=2,t!=null&&(i.callback=t),t=Pn(e,i,r),t!==null&&(xt(t,e,r),gi(t,e,r))}};function ip(e,t,r,i,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,y):t.prototype&&t.prototype.isPureReactComponent?!si(r,i)||!si(u,f):!0}function lp(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function xr(e,t){var r=t;if("ref"in t){r={};for(var i in t)i!=="ref"&&(r[i]=t[i])}if(e=e.defaultProps){r===t&&(r=g({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var as=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sp(e){as(e)}function op(e){console.error(e)}function up(e){as(e)}function is(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function cp(e,t,r){try{var i=e.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function pu(e,t,r){return r=Fn(r),r.tag=3,r.payload={element:null},r.callback=function(){is(e,t)},r}function fp(e){return e=Fn(e),e.tag=3,e}function dp(e,t,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){cp(t,r,i)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cp(t,r,i),typeof u!="function"&&(er===null?er=new Set([this]):er.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Nv(e,t,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=r.alternate,t!==null&&di(t,r,u,!0),r=Kt.current,r!==null){switch(r.tag){case 13:return un===null?Hu():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===Ko?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([i]):t.add(i),qu(e,i,u)),!1;case 22:return r.flags|=65536,i===Ko?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([i]):r.add(i)),qu(e,i,u)),!1}throw Error(l(435,r.tag))}return qu(e,i,u),Hu(),!1}if(be)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Uo&&(e=Error(l(422),{cause:i}),fi(Lt(e,r)))):(i!==Uo&&(t=Error(l(423),{cause:i}),fi(Lt(t,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Lt(i,r),u=pu(e.stateNode,i,u),Po(e,u),He!==4&&(He=2)),!1;var f=Error(l(520),{cause:i});if(f=Lt(f,r),Ei===null?Ei=[f]:Ei.push(f),He!==4&&(He=2),t===null)return!0;i=Lt(i,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=pu(r.stateNode,i,e),Po(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=fp(u),dp(u,e,r,i),Po(r,u),!1}r=r.return}while(r!==null);return!1}var pp=Error(l(461)),Je=!1;function rt(e,t,r,i){t.child=e===null?rp(t,null,r,i):Da(t,e.child,r,i)}function mp(e,t,r,i,u){r=r.render;var f=t.ref;if("ref"in i){var y={};for(var v in i)v!=="ref"&&(y[v]=i[v])}else y=i;return $r(t),i=Zo(e,t,r,y,f,u),v=Io(),e!==null&&!Je?(Wo(e,t,u),Cn(e,t,u)):(be&&v&&Mo(t),t.flags|=1,rt(e,t,i,u),t.child)}function yp(e,t,r,i,u){if(e===null){var f=r.type;return typeof f=="function"&&!ko(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,hp(e,t,f,i,u)):(e=Ll(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!bu(e,u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(y,i)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=gn(f,i),e.ref=t.ref,e.return=t,t.child=e}function hp(e,t,r,i,u){if(e!==null){var f=e.memoizedProps;if(si(f,i)&&e.ref===t.ref)if(Je=!1,t.pendingProps=i=f,bu(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return mu(e,t,r,i,u)}function gp(e,t,r){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|r:r,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return vp(e,t,i,r)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(t,f!==null?f.cachePool:null),f!==null?hd(t,f):Qo(),ap(t);else return t.lanes=t.childLanes=536870912,vp(e,t,f!==null?f.baseLanes|r:r,r)}else f!==null?(Bl(t,f.cachePool),hd(t,f),Xn(),t.memoizedState=null):(e!==null&&Bl(t,null),Qo(),Xn());return rt(e,t,u,r),t.child}function vp(e,t,r,i){var u=jo();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:r,cachePool:u},e!==null&&Bl(t,null),Qo(),ap(t),e!==null&&di(e,t,i,!0),null}function ls(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function mu(e,t,r,i,u){return $r(t),r=Zo(e,t,r,i,void 0,u),i=Io(),e!==null&&!Je?(Wo(e,t,u),Cn(e,t,u)):(be&&i&&Mo(t),t.flags|=1,rt(e,t,r,u),t.child)}function Tp(e,t,r,i,u,f){return $r(t),t.updateQueue=null,r=vd(t,i,r,u),gd(e),i=Io(),e!==null&&!Je?(Wo(e,t,f),Cn(e,t,f)):(be&&i&&Mo(t),t.flags|=1,rt(e,t,r,f),t.child)}function Rp(e,t,r,i,u){if($r(t),t.stateNode===null){var f=pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=ct(y)),f=new r(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=du,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},Bo(t),y=r.contextType,f.context=typeof y=="object"&&y!==null?ct(y):pa,f.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fu(t,r,y,i),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&du.enqueueReplaceState(f,f.state,null),Ti(t,i,f,u),vi(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,R=xr(r,v);f.props=R;var N=f.context,x=r.contextType;y=pa,typeof x=="object"&&x!==null&&(y=ct(x));var L=r.getDerivedStateFromProps;x=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,x||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||N!==y)&&lp(t,f,i,y),Bn=!1;var _=t.memoizedState;f.state=_,Ti(t,i,f,u),vi(),N=t.memoizedState,v||_!==N||Bn?(typeof L=="function"&&(fu(t,r,L,i),N=t.memoizedState),(R=Bn||ip(t,r,R,i,_,N,y))?(x||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=N),f.props=i,f.state=N,f.context=y,i=R):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Fo(e,t),y=t.memoizedProps,x=xr(r,y),f.props=x,L=t.pendingProps,_=f.context,N=r.contextType,R=pa,typeof N=="object"&&N!==null&&(R=ct(N)),v=r.getDerivedStateFromProps,(N=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==L||_!==R)&&lp(t,f,i,R),Bn=!1,_=t.memoizedState,f.state=_,Ti(t,i,f,u),vi();var w=t.memoizedState;y!==L||_!==w||Bn||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof v=="function"&&(fu(t,r,v,i),w=t.memoizedState),(x=Bn||ip(t,r,x,i,_,w,R)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,w,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,w,R)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=w),f.props=i,f.state=w,f.context=R,i=x):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,ls(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Da(t,e.child,null,u),t.child=Da(t,null,r,u)):rt(e,t,r,u),t.memoizedState=f.state,e=t.child):e=Cn(e,t,u),e}function bp(e,t,r,i){return ci(),t.flags|=256,rt(e,t,r,i),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:od()}}function gu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Bt),e}function Sp(e,t,r){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Qn(t):Xn(),be){var v=Oe,R;if(R=v){e:{for(R=v,v=on;R.nodeType!==8;){if(!v){v=null;break e}if(R=Jt(R.nextSibling),R===null){v=null;break e}}v=R}v!==null?(t.memoizedState={dehydrated:v,treeContext:Dr!==null?{id:vn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},R=Nt(18,null,null,0),R.stateNode=v,R.return=t,t.child=R,dt=t,Oe=null,R=!0):R=!1}R||Nr(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ec(v)?t.lanes=32:t.lanes=536870912,null;Dn(t)}return v=i.children,i=i.fallback,u?(Xn(),u=t.mode,v=ss({mode:"hidden",children:v},u),i=Sr(i,u,r,null),v.return=t,i.return=t,v.sibling=i,t.child=v,u=t.child,u.memoizedState=hu(r),u.childLanes=gu(e,y,r),t.memoizedState=yu,i):(Qn(t),vu(t,v))}if(R=e.memoizedState,R!==null&&(v=R.dehydrated,v!==null)){if(f)t.flags&256?(Qn(t),t.flags&=-257,t=Tu(e,t,r)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),u=i.fallback,v=t.mode,i=ss({mode:"visible",children:i.children},v),u=Sr(u,v,r,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,Da(t,e.child,null,r),i=t.child,i.memoizedState=hu(r),i.childLanes=gu(e,y,r),t.memoizedState=yu,t=u);else if(Qn(t),ec(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var N=y.dgst;y=N,i=Error(l(419)),i.stack="",i.digest=y,fi({value:i,source:null,stack:null}),t=Tu(e,t,r)}else if(Je||di(e,t,r,!1),y=(r&e.childLanes)!==0,Je||y){if(y=Ee,y!==null&&(i=r&-r,i=(i&42)!==0?1:eo(i),i=(i&(y.suspendedLanes|r))!==0?0:i,i!==0&&i!==R.retryLane))throw R.retryLane=i,da(e,i),xt(y,e,i),pp;v.data==="$?"||Hu(),t=Tu(e,t,r)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Oe=Jt(v.nextSibling),dt=t,be=!0,Ar=null,on=!1,e!==null&&(Gt[jt++]=vn,Gt[jt++]=Tn,Gt[jt++]=Dr,vn=e.id,Tn=e.overflow,Dr=t),t=vu(t,i.children),t.flags|=4096);return t}return u?(Xn(),u=i.fallback,v=t.mode,R=e.child,N=R.sibling,i=gn(R,{mode:"hidden",children:i.children}),i.subtreeFlags=R.subtreeFlags&65011712,N!==null?u=gn(N,u):(u=Sr(u,v,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,v=e.child.memoizedState,v===null?v=hu(r):(R=v.cachePool,R!==null?(N=Qe._currentValue,R=R.parent!==N?{parent:N,pool:N}:R):R=od(),v={baseLanes:v.baseLanes|r,cachePool:R}),u.memoizedState=v,u.childLanes=gu(e,y,r),t.memoizedState=yu,i):(Qn(t),r=e.child,e=r.sibling,r=gn(r,{mode:"visible",children:i.children}),r.return=t,r.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=r,t.memoizedState=null,r)}function vu(e,t){return t=ss({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ss(e,t){return e=Nt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tu(e,t,r){return Da(t,e.child,null,r),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ho(e.return,t,r)}function Ru(e,t,r,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=u)}function Cp(e,t,r){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(rt(e,t,i.children,r),i=Xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,r,t);else if(e.tag===19)Dp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Re(Xe,i),u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&rs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Ru(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&rs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Ru(t,!0,r,null,f);break;case"together":Ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(di(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function _v(e,t,r){switch(t.tag){case 3:Qr(t,t.stateNode.containerInfo),Kn(t,Qe,e.memoizedState.cache),ci();break;case 27:case 5:re(t);break;case 4:Qr(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Sp(e,t,r):(Qn(t),e=Cn(e,t,r),e!==null?e.sibling:null);Qn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(r&t.childLanes)!==0,i||(di(e,t,r,!1),i=(r&t.childLanes)!==0),u){if(i)return Cp(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Re(Xe,Xe.current),i)break;return null;case 22:case 23:return t.lanes=0,gp(e,t,r);case 24:Kn(t,Qe,e.memoizedState.cache)}return Cn(e,t,r)}function Ap(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!bu(e,r)&&(t.flags&128)===0)return Je=!1,_v(e,t,r);Je=(e.flags&131072)!==0}else Je=!1,be&&(t.flags&1048576)!==0&&td(t,Gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")ko(i)?(e=xr(i,e),t.tag=1,t=Rp(null,t,i,e,r)):(t.tag=0,t=mu(null,t,i,e,r));else{if(i!=null){if(u=i.$$typeof,u===W){t.tag=11,t=mp(null,t,i,e,r);break e}else if(u===ye){t.tag=14,t=yp(null,t,i,e,r);break e}}throw t=ln(i)||i,Error(l(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,r);case 1:return i=t.type,u=xr(i,t.pendingProps),Rp(e,t,i,u,r);case 3:e:{if(Qr(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,Fo(e,t),Ti(t,i,null,r);var y=t.memoizedState;if(i=y.cache,Kn(t,Qe,i),i!==f.cache&&Lo(t,[Qe],r,!0),vi(),i=y.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=bp(e,t,i,r);break e}else if(i!==u){u=Lt(Error(l(424)),t),fi(u),t=bp(e,t,i,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Jt(e.firstChild),dt=t,be=!0,Ar=null,on=!0,r=rp(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ci(),i===u){t=Cn(e,t,r);break e}rt(e,t,i,r)}t=t.child}return t;case 26:return ls(e,t),e===null?(r=wm(t.type,null,t.pendingProps,null))?t.memoizedState=r:be||(r=t.type,e=t.pendingProps,i=bs(Xt.current).createElement(r),i[ut]=t,i[vt]=e,it(i,r,e),We(i),t.stateNode=i):t.memoizedState=wm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),e===null&&be&&(i=t.stateNode=Nm(t.type,t.pendingProps,Xt.current),dt=t,on=!0,u=Oe,rr(t.type)?(tc=u,Oe=Jt(i.firstChild)):Oe=u),rt(e,t,t.pendingProps.children,r),ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=Oe)&&(i=t0(i,t.type,t.pendingProps,on),i!==null?(t.stateNode=i,dt=t,Oe=Jt(i.firstChild),on=!1,u=!0):u=!1),u||Nr(t)),re(t),u=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,i=f.children,Iu(u,f)?i=null:y!==null&&Iu(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Zo(e,t,Tv,null,null,r),ji._currentValue=u),ls(e,t),rt(e,t,i,r),t.child;case 6:return e===null&&be&&((e=r=Oe)&&(r=n0(r,t.pendingProps,on),r!==null?(t.stateNode=r,dt=t,Oe=null,e=!0):e=!1),e||Nr(t)),null;case 13:return Sp(e,t,r);case 4:return Qr(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Da(t,null,i,r):rt(e,t,i,r),t.child;case 11:return mp(e,t,t.type,t.pendingProps,r);case 7:return rt(e,t,t.pendingProps,r),t.child;case 8:return rt(e,t,t.pendingProps.children,r),t.child;case 12:return rt(e,t,t.pendingProps.children,r),t.child;case 10:return i=t.pendingProps,Kn(t,t.type,i.value),rt(e,t,i.children,r),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,$r(t),u=ct(u),i=i(u),t.flags|=1,rt(e,t,i,r),t.child;case 14:return yp(e,t,t.type,t.pendingProps,r);case 15:return hp(e,t,t.type,t.pendingProps,r);case 19:return Cp(e,t,r);case 31:return i=t.pendingProps,r=t.mode,i={mode:i.mode,children:i.children},e===null?(r=ss(i,r),r.ref=t.ref,t.child=r,r.return=t,t=r):(r=gn(e.child,i),r.ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return gp(e,t,r);case 24:return $r(t),i=ct(Qe),e===null?(u=jo(),u===null&&(u=Ee,f=qo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),t.memoizedState={parent:i,cache:u},Bo(t),Kn(t,Qe,u)):((e.lanes&r)!==0&&(Fo(e,t),Ti(t,null,null,r),vi()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Kn(t,Qe,i)):(i=f.cache,Kn(t,Qe,i),i!==u.cache&&Lo(t,[Qe],r,!0))),rt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function An(e){e.flags|=4}function Np(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zm(t)){if(t=Kt.current,t!==null&&((ge&4194048)===ge?un!==null:(ge&62914560)!==ge&&(ge&536870912)===0||t!==un))throw hi=Ko,ud;e.flags|=8192}}function os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rf():536870912,e.lanes|=t,_a|=t)}function Ni(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function $v(e,t,r){var i=t.pendingProps;switch(zo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return r=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Qe),qn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ui(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ad())),ze(t),null;case 26:return r=t.memoizedState,e===null?(An(t),r!==null?(ze(t),Np(t,r)):(ze(t),t.flags&=-16777217)):r?r!==e.memoizedState?(An(t),ze(t),Np(t,r)):(ze(t),t.flags&=-16777217):(e.memoizedProps!==i&&An(t),ze(t),t.flags&=-16777217),null;case 27:$(t),r=Xt.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=qe.current,ui(t)?nd(t):(e=Nm(u,i,r),t.stateNode=e,An(t))}return ze(t),null;case 5:if($(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(e=qe.current,ui(t))nd(t);else{switch(u=bs(Xt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(r,{is:i.is}):u.createElement(r)}}e[ut]=t,e[vt]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(it(e,r,i),r){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&An(t)}}return ze(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=Xt.current,ui(t)){if(e=t.stateNode,r=t.memoizedProps,i=null,u=dt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ut]=t,e=!!(e.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Tm(e.nodeValue,r)),e||Nr(t)}else e=bs(e).createTextNode(i),e[ut]=t,t.stateNode=e}return ze(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ui(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ut]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),u=!1}else u=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Dn(t),t):(Dn(t),null)}if(Dn(t),(t.flags&128)!==0)return t.lanes=r,t;if(r=i!==null,e=e!==null&&e.memoizedState!==null,r){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),os(t,t.updateQueue),ze(t),null;case 4:return qn(),e===null&&Yu(t.stateNode.containerInfo),ze(t),null;case 10:return bn(t.type),ze(t),null;case 19:if(xe(Xe),u=t.memoizedState,u===null)return ze(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)Ni(u,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=rs(e),f!==null){for(t.flags|=128,Ni(u,!1),e=f.updateQueue,t.updateQueue=e,os(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)ed(r,e),r=r.sibling;return Re(Xe,Xe.current&1|2),t.child}e=e.sibling}u.tail!==null&&ot()>fs&&(t.flags|=128,i=!0,Ni(u,!1),t.lanes=4194304)}else{if(!i)if(e=rs(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,os(t,e),Ni(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!be)return ze(t),null}else 2*ot()-u.renderingStartTime>fs&&r!==536870912&&(t.flags|=128,i=!0,Ni(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ot(),t.sibling=null,e=Xe.current,Re(Xe,i?e&1|2:e&1),t):(ze(t),null);case 22:case 23:return Dn(t),Xo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(r&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),r=t.updateQueue,r!==null&&os(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==r&&(t.flags|=2048),e!==null&&xe(wr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bn(Qe),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function wv(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Qe),qn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(Dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Xe),null;case 4:return qn(),null;case 10:return bn(t.type),null;case 22:case 23:return Dn(t),Xo(),e!==null&&xe(wr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Qe),null;case 25:return null;default:return null}}function _p(e,t){switch(zo(t),t.tag){case 3:bn(Qe),qn();break;case 26:case 27:case 5:$(t);break;case 4:qn();break;case 13:Dn(t);break;case 19:xe(Xe);break;case 10:bn(t.type);break;case 22:case 23:Dn(t),Xo(),e!==null&&xe(wr);break;case 24:bn(Qe)}}function _i(e,t){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&e)===e){i=void 0;var f=r.create,y=r.inst;i=f(),y.destroy=i}r=r.next}while(r!==u)}}catch(v){$e(t,t.return,v)}}function Vn(e,t,r){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var y=i.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,u=t;var R=r,N=v;try{N()}catch(x){$e(u,R,x)}}}i=i.next}while(i!==f)}}catch(x){$e(t,t.return,x)}}function $p(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{yd(t,r)}catch(i){$e(e,e.return,i)}}}function wp(e,t,r){r.props=xr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){$e(e,t,i)}}function $i(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(u){$e(e,t,u)}}function cn(e,t){var r=e.ref,i=e.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){$e(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){$e(e,t,u)}else r.current=null}function kp(e){var t=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){$e(e,e.return,u)}}function Su(e,t,r){try{var i=e.stateNode;Zv(i,e.type,r,t),i[vt]=t}catch(u){$e(e,e.return,u)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rs));else if(i!==4&&(i===27&&rr(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Cu(e,t,r),e=e.sibling;e!==null;)Cu(e,t,r),e=e.sibling}function us(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(i===27&&rr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(us(e,t,r),e=e.sibling;e!==null;)us(e,t,r),e=e.sibling}function Ep(e){var t=e.stateNode,r=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,i,r),t[ut]=e,t[vt]=r}catch(f){$e(e,e.return,f)}}var Nn=!1,je=!1,Au=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,et=null;function kv(e,t){if(e=e.containerInfo,Vu=_s,e=Ff(e),Do(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,v=-1,R=-1,N=0,x=0,L=e,_=null;t:for(;;){for(var w;L!==r||u!==0&&L.nodeType!==3||(v=y+u),L!==f||i!==0&&L.nodeType!==3||(R=y+i),L.nodeType===3&&(y+=L.nodeValue.length),(w=L.firstChild)!==null;)_=L,L=w;for(;;){if(L===e)break t;if(_===r&&++N===u&&(v=y),_===f&&++x===i&&(R=y),(w=L.nextSibling)!==null)break;L=_,_=L.parentNode}L=w}r=v===-1||R===-1?null:{start:v,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zu={focusedElem:e,selectionRange:r},_s=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var ae=xr(r.type,u,r.elementType===r.type);e=i.getSnapshotBeforeUpdate(ae,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(J){$e(r,r.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Ju(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function zp(e,t,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(e,r),i&4&&_i(5,r);break;case 1:if(Zn(e,r),i&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(y){$e(r,r.return,y)}else{var u=xr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$e(r,r.return,y)}}i&64&&$p(r),i&512&&$i(r,r.return);break;case 3:if(Zn(e,r),i&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{yd(e,t)}catch(y){$e(r,r.return,y)}}break;case 27:t===null&&i&4&&Ep(r);case 26:case 5:Zn(e,r),t===null&&i&4&&kp(r),i&512&&$i(r,r.return);break;case 12:Zn(e,r);break;case 13:Zn(e,r),i&4&&Hp(e,r),i&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=qv.bind(null,r),r0(e,r))));break;case 22:if(i=r.memoizedState!==null||Nn,!i){t=t!==null&&t.memoizedState!==null||je,u=Nn;var f=je;Nn=i,(je=t)&&!f?In(e,r,(r.subtreeFlags&8772)!==0):Zn(e,r),Nn=u,je=f}break;case 30:break;default:Zn(e,r)}}function Up(e){var t=e.alternate;t!==null&&(e.alternate=null,Up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ro(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,bt=!1;function _n(e,t,r){for(r=r.child;r!==null;)Op(e,t,r),r=r.sibling}function Op(e,t,r){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(sn,r)}catch{}switch(r.tag){case 26:je||cn(r,t),_n(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||cn(r,t);var i=Me,u=bt;rr(r.type)&&(Me=r.stateNode,bt=!1),_n(e,t,r),Hi(r.stateNode),Me=i,bt=u;break;case 5:je||cn(r,t);case 6:if(i=Me,u=bt,Me=null,_n(e,t,r),Me=i,bt=u,Me!==null)if(bt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(r.stateNode)}catch(f){$e(r,t,f)}else try{Me.removeChild(r.stateNode)}catch(f){$e(r,t,f)}break;case 18:Me!==null&&(bt?(e=Me,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pi(e)):Cm(Me,r.stateNode));break;case 4:i=Me,u=bt,Me=r.stateNode.containerInfo,bt=!0,_n(e,t,r),Me=i,bt=u;break;case 0:case 11:case 14:case 15:je||Vn(2,r,t),je||Vn(4,r,t),_n(e,t,r);break;case 1:je||(cn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"&&wp(r,t,i)),_n(e,t,r);break;case 21:_n(e,t,r);break;case 22:je=(i=je)||r.memoizedState!==null,_n(e,t,r),je=i;break;default:_n(e,t,r)}}function Hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pi(e)}catch(r){$e(t,t.return,r)}}function xv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mp),t;default:throw Error(l(435,e.tag))}}function Nu(e,t){var r=xv(e);t.forEach(function(i){var u=Gv.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}function _t(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=e,y=t,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(rr(v.type)){Me=v.stateNode,bt=!1;break e}break;case 5:Me=v.stateNode,bt=!1;break e;case 3:case 4:Me=v.stateNode.containerInfo,bt=!0;break e}v=v.return}if(Me===null)throw Error(l(160));Op(f,y,u),Me=null,bt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Lp(t,e),t=t.sibling}var Wt=null;function Lp(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),$t(e),i&4&&(Vn(3,e,e.return),_i(3,e),Vn(5,e,e.return));break;case 1:_t(t,e),$t(e),i&512&&(je||r===null||cn(r,r.return)),i&64&&Nn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=Wt;if(_t(t,e),$t(e),i&512&&(je||r===null||cn(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=e.memoizedState,r===null)if(i===null)if(e.stateNode===null){e:{i=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Wa]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),it(f,i,r),f[ut]=e,We(f),i=f;break e;case"link":var y=Em("link","href",u).get(i+(r.href||""));if(y){for(var v=0;v<y.length;v++)if(f=y[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(v,1);break t}}f=u.createElement(i),it(f,i,r),u.head.appendChild(f);break;case"meta":if(y=Em("meta","content",u).get(i+(r.content||""))){for(v=0;v<y.length;v++)if(f=y[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(v,1);break t}}f=u.createElement(i),it(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ut]=e,We(f),i=f}e.stateNode=i}else Mm(u,e.type,e.stateNode);else e.stateNode=xm(u,i,e.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?Mm(u,e.type,e.stateNode):xm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Su(e,e.memoizedProps,r.memoizedProps)}break;case 27:_t(t,e),$t(e),i&512&&(je||r===null||cn(r,r.return)),r!==null&&i&4&&Su(e,e.memoizedProps,r.memoizedProps);break;case 5:if(_t(t,e),$t(e),i&512&&(je||r===null||cn(r,r.return)),e.flags&32){u=e.stateNode;try{ia(u,"")}catch(w){$e(e,e.return,w)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Su(e,u,r!==null?r.memoizedProps:u)),i&1024&&(Au=!0);break;case 6:if(_t(t,e),$t(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(w){$e(e,e.return,w)}}break;case 3:if(Cs=null,u=Wt,Wt=Ss(t.containerInfo),_t(t,e),Wt=u,$t(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(w){$e(e,e.return,w)}Au&&(Au=!1,qp(e));break;case 4:i=Wt,Wt=Ss(e.stateNode.containerInfo),_t(t,e),$t(e),Wt=i;break;case 12:_t(t,e),$t(e);break;case 13:_t(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Eu=ot()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nu(e,i)));break;case 22:u=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,N=Nn,x=je;if(Nn=N||u,je=x||R,_t(t,e),je=x,Nn=N,$t(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(r===null||R||Nn||je||Er(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){R=r=t;try{if(f=R.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=R.stateNode;var L=R.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(w){$e(R,R.return,w)}}}else if(t.tag===6){if(r===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(w){$e(R,R.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Nu(e,r))));break;case 19:_t(t,e),$t(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nu(e,i)));break;case 30:break;case 21:break;default:_t(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var r,i=e.return;i!==null;){if(xp(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=Du(e);us(e,f,u);break;case 5:var y=r.stateNode;r.flags&32&&(ia(y,""),r.flags&=-33);var v=Du(e);us(e,v,y);break;case 3:case 4:var R=r.stateNode.containerInfo,N=Du(e);Cu(e,N,R);break;default:throw Error(l(161))}}catch(x){$e(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zp(e,t.alternate,t),t=t.sibling}function Er(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),Er(t);break;case 1:cn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&wp(t,t.return,r),Er(t);break;case 27:Hi(t.stateNode);case 26:case 5:cn(t,t.return),Er(t);break;case 22:t.memoizedState===null&&Er(t);break;case 30:Er(t);break;default:Er(t)}e=e.sibling}}function In(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:In(u,f,r),_i(4,f);break;case 1:if(In(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){$e(i,i.return,N)}if(i=f,u=i.updateQueue,u!==null){var v=i.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)md(R[u],v)}catch(N){$e(i,i.return,N)}}r&&y&64&&$p(f),$i(f,f.return);break;case 27:Ep(f);case 26:case 5:In(u,f,r),r&&i===null&&y&4&&kp(f),$i(f,f.return);break;case 12:In(u,f,r);break;case 13:In(u,f,r),r&&y&4&&Hp(u,f);break;case 22:f.memoizedState===null&&In(u,f,r),$i(f,f.return);break;case 30:break;default:In(u,f,r)}t=t.sibling}}function _u(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&pi(r))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e))}function fn(e,t,r,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(e,t,r,i),t=t.sibling}function Gp(e,t,r,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:fn(e,t,r,i),u&2048&&_i(9,t);break;case 1:fn(e,t,r,i);break;case 3:fn(e,t,r,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pi(e)));break;case 12:if(u&2048){fn(e,t,r,i),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,v=f.onPostCommit;typeof v=="function"&&v(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$e(t,t.return,R)}}else fn(e,t,r,i);break;case 13:fn(e,t,r,i);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?fn(e,t,r,i):wi(e,t):f._visibility&2?fn(e,t,r,i):(f._visibility|=2,Ca(e,t,r,i,(t.subtreeFlags&10256)!==0)),u&2048&&_u(y,t);break;case 24:fn(e,t,r,i),u&2048&&$u(t.alternate,t);break;default:fn(e,t,r,i)}}function Ca(e,t,r,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,v=r,R=i,N=y.flags;switch(y.tag){case 0:case 11:case 15:Ca(f,y,v,R,u),_i(8,y);break;case 23:break;case 22:var x=y.stateNode;y.memoizedState!==null?x._visibility&2?Ca(f,y,v,R,u):wi(f,y):(x._visibility|=2,Ca(f,y,v,R,u)),u&&N&2048&&_u(y.alternate,y);break;case 24:Ca(f,y,v,R,u),u&&N&2048&&$u(y.alternate,y);break;default:Ca(f,y,v,R,u)}t=t.sibling}}function wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,i=t,u=i.flags;switch(i.tag){case 22:wi(r,i),u&2048&&_u(i.alternate,i);break;case 24:wi(r,i),u&2048&&$u(i.alternate,i);break;default:wi(r,i)}t=t.sibling}}var ki=8192;function Aa(e){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 26:Aa(e),e.flags&ki&&e.memoizedState!==null&&h0(Wt,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var t=Wt;Wt=Ss(e.stateNode.containerInfo),Aa(e),Wt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ki,ki=16777216,Aa(e),ki=t):Aa(e));break;default:Aa(e)}}function Kp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];et=i,Fp(i,e)}Kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 0:case 11:case 15:xi(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:xi(e);break;case 12:xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cs(e)):xi(e);break;default:xi(e)}}function cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];et=i,Fp(i,e)}Kp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),cs(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,cs(t));break;default:cs(t)}e=e.sibling}}function Fp(e,t){for(;et!==null;){var r=et;switch(r.tag){case 0:case 11:case 15:Vn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:pi(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,et=i;else e:for(r=e;et!==null;){i=et;var u=i.sibling,f=i.return;if(Up(i),i===r){et=null;break e}if(u!==null){u.return=f,et=u;break e}et=f}}}var Ev={getCacheForType:function(e){var t=ct(Qe),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r}},Mv=typeof WeakMap=="function"?WeakMap:Map,De=0,Ee=null,de=null,ge=0,Ce=0,wt=null,Wn=!1,Na=!1,wu=!1,$n=0,He=0,Jn=0,Mr=0,ku=0,Bt=0,_a=0,Ei=null,St=null,xu=!1,Eu=0,fs=1/0,ds=null,er=null,at=0,tr=null,$a=null,wa=0,Mu=0,zu=null,Pp=null,Mi=0,Uu=null;function kt(){if((De&2)!==0&&ge!==0)return ge&-ge;if(M.T!==null){var e=ha;return e!==0?e:Ku()}return sf()}function Yp(){Bt===0&&(Bt=(ge&536870912)===0||be?nf():536870912);var e=Kt.current;return e!==null&&(e.flags|=32),Bt}function xt(e,t,r){(e===Ee&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(ka(e,0),nr(e,ge,Bt,!1)),Ia(e,r),((De&2)===0||e!==Ee)&&(e===Ee&&((De&2)===0&&(Mr|=r),He===4&&nr(e,ge,Bt,!1)),dn(e))}function Qp(e,t,r){if((De&6)!==0)throw Error(l(327));var i=!r&&(t&124)===0&&(t&e.expiredLanes)===0||Za(e,t),u=i?Ov(e,t):Lu(e,t,!0),f=i;do{if(u===0){Na&&!i&&nr(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!zv(r)){u=Lu(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var v=e;u=Ei;var R=v.current.memoizedState.isDehydrated;if(R&&(ka(v,y).flags|=256),y=Lu(v,y,!1),y!==2){if(wu&&!R){v.errorRecoveryDisabledLanes|=f,Mr|=f,u=4;break e}f=St,St=u,f!==null&&(St===null?St=f:St.push.apply(St,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){ka(e,0),nr(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:nr(i,t,Bt,!Wn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Eu+300-ot(),10<u)){if(nr(i,t,Bt,!Wn),Dl(i,0,!0)!==0)break e;i.timeoutHandle=Sm(Xp.bind(null,i,r,St,ds,xu,t,Bt,Mr,_a,Wn,f,2,-0,0),u);break e}Xp(i,r,St,ds,xu,t,Bt,Mr,_a,Wn,f,0,-0,0)}}break}while(!0);dn(e)}function Xp(e,t,r,i,u,f,y,v,R,N,x,L,_,w){if(e.timeoutHandle=-1,L=t.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(Gi={stylesheets:null,count:0,unsuspend:y0},jp(t),L=g0(),L!==null)){e.cancelPendingCommit=L(tm.bind(null,e,t,f,r,i,u,y,v,R,x,1,_,w)),nr(e,f,y,!N);return}tm(e,t,f,r,i,u,y,v,R)}function zv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!At(f(),u))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nr(e,t,r,i){t&=~ku,t&=~Mr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-k(u),y=1<<f;i[f]=-1,u&=~y}r!==0&&af(e,r,t)}function ps(){return(De&6)===0?(zi(0),!1):!0}function Ou(){if(de!==null){if(Ce===0)var e=de.return;else e=de,Rn=_r=null,Jo(e),Sa=null,Ci=0,e=de;for(;e!==null;)_p(e.alternate,e),e=e.return;de=null}}function ka(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Wv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ou(),Ee=e,de=r=gn(e.current,null),ge=t,Ce=0,wt=null,Wn=!1,Na=Za(e,t),wu=!1,_a=Bt=ku=Mr=Jn=He=0,St=Ei=null,xu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-k(i),f=1<<u;t|=e[u],i&=~f}return $n=t,Ul(),r}function Vp(e,t){ue=null,M.H=es,t===yi||t===Fl?(t=dd(),Ce=3):t===ud?(t=dd(),Ce=4):Ce=t===pp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,de===null&&(He=1,is(e,Lt(t,e.current)))}function Zp(){var e=M.H;return M.H=es,e===null?es:e}function Ip(){var e=M.A;return M.A=Ev,e}function Hu(){He=4,Wn||(ge&4194048)!==ge&&Kt.current!==null||(Na=!0),(Jn&134217727)===0&&(Mr&134217727)===0||Ee===null||nr(Ee,ge,Bt,!1)}function Lu(e,t,r){var i=De;De|=2;var u=Zp(),f=Ip();(Ee!==e||ge!==t)&&(ds=null,ka(e,t)),t=!1;var y=He;e:do try{if(Ce!==0&&de!==null){var v=de,R=wt;switch(Ce){case 8:Ou(),y=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var N=Ce;if(Ce=0,wt=null,xa(e,v,R,N),r&&Na){y=0;break e}break;default:N=Ce,Ce=0,wt=null,xa(e,v,R,N)}}Uv(),y=He;break}catch(x){Vp(e,x)}while(!0);return t&&e.shellSuspendCounter++,Rn=_r=null,De=i,M.H=u,M.A=f,de===null&&(Ee=null,ge=0,Ul()),y}function Uv(){for(;de!==null;)Wp(de)}function Ov(e,t){var r=De;De|=2;var i=Zp(),u=Ip();Ee!==e||ge!==t?(ds=null,fs=ot()+500,ka(e,t)):Na=Za(e,t);e:do try{if(Ce!==0&&de!==null){t=de;var f=wt;t:switch(Ce){case 1:Ce=0,wt=null,xa(e,t,f,1);break;case 2:case 9:if(cd(f)){Ce=0,wt=null,Jp(t);break}t=function(){Ce!==2&&Ce!==9||Ee!==e||(Ce=7),dn(e)},f.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:cd(f)?(Ce=0,wt=null,Jp(t)):(Ce=0,wt=null,xa(e,t,f,7));break;case 5:var y=null;switch(de.tag){case 26:y=de.memoizedState;case 5:case 27:var v=de;if(!y||zm(y)){Ce=0,wt=null;var R=v.sibling;if(R!==null)de=R;else{var N=v.return;N!==null?(de=N,ms(N)):de=null}break t}}Ce=0,wt=null,xa(e,t,f,5);break;case 6:Ce=0,wt=null,xa(e,t,f,6);break;case 8:Ou(),He=6;break e;default:throw Error(l(462))}}Hv();break}catch(x){Vp(e,x)}while(!0);return Rn=_r=null,M.H=i,M.A=u,De=r,de!==null?0:(Ee=null,ge=0,Ul(),He)}function Hv(){for(;de!==null&&!st();)Wp(de)}function Wp(e){var t=Ap(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?ms(e):de=t}function Jp(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Tp(r,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Tp(r,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:Jo(t);default:_p(r,t),t=de=ed(t,$n),t=Ap(r,t,$n)}e.memoizedProps=e.pendingProps,t===null?ms(e):de=t}function xa(e,t,r,i){Rn=_r=null,Jo(t),Sa=null,Ci=0;var u=t.return;try{if(Nv(e,u,t,r,ge)){He=1,is(e,Lt(r,e.current)),de=null;return}}catch(f){if(u!==null)throw de=u,f;He=1,is(e,Lt(r,e.current)),de=null;return}t.flags&32768?(be||i===1?e=!0:Na||(ge&536870912)!==0?e=!1:(Wn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),em(t,e)):ms(t)}function ms(e){var t=e;do{if((t.flags&32768)!==0){em(t,Wn);return}e=t.return;var r=$v(t.alternate,t,$n);if(r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);He===0&&(He=5)}function em(e,t){do{var r=wv(e.alternate,e);if(r!==null){r.flags&=32767,de=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=r}while(e!==null);He=6,de=null}function tm(e,t,r,i,u,f,y,v,R){e.cancelPendingCommit=null;do ys();while(at!==0);if((De&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=$o,yg(e,r,f,y,v,R),e===Ee&&(de=Ee=null,ge=0),$a=t,tr=e,wa=r,Mu=f,zu=u,Pp=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jv(hr,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=Q.p,Q.p=2,y=De,De|=4;try{kv(e,t,r)}finally{De=y,Q.p=u,M.T=i}}at=1,nm(),rm(),am()}}function nm(){if(at===1){at=0;var e=tr,t=$a,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{Lp(t,e);var f=Zu,y=Ff(e.containerInfo),v=f.focusedElem,R=f.selectionRange;if(y!==v&&v&&v.ownerDocument&&Bf(v.ownerDocument.documentElement,v)){if(R!==null&&Do(v)){var N=R.start,x=R.end;if(x===void 0&&(x=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(x,v.value.length);else{var L=v.ownerDocument||document,_=L&&L.defaultView||window;if(_.getSelection){var w=_.getSelection(),ae=v.textContent.length,J=Math.min(R.start,ae),_e=R.end===void 0?J:Math.min(R.end,ae);!w.extend&&J>_e&&(y=_e,_e=J,J=y);var C=Kf(v,J),S=Kf(v,_e);if(C&&S&&(w.rangeCount!==1||w.anchorNode!==C.node||w.anchorOffset!==C.offset||w.focusNode!==S.node||w.focusOffset!==S.offset)){var A=L.createRange();A.setStart(C.node,C.offset),w.removeAllRanges(),J>_e?(w.addRange(A),w.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),w.addRange(A))}}}}for(L=[],w=v;w=w.parentNode;)w.nodeType===1&&L.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var U=L[v];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}_s=!!Vu,Zu=Vu=null}finally{De=u,Q.p=i,M.T=r}}e.current=t,at=2}}function rm(){if(at===2){at=0;var e=tr,t=$a,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var i=Q.p;Q.p=2;var u=De;De|=4;try{zp(e,t.alternate,t)}finally{De=u,Q.p=i,M.T=r}}at=3}}function am(){if(at===4||at===3){at=0,Vt();var e=tr,t=$a,r=wa,i=Pp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,$a=tr=null,im(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(er=null),to(r),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(sn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,u=Q.p,Q.p=2,M.T=null;try{for(var f=e.onRecoverableError,y=0;y<i.length;y++){var v=i[y];f(v.value,{componentStack:v.stack})}}finally{M.T=t,Q.p=u}}(wa&3)!==0&&ys(),dn(e),u=e.pendingLanes,(r&4194090)!==0&&(u&42)!==0?e===Uu?Mi++:(Mi=0,Uu=e):Mi=0,zi(0)}}function im(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pi(t)))}function ys(e){return nm(),rm(),am(),lm()}function lm(){if(at!==5)return!1;var e=tr,t=Mu;Mu=0;var r=to(wa),i=M.T,u=Q.p;try{Q.p=32>r?32:r,M.T=null,r=zu,zu=null;var f=tr,y=wa;if(at=0,$a=tr=null,wa=0,(De&6)!==0)throw Error(l(331));var v=De;if(De|=4,Bp(f.current),Gp(f,f.current,y,r),De=v,zi(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(sn,f)}catch{}return!0}finally{Q.p=u,M.T=i,im(e,t)}}function sm(e,t,r){t=Lt(r,t),t=pu(e.stateNode,t,2),e=Pn(e,t,2),e!==null&&(Ia(e,2),dn(e))}function $e(e,t,r){if(e.tag===3)sm(e,e,r);else for(;t!==null;){if(t.tag===3){sm(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(er===null||!er.has(i))){e=Lt(r,e),r=fp(2),i=Pn(t,r,2),i!==null&&(dp(r,i,t,e),Ia(i,2),dn(i));break}}t=t.return}}function qu(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Mv;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(wu=!0,u.add(r),e=Lv.bind(null,e,t,r),t.then(e,e))}function Lv(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ee===e&&(ge&r)===r&&(He===4||He===3&&(ge&62914560)===ge&&300>ot()-Eu?(De&2)===0&&ka(e,0):ku|=r,_a===ge&&(_a=0)),dn(e)}function om(e,t){t===0&&(t=rf()),e=da(e,t),e!==null&&(Ia(e,t),dn(e))}function qv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),om(e,r)}function Gv(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),om(e,r)}function jv(e,t){return le(e,t)}var hs=null,Ea=null,Gu=!1,gs=!1,ju=!1,zr=0;function dn(e){e!==Ea&&e.next===null&&(Ea===null?hs=Ea=e:Ea=Ea.next=e),gs=!0,Gu||(Gu=!0,Bv())}function zi(e,t){if(!ju&&gs){ju=!0;do for(var r=!1,i=hs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var y=i.suspendedLanes,v=i.pingedLanes;f=(1<<31-k(42|e)+1)-1,f&=u&~(y&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,dm(i,f))}else f=ge,f=Dl(i,i===Ee?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Za(i,f)||(r=!0,dm(i,f));i=i.next}while(r);ju=!1}}function Kv(){um()}function um(){gs=Gu=!1;var e=0;zr!==0&&(Iv()&&(e=zr),zr=0);for(var t=ot(),r=null,i=hs;i!==null;){var u=i.next,f=cm(i,t);f===0?(i.next=null,r===null?hs=u:r.next=u,u===null&&(Ea=r)):(r=i,(e!==0||(f&3)!==0)&&(gs=!0)),i=u}zi(e)}function cm(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-k(f),v=1<<y,R=u[y];R===-1?((v&r)===0||(v&i)!==0)&&(u[y]=mg(v,t)):R<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ee,r=ge,r=Dl(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,r===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&O(i),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Za(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(i!==null&&O(i),to(r)){case 2:case 8:r=Va;break;case 32:r=hr;break;case 268435456:r=bl;break;default:r=hr}return i=fm.bind(null,e),r=le(r,i),e.callbackPriority=t,e.callbackNode=r,t}return i!==null&&i!==null&&O(i),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ys()&&e.callbackNode!==r)return null;var i=ge;return i=Dl(e,e===Ee?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Qp(e,i,t),cm(e,ot()),e.callbackNode!=null&&e.callbackNode===r?fm.bind(null,e):null)}function dm(e,t){if(ys())return null;Qp(e,t,!0)}function Bv(){Jv(function(){(De&6)!==0?le(Xa,Kv):um()})}function Ku(){return zr===0&&(zr=nf()),zr}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$l(""+e)}function mm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Fv(e,t,r,i,u){if(t==="submit"&&r&&r.stateNode===u){var f=pm((u[vt]||null).action),y=i.submitter;y&&(t=(t=y[vt]||null)?pm(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var v=new El("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zr!==0){var R=y?mm(u,y):new FormData(u);ou(r,{pending:!0,data:R,method:u.method,action:f},null,R)}}else typeof f=="function"&&(v.preventDefault(),R=y?mm(u,y):new FormData(u),ou(r,{pending:!0,data:R,method:u.method,action:f},f,R))},currentTarget:u}]})}}for(var Bu=0;Bu<_o.length;Bu++){var Fu=_o[Bu],Pv=Fu.toLowerCase(),Yv=Fu[0].toUpperCase()+Fu.slice(1);It(Pv,"on"+Yv)}It(Qf,"onAnimationEnd"),It(Xf,"onAnimationIteration"),It(Vf,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(uv,"onTransitionRun"),It(cv,"onTransitionStart"),It(fv,"onTransitionCancel"),It(Zf,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function ym(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var y=i.length-1;0<=y;y--){var v=i[y],R=v.instance,N=v.currentTarget;if(v=v.listener,R!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(x){as(x)}u.currentTarget=null,f=R}else for(y=0;y<i.length;y++){if(v=i[y],R=v.instance,N=v.currentTarget,v=v.listener,R!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=N;try{f(u)}catch(x){as(x)}u.currentTarget=null,f=R}}}}function pe(e,t){var r=t[no];r===void 0&&(r=t[no]=new Set);var i=e+"__bubble";r.has(i)||(hm(t,e,2,!1),r.add(i))}function Pu(e,t,r){var i=0;t&&(i|=4),hm(r,e,i,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[vs]){e[vs]=!0,uf.forEach(function(r){r!=="selectionchange"&&(Qv.has(r)||Pu(r,!1,e),Pu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,Pu("selectionchange",!1,t))}}function hm(e,t,r,i){switch(Gm(t)){case 2:var u=R0;break;case 8:u=b0;break;default:u=lc}r=u.bind(null,t,r,e),u=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Qu(e,t,r,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var v=i.stateNode.containerInfo;if(v===u)break;if(y===4)for(y=i.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;v!==null;){if(y=Jr(v),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){i=f=y;continue e}v=v.parentNode}}i=i.return}Df(function(){var N=f,x=fo(r),L=[];e:{var _=If.get(e);if(_!==void 0){var w=El,ae=e;switch(e){case"keypress":if(kl(r)===0)break e;case"keydown":case"keyup":w=jg;break;case"focusin":ae="focus",w=vo;break;case"focusout":ae="blur",w=vo;break;case"beforeblur":case"afterblur":w=vo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Fg;break;case Qf:case Xf:case Vf:w=Eg;break;case Zf:w=Yg;break;case"scroll":case"scrollend":w=_g;break;case"wheel":w=Xg;break;case"copy":case"cut":case"paste":w=zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=$f;break;case"toggle":case"beforetoggle":w=Zg}var J=(t&4)!==0,_e=!J&&(e==="scroll"||e==="scrollend"),C=J?_!==null?_+"Capture":null:_;J=[];for(var S=N,A;S!==null;){var U=S;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||C===null||(U=ei(S,C),U!=null&&J.push(Oi(S,U,A))),_e)break;S=S.return}0<J.length&&(_=new w(_,ae,null,r,x),L.push({event:_,listeners:J}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",_&&r!==co&&(ae=r.relatedTarget||r.fromElement)&&(Jr(ae)||ae[Wr]))break e;if((w||_)&&(_=x.window===x?x:(_=x.ownerDocument)?_.defaultView||_.parentWindow:window,w?(ae=r.relatedTarget||r.toElement,w=N,ae=ae?Jr(ae):null,ae!==null&&(_e=c(ae),J=ae.tag,ae!==_e||J!==5&&J!==27&&J!==6)&&(ae=null)):(w=null,ae=N),w!==ae)){if(J=Nf,U="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(J=$f,U="onPointerLeave",C="onPointerEnter",S="pointer"),_e=w==null?_:Ja(w),A=ae==null?_:Ja(ae),_=new J(U,S+"leave",w,r,x),_.target=_e,_.relatedTarget=A,U=null,Jr(x)===N&&(J=new J(C,S+"enter",ae,r,x),J.target=A,J.relatedTarget=_e,U=J),_e=U,w&&ae)t:{for(J=w,C=ae,S=0,A=J;A;A=Ma(A))S++;for(A=0,U=C;U;U=Ma(U))A++;for(;0<S-A;)J=Ma(J),S--;for(;0<A-S;)C=Ma(C),A--;for(;S--;){if(J===C||C!==null&&J===C.alternate)break t;J=Ma(J),C=Ma(C)}J=null}else J=null;w!==null&&gm(L,_,w,J,!1),ae!==null&&_e!==null&&gm(L,_e,ae,J,!0)}}e:{if(_=N?Ja(N):window,w=_.nodeName&&_.nodeName.toLowerCase(),w==="select"||w==="input"&&_.type==="file")var V=Of;else if(zf(_))if(Hf)V=lv;else{V=av;var ce=rv}else w=_.nodeName,!w||w.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?N&&uo(N.elementType)&&(V=Of):V=iv;if(V&&(V=V(e,N))){Uf(L,V,r,x);break e}ce&&ce(e,_,N),e==="focusout"&&N&&_.type==="number"&&N.memoizedProps.value!=null&&oo(_,"number",_.value)}switch(ce=N?Ja(N):window,e){case"focusin":(zf(ce)||ce.contentEditable==="true")&&(ua=ce,Co=N,oi=null);break;case"focusout":oi=Co=ua=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Pf(L,r,x);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Pf(L,r,x)}var I;if(Ro)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else oa?Ef(e,r)&&(te="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(te="onCompositionStart");te&&(wf&&r.locale!=="ko"&&(oa||te!=="onCompositionStart"?te==="onCompositionEnd"&&oa&&(I=Cf()):(jn=x,yo="value"in jn?jn.value:jn.textContent,oa=!0)),ce=Ts(N,te),0<ce.length&&(te=new _f(te,e,null,r,x),L.push({event:te,listeners:ce}),I?te.data=I:(I=Mf(r),I!==null&&(te.data=I)))),(I=Wg?Jg(e,r):ev(e,r))&&(te=Ts(N,"onBeforeInput"),0<te.length&&(ce=new _f("onBeforeInput","beforeinput",null,r,x),L.push({event:ce,listeners:te}),ce.data=I)),Fv(L,e,N,r,x)}ym(L,t)})}function Oi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ts(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ei(e,r),u!=null&&i.unshift(Oi(e,u,f)),u=ei(e,t),u!=null&&i.push(Oi(e,u,f))),e.tag===3)return i;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gm(e,t,r,i,u){for(var f=t._reactName,y=[];r!==null&&r!==i;){var v=r,R=v.alternate,N=v.stateNode;if(v=v.tag,R!==null&&R===i)break;v!==5&&v!==26&&v!==27||N===null||(R=N,u?(N=ei(r,f),N!=null&&y.unshift(Oi(r,N,R))):u||(N=ei(r,f),N!=null&&y.push(Oi(r,N,R)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var Xv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Vv,"")}function Tm(e,t){return t=vm(t),vm(e)===t}function Rs(){}function Ne(e,t,r,i,u,f){switch(r){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ia(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ia(e,""+i);break;case"className":Al(e,"class",i);break;case"tabIndex":Al(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,r,i);break;case"style":bf(e,i,f);break;case"data":if(t!=="object"){Al(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=$l(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=$l(""+i),e.setAttribute(r,i);break;case"onClick":i!=null&&(e.onclick=Rs);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}r=$l(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":i===!0?e.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Cl(e,"popover",i);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ag.get(r)||r,Cl(e,r,i))}}function Xu(e,t,r,i,u,f){switch(r){case"style":bf(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof i=="string"?ia(e,i):(typeof i=="number"||typeof i=="bigint")&&ia(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),t=r.slice(2,u?r.length-7:void 0),f=e[vt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,i,u);break e}r in e?e[r]=i:i===!0?e.setAttribute(r,""):Cl(e,r,i)}}}function it(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,f,y,r,null)}}u&&Ne(e,t,"srcSet",r.srcSet,r,null),i&&Ne(e,t,"src",r.src,r,null);return;case"input":pe("invalid",e);var v=f=y=u=null,R=null,N=null;for(i in r)if(r.hasOwnProperty(i)){var x=r[i];if(x!=null)switch(i){case"name":u=x;break;case"type":y=x;break;case"checked":R=x;break;case"defaultChecked":N=x;break;case"value":f=x;break;case"defaultValue":v=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,t));break;default:Ne(e,t,i,x,r,null)}}gf(e,f,v,R,N,y,u,!1),Nl(e);return;case"select":pe("invalid",e),i=y=f=null;for(u in r)if(r.hasOwnProperty(u)&&(v=r[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":y=v;break;case"multiple":i=v;default:Ne(e,t,u,v,r,null)}t=f,r=y,e.multiple=!!i,t!=null?aa(e,!!i,t,!1):r!=null&&aa(e,!!i,r,!0);return;case"textarea":pe("invalid",e),f=u=i=null;for(y in r)if(r.hasOwnProperty(y)&&(v=r[y],v!=null))switch(y){case"value":i=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ne(e,t,y,v,r,null)}Tf(e,i,u,f),Nl(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(i=r[R],i!=null))switch(R){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(e,t,R,i,r,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<Ui.length;i++)pe(Ui[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(i=r[N],i!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,N,i,r,null)}return;default:if(uo(t)){for(x in r)r.hasOwnProperty(x)&&(i=r[x],i!==void 0&&Xu(e,t,x,i,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(i=r[v],i!=null&&Ne(e,t,v,i,r,null))}function Zv(e,t,r,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,v=null,R=null,N=null,x=null;for(w in r){var L=r[w];if(r.hasOwnProperty(w)&&L!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":R=L;default:i.hasOwnProperty(w)||Ne(e,t,w,null,i,L)}}for(var _ in i){var w=i[_];if(L=r[_],i.hasOwnProperty(_)&&(w!=null||L!=null))switch(_){case"type":f=w;break;case"name":u=w;break;case"checked":N=w;break;case"defaultChecked":x=w;break;case"value":y=w;break;case"defaultValue":v=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,t));break;default:w!==L&&Ne(e,t,_,w,i,L)}}so(e,y,v,R,N,x,f,u);return;case"select":w=y=v=_=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":w=R;default:i.hasOwnProperty(f)||Ne(e,t,f,null,i,R)}for(u in i)if(f=i[u],R=r[u],i.hasOwnProperty(u)&&(f!=null||R!=null))switch(u){case"value":_=f;break;case"defaultValue":v=f;break;case"multiple":y=f;default:f!==R&&Ne(e,t,u,f,i,R)}t=v,r=y,i=w,_!=null?aa(e,!!r,_,!1):!!i!=!!r&&(t!=null?aa(e,!!r,t,!0):aa(e,!!r,r?[]:"",!1));return;case"textarea":w=_=null;for(v in r)if(u=r[v],r.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ne(e,t,v,null,i,u)}for(y in i)if(u=i[y],f=r[y],i.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":_=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ne(e,t,y,u,i,f)}vf(e,_,w);return;case"option":for(var ae in r)if(_=r[ae],r.hasOwnProperty(ae)&&_!=null&&!i.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ne(e,t,ae,null,i,_)}for(R in i)if(_=i[R],w=r[R],i.hasOwnProperty(R)&&_!==w&&(_!=null||w!=null))switch(R){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ne(e,t,R,_,i,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in r)_=r[J],r.hasOwnProperty(J)&&_!=null&&!i.hasOwnProperty(J)&&Ne(e,t,J,null,i,_);for(N in i)if(_=i[N],w=r[N],i.hasOwnProperty(N)&&_!==w&&(_!=null||w!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(137,t));break;default:Ne(e,t,N,_,i,w)}return;default:if(uo(t)){for(var _e in r)_=r[_e],r.hasOwnProperty(_e)&&_!==void 0&&!i.hasOwnProperty(_e)&&Xu(e,t,_e,void 0,i,_);for(x in i)_=i[x],w=r[x],!i.hasOwnProperty(x)||_===w||_===void 0&&w===void 0||Xu(e,t,x,_,i,w);return}}for(var C in r)_=r[C],r.hasOwnProperty(C)&&_!=null&&!i.hasOwnProperty(C)&&Ne(e,t,C,null,i,_);for(L in i)_=i[L],w=r[L],!i.hasOwnProperty(L)||_===w||_==null&&w==null||Ne(e,t,L,_,i,w)}var Vu=null,Zu=null;function bs(e){return e.nodeType===9?e:e.ownerDocument}function Rm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=null;function Iv(){var e=window.event;return e&&e.type==="popstate"?e===Wu?!1:(Wu=e,!0):(Wu=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(e0)}:Sm;function e0(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function Cm(e,t){var r=t,i=0,u=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<i&&8>i){r=i;var y=e.ownerDocument;if(r&1&&Hi(y.documentElement),r&2&&Hi(y.body),r&4)for(r=y.head,Hi(r),y=r.firstChild;y;){var v=y.nextSibling,R=y.nodeName;y[Wa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=v}}if(u===0){e.removeChild(f),Pi(t);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:i=r.charCodeAt(0)-48;else i=0;r=f}while(r);Pi(t)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ju(r),ro(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function t0(e,t,r,i){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Wa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function n0(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Jt(e.nextSibling),e===null))return null;return e}function ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function r0(e,t){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")t();else{var i=function(){t(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var tc=null;function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}function Nm(e,t,r){switch(t=bs(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ro(e)}var Ft=new Map,_m=new Set;function Ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=Q.d;Q.d={f:a0,r:i0,D:l0,C:s0,L:o0,m:u0,X:f0,S:c0,M:d0};function a0(){var e=wn.f(),t=ps();return e||t}function i0(e){var t=ea(e);t!==null&&t.tag===5&&t.type==="form"?Qd(t):wn.r(e)}var za=typeof document>"u"?null:document;function $m(e,t,r){var i=za;if(i&&typeof t=="string"&&t){var u=Ht(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),_m.has(u)||(_m.add(u),e={rel:e,crossOrigin:r,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function l0(e){wn.D(e),$m("dns-prefetch",e,null)}function s0(e,t){wn.C(e,t),$m("preconnect",e,t)}function o0(e,t,r){wn.L(e,t,r);var i=za;if(i&&e&&t){var u='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ht(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ht(r.imageSizes)+'"]')):u+='[href="'+Ht(e)+'"]';var f=u;switch(t){case"style":f=Ua(e);break;case"script":f=Oa(e)}Ft.has(f)||(e=g({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Ft.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Li(f))||t==="script"&&i.querySelector(qi(f))||(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function u0(e,t){wn.m(e,t);var r=za;if(r&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Ft.has(f)&&(e=g({rel:"modulepreload",href:e},t),Ft.set(f,e),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qi(f)))return}i=r.createElement("link"),it(i,"link",e),We(i),r.head.appendChild(i)}}}function c0(e,t,r){wn.S(e,t,r);var i=za;if(i&&e){var u=ta(i).hoistableStyles,f=Ua(e);t=t||"default";var y=u.get(f);if(!y){var v={loading:0,preload:null};if(y=i.querySelector(Li(f)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Ft.get(f))&&nc(e,r);var R=y=i.createElement("link");We(R),it(R,"link",e),R._p=new Promise(function(N,x){R.onload=N,R.onerror=x}),R.addEventListener("load",function(){v.loading|=1}),R.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ds(y,t,i)}y={type:"stylesheet",instance:y,count:1,state:v},u.set(f,y)}}}function f0(e,t){wn.X(e,t);var r=za;if(r&&e){var i=ta(r).hoistableScripts,u=Oa(e),f=i.get(u);f||(f=r.querySelector(qi(u)),f||(e=g({src:e,async:!0},t),(t=Ft.get(u))&&rc(e,t),f=r.createElement("script"),We(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function d0(e,t){wn.M(e,t);var r=za;if(r&&e){var i=ta(r).hoistableScripts,u=Oa(e),f=i.get(u);f||(f=r.querySelector(qi(u)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Ft.get(u))&&rc(e,t),f=r.createElement("script"),We(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function wm(e,t,r,i){var u=(u=Xt.current)?Ss(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Ua(r.href),r=ta(u).hoistableStyles,i=r.get(t),i||(i={type:"style",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ua(r.href);var f=ta(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Li(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ft.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ft.set(e,r),f||p0(u,e,r,y.state))),t&&i===null)throw Error(l(528,""));return y}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oa(r),r=ta(u).hoistableScripts,i=r.get(t),i||(i={type:"script",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ua(e){return'href="'+Ht(e)+'"'}function Li(e){return'link[rel="stylesheet"]['+e+"]"}function km(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function p0(e,t,r,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),it(t,"link",r),We(t),e.head.appendChild(t))}function Oa(e){return'[src="'+Ht(e)+'"]'}function qi(e){return"script[async]"+e}function xm(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(r.href)+'"]');if(i)return t.instance=i,We(i),i;var u=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),We(i),it(i,"style",u),Ds(i,r.precedence,e),t.instance=i;case"stylesheet":u=Ua(r.href);var f=e.querySelector(Li(u));if(f)return t.state.loading|=4,t.instance=f,We(f),f;i=km(r),(u=Ft.get(u))&&nc(i,u),f=(e.ownerDocument||e).createElement("link"),We(f);var y=f;return y._p=new Promise(function(v,R){y.onload=v,y.onerror=R}),it(f,"link",i),t.state.loading|=4,Ds(f,r.precedence,e),t.instance=f;case"script":return f=Oa(r.src),(u=e.querySelector(qi(f)))?(t.instance=u,We(u),u):(i=r,(u=Ft.get(f))&&(i=g({},r),rc(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),it(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ds(i,r.precedence,e));return t.instance}function Ds(e,t,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,y=0;y<i.length;y++){var v=i[y];if(v.dataset.precedence===t)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cs=null;function Em(e,t,r){if(Cs===null){var i=new Map,u=Cs=new Map;u.set(r,i)}else u=Cs,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var f=r[u];if(!(f[Wa]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var v=i.get(y);v?v.push(f):i.set(y,[f])}}return i}function Mm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function m0(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Gi=null;function y0(){}function h0(e,t,r){if(Gi===null)throw Error(l(475));var i=Gi;if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=Ua(r.href),f=e.querySelector(Li(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=As.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,We(f);return}f=e.ownerDocument||e,r=km(r),(u=Ft.get(u))&&nc(r,u),f=f.createElement("link"),We(f);var y=f;y._p=new Promise(function(v,R){y.onload=v,y.onerror=R}),it(f,"link",r),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=As.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function g0(){if(Gi===null)throw Error(l(475));var e=Gi;return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}function As(){if(this.count--,this.count===0){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,t.forEach(v0,e),Ns=null,As.call(e))}function v0(e,t){if(!(t.state.loading&4)){var r=Ns.get(e);if(r)var i=r.get(null);else{r=new Map,Ns.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),i=y)}i&&r.set(null,i)}u=t.instance,y=u.getAttribute("data-precedence"),f=r.get(y)||i,f===i&&r.set(null,u),r.set(y,u),this.count++,i=As.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function T0(e,t,r,i,u,f,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Um(e,t,r,i,u,f,y,v,R,N,x,L){return e=new T0(e,t,r,y,v,R,N,L),t=1,f===!0&&(t|=24),f=Nt(3,null,null,t),e.current=f,f.stateNode=e,t=qo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:t},Bo(f),e}function Om(e){return e?(e=pa,e):pa}function Hm(e,t,r,i,u,f){u=Om(u),i.context===null?i.context=u:i.pendingContext=u,i=Fn(t),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Pn(e,i,t),r!==null&&(xt(r,e,t),gi(r,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ic(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function qm(e){if(e.tag===13){var t=da(e,67108864);t!==null&&xt(t,e,67108864),ic(e,67108864)}}var _s=!0;function R0(e,t,r,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=2,lc(e,t,r,i)}finally{Q.p=f,M.T=u}}function b0(e,t,r,i){var u=M.T;M.T=null;var f=Q.p;try{Q.p=8,lc(e,t,r,i)}finally{Q.p=f,M.T=u}}function lc(e,t,r,i){if(_s){var u=sc(i);if(u===null)Qu(e,t,i,$s,r),jm(e,i);else if(D0(u,e,t,r,i))i.stopPropagation();else if(jm(e,i),t&4&&-1<S0.indexOf(e)){for(;u!==null;){var f=ea(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=gr(f.pendingLanes);if(y!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var R=1<<31-k(y);v.entanglements[1]|=R,y&=~R}dn(f),(De&6)===0&&(fs=ot()+500,zi(0))}}break;case 13:v=da(f,2),v!==null&&xt(v,f,2),ps(),ic(f,2)}if(f=sc(i),f===null&&Qu(e,t,i,$s,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Qu(e,t,i,null,r)}}function sc(e){return e=fo(e),oc(e)}var $s=null;function oc(e){if($s=null,e=Jr(e),e!==null){var t=c(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=d(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $s=e,null}function Gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case Xa:return 2;case Va:return 8;case hr:case Xr:return 32;case bl:return 268435456;default:return 32}default:return 32}}var uc=!1,ar=null,ir=null,lr=null,Ki=new Map,Bi=new Map,sr=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function Fi(e,t,r,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ea(t),t!==null&&qm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function D0(e,t,r,i,u){switch(t){case"focusin":return ar=Fi(ar,e,t,r,i,u),!0;case"dragenter":return ir=Fi(ir,e,t,r,i,u),!0;case"mouseover":return lr=Fi(lr,e,t,r,i,u),!0;case"pointerover":var f=u.pointerId;return Ki.set(f,Fi(Ki.get(f)||null,e,t,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Bi.set(f,Fi(Bi.get(f)||null,e,t,r,i,u)),!0}return!1}function Km(e){var t=Jr(e.target);if(t!==null){var r=c(t);if(r!==null){if(t=r.tag,t===13){if(t=d(r),t!==null){e.blockedOn=t,hg(e.priority,function(){if(r.tag===13){var i=kt();i=eo(i);var u=da(r,i);u!==null&&xt(u,r,i),ic(r,i)}});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sc(e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);co=i,r.target.dispatchEvent(i),co=null}else return t=ea(r),t!==null&&qm(t),e.blockedOn=r,!1;t.shift()}return!0}function Bm(e,t,r){ws(e)&&r.delete(t)}function C0(){uc=!1,ar!==null&&ws(ar)&&(ar=null),ir!==null&&ws(ir)&&(ir=null),lr!==null&&ws(lr)&&(lr=null),Ki.forEach(Bm),Bi.forEach(Bm)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,C0)))}var xs=null;function Fm(e){xs!==e&&(xs=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var t=0;t<e.length;t+=3){var r=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(oc(i||r)===null)continue;break}var f=ea(r);f!==null&&(e.splice(t,3),t-=3,ou(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function Pi(e){function t(R){return ks(R,e)}ar!==null&&ks(ar,e),ir!==null&&ks(ir,e),lr!==null&&ks(lr,e),Ki.forEach(t),Bi.forEach(t);for(var r=0;r<sr.length;r++){var i=sr[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)Km(r),r.blockedOn===null&&sr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],y=u[vt]||null;if(typeof f=="function")y||Fm(r);else if(y){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[vt]||null)v=y.formAction;else if(oc(u)!==null)continue}else v=y.action;typeof v=="function"?r[i+1]=v:(r.splice(i,3),i-=3),Fm(r)}}}function cc(e){this._internalRoot=e}Es.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,i=kt();Hm(r,i,e,t,null,null)},Es.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),ps(),t[Wr]=null}};function Es(e){this._internalRoot=e}Es.prototype.unstable_scheduleHydration=function(e){if(e){var t=sf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sr.length&&t!==0&&t<sr[r].priority;r++);sr.splice(r,0,e),r===0&&Km(e)}};var Pm=n.version;if(Pm!=="19.1.0")throw Error(l(527,Pm,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var A0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{sn=Ms.inject(A0),Be=Ms}catch{}}return Qi.createRoot=function(e,t){if(!s(e))throw Error(l(299));var r=!1,i="",u=sp,f=op,y=up,v=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Um(e,1,!1,null,null,r,i,u,f,y,v,null),e[Wr]=t.current,Yu(e),new cc(t)},Qi.hydrateRoot=function(e,t,r){if(!s(e))throw Error(l(299));var i=!1,u="",f=sp,y=op,v=up,R=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),t=Um(e,1,!0,t,r??null,i,u,f,y,v,R,N),t.context=Om(null),r=t.current,i=kt(),i=eo(i),u=Fn(i),u.callback=null,Pn(r,u,i),r=i,t.current.lanes=r,Ia(t,r),dn(t),e[Wr]=t.current,Yu(e),new Es(t)},Qi.version="19.1.0",Qi}var sy;function ET(){if(sy)return pc.exports;sy=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),pc.exports=xT(),pc.exports}var MT=ET();function zT(o){var n;const a=/^\/(.*)\/([gimyu]*)$/.exec(o.toString());if(!a)throw new Error("Invalid RegExp");return new RegExp((n=a[1])!==null&&n!==void 0?n:"",a[2])}function Ps(o){if(typeof o!="object")return o;if(o===null)return null;if(Array.isArray(o))return o.map(Ps);if(o instanceof Date)return new Date(o.getTime());if(o instanceof RegExp)return zT(o);const n={};for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=Ps(o[a]));return n}function UT(o,n){if(o.length===0)throw new Error("Expected a non-empty array")}function OT(o,n){if(o.length<2)throw new Error("Expected an array with at least 2 items")}const HT=o=>o[o.length-1];class Bc{setResult(n){return this.result=n,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(n,a){return n.parent=this,typeof a<"u"&&(n.childName=a),n.root=this.root||this,n.options=n.options||this.options,this.children?(UT(this.children),HT(this.children).next=n,this.children.push(n)):(this.children=[n],this.nextAfterChildren=this.next||null,this.next=n),n.next=this,this}}class qr extends Bc{constructor(n,a){super(),this.left=n,this.right=a,this.pipe="diff"}prepareDeltaResult(n){var a,l,s,c;if(typeof n=="object"&&(!((a=this.options)===null||a===void 0)&&a.omitRemovedValues&&Array.isArray(n)&&n.length>1&&(n.length===2||n[2]===0||n[2]===3)&&(n[0]=0),!((l=this.options)===null||l===void 0)&&l.cloneDiffValues)){const d=typeof((s=this.options)===null||s===void 0?void 0:s.cloneDiffValues)=="function"?(c=this.options)===null||c===void 0?void 0:c.cloneDiffValues:Ps;typeof n[0]=="object"&&(n[0]=d(n[0])),typeof n[1]=="object"&&(n[1]=d(n[1]))}return n}setResult(n){return this.prepareDeltaResult(n),super.setResult(n)}}class Fc extends Bc{constructor(n,a){super(),this.left=n,this.delta=a,this.pipe="patch"}}class Pc extends Bc{constructor(n){super(),this.delta=n,this.pipe="reverse"}}class hc{constructor(n){this.name=n,this.filters=[]}process(n){if(!this.processor)throw new Error("add this pipe to a processor before using it");const a=this.debug,l=this.filters.length,s=n;for(let c=0;c<l;c++){const d=this.filters[c];if(d&&(a&&this.log(`filter: ${d.filterName}`),d(s),typeof s=="object"&&s.exiting)){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}log(n){console.log(`[jsondiffpatch] ${this.name} pipe, ${n}`)}append(...n){return this.filters.push(...n),this}prepend(...n){return this.filters.unshift(...n),this}indexOf(n){if(!n)throw new Error("a filter name is required");for(let a=0;a<this.filters.length;a++){const l=this.filters[a];if(l?.filterName===n)return a}throw new Error(`filter not found: ${n}`)}list(){return this.filters.map(n=>n.filterName)}after(n,...a){const l=this.indexOf(n);return this.filters.splice(l+1,0,...a),this}before(n,...a){const l=this.indexOf(n);return this.filters.splice(l,0,...a),this}replace(n,...a){const l=this.indexOf(n);return this.filters.splice(l,1,...a),this}remove(n){const a=this.indexOf(n);return this.filters.splice(a,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(n){return n===!1?(this.resultCheck=null,this):this.resultCheck?this:(this.resultCheck=a=>{if(!a.hasResult){console.log(a);const l=new Error(`${this.name} failed`);throw l.noResult=!0,l}},this)}}class LT{constructor(n){this.selfOptions=n||{},this.pipes={}}options(n){return n&&(this.selfOptions=n),this.selfOptions}pipe(n,a){let l=a;if(typeof n=="string"){if(typeof l>"u")return this.pipes[n];this.pipes[n]=l}if(n&&n.name){if(l=n,l.processor===this)return l;this.pipes[l.name]=l}if(!l)throw new Error(`pipe is not defined: ${n}`);return l.processor=this,l}process(n,a){let l=n;l.options=this.options();let s=a||n.pipe||"default",c;for(;s;)typeof l.nextAfterChildren<"u"&&(l.next=l.nextAfterChildren,l.nextAfterChildren=null),typeof s=="string"&&(s=this.pipe(s)),s.process(l),c=s,s=null,l&&l.next&&(l=l.next,s=l.pipe||c);return l.hasResult?l.result:void 0}}const qT=(o,n,a,l)=>o[a]===n[l],GT=(o,n,a,l)=>{var s,c,d;const p=o.length,m=n.length;let h,g;const T=new Array(p+1);for(h=0;h<p+1;h++){const b=new Array(m+1);for(g=0;g<m+1;g++)b[g]=0;T[h]=b}for(T.match=a,h=1;h<p+1;h++){const b=T[h];if(b===void 0)throw new Error("LCS matrix row is undefined");const D=T[h-1];if(D===void 0)throw new Error("LCS matrix row is undefined");for(g=1;g<m+1;g++)a(o,n,h-1,g-1,l)?b[g]=((s=D[g-1])!==null&&s!==void 0?s:0)+1:b[g]=Math.max((c=D[g])!==null&&c!==void 0?c:0,(d=b[g-1])!==null&&d!==void 0?d:0)}return T},jT=(o,n,a,l)=>{let s=n.length,c=a.length;const d={sequence:[],indices1:[],indices2:[]};for(;s!==0&&c!==0;){if(o.match===void 0)throw new Error("LCS matrix match function is undefined");if(o.match(n,a,s-1,c-1,l))d.sequence.unshift(n[s-1]),d.indices1.unshift(s-1),d.indices2.unshift(c-1),--s,--c;else{const m=o[s];if(m===void 0)throw new Error("LCS matrix row is undefined");const h=m[c-1];if(h===void 0)throw new Error("LCS matrix value is undefined");const g=o[s-1];if(g===void 0)throw new Error("LCS matrix row is undefined");const T=g[c];if(T===void 0)throw new Error("LCS matrix value is undefined");h>T?--c:--s}}return d},KT=(o,n,a,l)=>{const s=l||{},c=GT(o,n,a||qT,s);return jT(c,o,n,s)},BT={get:KT},Pr=3;function FT(o,n,a,l){for(let s=0;s<a;s++){const c=o[s];for(let d=0;d<l;d++){const p=n[d];if(s!==d&&c===p)return!0}}return!1}function zs(o,n,a,l,s){const c=o[a],d=n[l];if(c===d)return!0;if(typeof c!="object"||typeof d!="object")return!1;const p=s.objectHash;if(!p)return s.matchByPosition&&a===l;s.hashCache1=s.hashCache1||[];let m=s.hashCache1[a];if(typeof m>"u"&&(s.hashCache1[a]=m=p(c,a)),typeof m>"u")return!1;s.hashCache2=s.hashCache2||[];let h=s.hashCache2[l];return typeof h>"u"&&(s.hashCache2[l]=h=p(d,l)),typeof h>"u"?!1:m===h}const ch=function(n){var a,l,s,c,d;if(!n.leftIsArray)return;const p={objectHash:(a=n.options)===null||a===void 0?void 0:a.objectHash,matchByPosition:(l=n.options)===null||l===void 0?void 0:l.matchByPosition};let m=0,h=0,g,T,b;const D=n.left,H=n.right,B=D.length,q=H.length;let F;for(B>0&&q>0&&!p.objectHash&&typeof p.matchByPosition!="boolean"&&(p.matchByPosition=!FT(D,H,B,q));m<B&&m<q&&zs(D,H,m,m,p);)g=m,F=new qr(D[g],H[g]),n.push(F,g),m++;for(;h+m<B&&h+m<q&&zs(D,H,B-1-h,q-1-h,p);)T=B-1-h,b=q-1-h,F=new qr(D[T],H[b]),n.push(F,b),h++;let j;if(m+h===B){if(B===q){n.setResult(void 0).exit();return}for(j=j||{_t:"a"},g=m;g<q-h;g++)j[g]=[H[g]],n.prepareDeltaResult(j[g]);n.setResult(j).exit();return}if(m+h===q){for(j=j||{_t:"a"},g=m;g<B-h;g++){const ke=`_${g}`;j[ke]=[D[g],0,0],n.prepareDeltaResult(j[ke])}n.setResult(j).exit();return}p.hashCache1=void 0,p.hashCache2=void 0;const P=D.slice(m,B-h),W=H.slice(m,q-h),oe=BT.get(P,W,zs,p),ie=[];for(j=j||{_t:"a"},g=m;g<B-h;g++)if(oe.indices1.indexOf(g-m)<0){const ke=`_${g}`;j[ke]=[D[g],0,0],n.prepareDeltaResult(j[ke]),ie.push(g)}let ye=!0;!((s=n.options)===null||s===void 0)&&s.arrays&&n.options.arrays.detectMove===!1&&(ye=!1);let fe=!1;!((d=(c=n.options)===null||c===void 0?void 0:c.arrays)===null||d===void 0)&&d.includeValueOnMove&&(fe=!0);const Ue=ie.length;for(g=m;g<q-h;g++){const ke=oe.indices2.indexOf(g-m);if(ke<0){let yt=!1;if(ye&&Ue>0)for(let Le=0;Le<Ue;Le++){T=ie[Le];const ht=T===void 0?void 0:j[`_${T}`];if(T!==void 0&&ht&&zs(P,W,T-m,g-m,p)){ht.splice(1,2,g,Pr),ht.splice(1,2,g,Pr),fe||(ht[0]=""),b=g,F=new qr(D[T],H[b]),n.push(F,b),ie.splice(Le,1),yt=!0;break}}yt||(j[g]=[H[g]],n.prepareDeltaResult(j[g]))}else{if(oe.indices1[ke]===void 0)throw new Error(`Invalid indexOnArray2: ${ke}, seq.indices1: ${oe.indices1}`);if(T=oe.indices1[ke]+m,oe.indices2[ke]===void 0)throw new Error(`Invalid indexOnArray2: ${ke}, seq.indices2: ${oe.indices2}`);b=oe.indices2[ke]+m,F=new qr(D[T],H[b]),n.push(F,b)}}n.setResult(j).exit()};ch.filterName="arrays";const oy={numerically(o,n){return o-n},numericallyBy(o){return(n,a)=>n[o]-a[o]}},fh=function(n){var a;if(!n.nested)return;const l=n.delta;if(l._t!=="a")return;let s,c;const d=l,p=n.left;let m=[],h=[];const g=[];for(s in d)if(s!=="_t")if(s[0]==="_"){const D=s;if(d[D]!==void 0&&(d[D][2]===0||d[D][2]===Pr))m.push(Number.parseInt(s.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${(a=d[D])===null||a===void 0?void 0:a[2]}`)}else{const D=s;d[D].length===1?h.push({index:Number.parseInt(D,10),value:d[D][0]}):g.push({index:Number.parseInt(D,10),delta:d[D]})}for(m=m.sort(oy.numerically),s=m.length-1;s>=0;s--){if(c=m[s],c===void 0)continue;const D=d[`_${c}`],H=p.splice(c,1)[0];D?.[2]===Pr&&h.push({index:D[1],value:H})}h=h.sort(oy.numericallyBy("index"));const T=h.length;for(s=0;s<T;s++){const D=h[s];D!==void 0&&p.splice(D.index,0,D.value)}const b=g.length;if(b>0)for(s=0;s<b;s++){const D=g[s];if(D===void 0)continue;const H=new Fc(p[D.index],D.delta);n.push(H,D.index)}if(!n.children){n.setResult(p).exit();return}n.exit()};fh.filterName="arrays";const dh=function(n){if(!n||!n.children||n.delta._t!=="a")return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;l[p]=d.result}n.setResult(l).exit()};dh.filterName="arraysCollectChildren";const ph=function(n){if(!n.nested){const s=n.delta;if(s[2]===Pr){const c=s;n.newName=`_${c[1]}`,n.setResult([c[0],Number.parseInt(n.childName.substring(1),10),Pr]).exit()}return}const a=n.delta;if(a._t!=="a")return;const l=a;for(const s in l){if(s==="_t")continue;const c=new Pc(l[s]);n.push(c,s)}n.exit()};ph.filterName="arrays";const PT=(o,n,a)=>{if(typeof n=="string"&&n[0]==="_")return Number.parseInt(n.substring(1),10);if(Array.isArray(a)&&a[2]===0)return`_${n}`;let l=+n;for(const s in o){const c=o[s];if(Array.isArray(c))if(c[2]===Pr){const d=Number.parseInt(s.substring(1),10),p=c[1];if(p===+n)return d;d<=l&&p>l?l++:d>=l&&p<l&&l--}else c[2]===0?Number.parseInt(s.substring(1),10)<=l&&l++:c.length===1&&Number.parseInt(s,10)<=l&&l--}return l},mh=o=>{if(!o||!o.children)return;const n=o.delta;if(n._t!=="a")return;const a=n,l=o.children.length,s={_t:"a"};for(let c=0;c<l;c++){const d=o.children[c];if(d===void 0)continue;let p=d.newName;if(typeof p>"u"){if(d.childName===void 0)throw new Error("child.childName is undefined");p=PT(a,d.childName,d.result)}s[p]!==d.result&&(s[p]=d.result)}o.setResult(s).exit()};mh.filterName="arraysCollectChildren";const yh=function(n){n.left instanceof Date?(n.right instanceof Date?n.left.getTime()!==n.right.getTime()?n.setResult([n.left,n.right]):n.setResult(void 0):n.setResult([n.left,n.right]),n.exit()):n.right instanceof Date&&n.setResult([n.left,n.right]).exit()};yh.filterName="dates";const hh=o=>{if(!o||!o.children)return;const n=o.children.length;let a=o.result;for(let l=0;l<n;l++){const s=o.children[l];if(s!==void 0&&!(typeof s.result>"u")){if(a=a||{},s.childName===void 0)throw new Error("diff child.childName is undefined");a[s.childName]=s.result}}a&&o.leftIsArray&&(a._t="a"),o.setResult(a).exit()};hh.filterName="collectChildren";const gh=o=>{var n;if(o.leftIsArray||o.leftType!=="object")return;const a=o.left,l=o.right,s=(n=o.options)===null||n===void 0?void 0:n.propertyFilter;for(const c in a){if(!Object.prototype.hasOwnProperty.call(a,c)||s&&!s(c,o))continue;const d=new qr(a[c],l[c]);o.push(d,c)}for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&!(s&&!s(c,o))&&typeof a[c]>"u"){const d=new qr(void 0,l[c]);o.push(d,c)}if(!o.children||o.children.length===0){o.setResult(void 0).exit();return}o.exit()};gh.filterName="objects";const vh=function(n){if(!n.nested)return;const a=n.delta;if(a._t)return;const l=a;for(const s in l){const c=new Fc(n.left[s],l[s]);n.push(c,s)}n.exit()};vh.filterName="objects";const Th=function(n){if(!n||!n.children||n.delta._t)return;const l=n.left,s=n.children.length;for(let c=0;c<s;c++){const d=n.children[c];if(d===void 0)continue;const p=d.childName;Object.prototype.hasOwnProperty.call(n.left,p)&&d.result===void 0?delete l[p]:l[p]!==d.result&&(l[p]=d.result)}n.setResult(l).exit()};Th.filterName="collectChildren";const Rh=function(n){if(!n.nested||n.delta._t)return;const l=n.delta;for(const s in l){const c=new Pc(l[s]);n.push(c,s)}n.exit()};Rh.filterName="objects";const bh=o=>{if(!o||!o.children||o.delta._t)return;const a=o.children.length,l={};for(let s=0;s<a;s++){const c=o.children[s];if(c===void 0)continue;const d=c.childName;l[d]!==c.result&&(l[d]=c.result)}o.setResult(l).exit()};bh.filterName="collectChildren";const Ys=2,YT=60;let gc=null;function Sh(o,n){var a;if(!gc){let l;if(!((a=o?.textDiff)===null||a===void 0)&&a.diffMatchPatch)l=new o.textDiff.diffMatchPatch;else{if(!n)return null;const s=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw s.diff_match_patch_not_found=!0,s}gc={diff:(s,c)=>l.patch_toText(l.patch_make(s,c)),patch:(s,c)=>{const d=l.patch_apply(l.patch_fromText(c),s);for(const p of d[1])if(!p){const m=new Error("text patch failed");throw m.textPatchFailed=!0,m}return d[0]}}}return gc}const Dh=function(n){var a,l;if(n.leftType!=="string")return;const s=n.left,c=n.right,d=((l=(a=n.options)===null||a===void 0?void 0:a.textDiff)===null||l===void 0?void 0:l.minLength)||YT;if(s.length<d||c.length<d){n.setResult([s,c]).exit();return}const p=Sh(n.options);if(!p){n.setResult([s,c]).exit();return}const m=p.diff;n.setResult([m(s,c),0,Ys]).exit()};Dh.filterName="texts";const Ch=function(n){if(n.nested)return;const a=n.delta;if(a[2]!==Ys)return;const l=a,s=Sh(n.options,!0).patch;n.setResult(s(n.left,l[0])).exit()};Ch.filterName="texts";const QT=o=>{var n,a,l;const s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,c=o.split(`
`);for(let d=0;d<c.length;d++){const p=c[d];if(p===void 0)continue;const m=p.slice(0,1);if(m==="@"){const h=s.exec(p);if(h!==null){const g=d;c[g]=`@@ -${h[3]},${h[4]} +${h[1]},${h[2]} @@`}}else if(m==="+"){if(c[d]=`-${(n=c[d])===null||n===void 0?void 0:n.slice(1)}`,((a=c[d-1])===null||a===void 0?void 0:a.slice(0,1))==="+"){const h=c[d];c[d]=c[d-1],c[d-1]=h}}else m==="-"&&(c[d]=`+${(l=c[d])===null||l===void 0?void 0:l.slice(1)}`)}return c.join(`
`)},Ah=function(n){if(n.nested)return;const a=n.delta;if(a[2]!==Ys)return;const l=a;n.setResult([QT(l[0]),0,Ys]).exit()};Ah.filterName="texts";const Nh=function(n){if(n.left===n.right){n.setResult(void 0).exit();return}if(typeof n.left>"u"){if(typeof n.right=="function")throw new Error("functions are not supported");n.setResult([n.right]).exit();return}if(typeof n.right>"u"){n.setResult([n.left,0,0]).exit();return}if(typeof n.left=="function"||typeof n.right=="function")throw new Error("functions are not supported");if(n.leftType=n.left===null?"null":typeof n.left,n.rightType=n.right===null?"null":typeof n.right,n.leftType!==n.rightType){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="boolean"||n.leftType==="number"){n.setResult([n.left,n.right]).exit();return}if(n.leftType==="object"&&(n.leftIsArray=Array.isArray(n.left)),n.rightType==="object"&&(n.rightIsArray=Array.isArray(n.right)),n.leftIsArray!==n.rightIsArray){n.setResult([n.left,n.right]).exit();return}n.left instanceof RegExp&&(n.right instanceof RegExp?n.setResult([n.left.toString(),n.right.toString()]).exit():n.setResult([n.left,n.right]).exit())};Nh.filterName="trivial";const _h=function(n){if(typeof n.delta>"u"){n.setResult(n.left).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const a=n.delta;if(a.length===1){n.setResult(a[0]).exit();return}if(a.length===2){if(n.left instanceof RegExp){const l=/^\/(.*)\/([gimyu]+)$/.exec(a[1]);if(l?.[1]){n.setResult(new RegExp(l[1],l[2])).exit();return}}n.setResult(a[1]).exit();return}a.length===3&&a[2]===0&&n.setResult(void 0).exit()};_h.filterName="trivial";const $h=function(n){if(typeof n.delta>"u"){n.setResult(n.delta).exit();return}if(n.nested=!Array.isArray(n.delta),n.nested)return;const a=n.delta;if(a.length===1){n.setResult([a[0],0,0]).exit();return}if(a.length===2){n.setResult([a[1],a[0]]).exit();return}a.length===3&&a[2]===0&&n.setResult([a[0]]).exit()};$h.filterName="trivial";class XT{constructor(n){this.processor=new LT(n),this.processor.pipe(new hc("diff").append(hh,Nh,yh,Dh,gh,ch).shouldHaveResult()),this.processor.pipe(new hc("patch").append(Th,dh,_h,Ch,vh,fh).shouldHaveResult()),this.processor.pipe(new hc("reverse").append(bh,mh,$h,Ah,Rh,ph).shouldHaveResult())}options(n){return this.processor.options(n)}diff(n,a){return this.processor.process(new qr(n,a))}patch(n,a){return this.processor.process(new Fc(n,a))}reverse(n){return this.processor.process(new Pc(n))}unpatch(n,a){return this.patch(n,this.reverse(a))}clone(n){return Ps(n)}}function Yc(o){return new XT(o)}class VT{format(n,a){const l={};this.prepareContext(l);const s=l;return this.recurse(s,n,a),this.finalize(s)}prepareContext(n){n.buffer=[],n.out=function(...a){if(!this.buffer)throw new Error("context buffer is not initialized");this.buffer.push(...a)}}typeFormattterNotFound(n,a){throw new Error(`cannot format delta type: ${a}`)}typeFormattterErrorFormatter(n,a,l,s,c,d,p){}finalize({buffer:n}){return Array.isArray(n)?n.join(""):""}recurse(n,a,l,s,c,d,p){const h=a&&d?d.value:l;if(typeof a>"u"&&typeof s>"u")return;const g=this.getDeltaType(a,d),T=g==="node"?a._t==="a"?"array":"object":"";typeof s<"u"?this.nodeBegin(n,s,c,g,T,p??!1):this.rootBegin(n,g,T);let b;try{b=g!=="unknown"?this[`format_${g}`]:this.typeFormattterNotFound(n,g),b.call(this,n,a,h,s,c,d)}catch(D){this.typeFormattterErrorFormatter(n,D,a,h,s,c,d),typeof console<"u"&&console.error&&console.error(D.stack)}typeof s<"u"?this.nodeEnd(n,s,c,g,T,p??!1):this.rootEnd(n,g,T)}formatDeltaChildren(n,a,l){this.forEachDeltaKey(a,l,(s,c,d,p)=>{this.recurse(n,a[s],l?l[c]:void 0,s,c,d,p)})}forEachDeltaKey(n,a,l){const s=[];if(!(n._t==="a")){const q=Object.keys(n);typeof a=="object"&&a!==null&&s.push(...Object.keys(a));for(const F of q)s.indexOf(F)>=0||s.push(F);for(let F=0;F<s.length;F++){const j=s[F];if(j===void 0)continue;const P=F===s.length-1;l(j,j,void 0,P)}return}const d={};for(const q in n)if(Object.prototype.hasOwnProperty.call(n,q)){const F=n[q];if(Array.isArray(F)&&F[2]===3){const j=F;d[j[1]]=Number.parseInt(q.substring(1))}}const p=n;let m=0,h=0;const g=Array.isArray(a)?a:void 0,T=g?g.length:Object.keys(p).reduce((q,F)=>{if(F==="_t")return q;if(F.substring(0,1)==="_"){const ie=p[F],ye=Number.parseInt(F.substring(1)),fe=Array.isArray(ie)&&ie.length>=3&&ie[2]===3?ie[1]:void 0,Ue=Math.max(ye,fe??0);return Ue>q?Ue:q}const P=Number.parseInt(F),W=d[P],oe=Math.max(W??0,P??0);return oe>q?oe:q},0)+1;let b=T,D;const H=(...q)=>{D&&l(...D),D=q},B=()=>{D&&l(D[0],D[1],D[2],!0)};for(;m<T||h<b||`${h}`in p;){let q=!1;const F=`_${m}`,j=`${h}`,P=h in d?d[h]:void 0;if(F in p){q=!0;const W=p[F];H(F,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),Array.isArray(W)?W[2]===0?(b--,m++):(W[2],m++):m++}if(j in p){q=!0;const W=p[j],oe=Array.isArray(W)&&W.length===1;H(j,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),oe?(b++,h++):(P===void 0&&m++,h++)}q||((g&&P===void 0||this.includeMoveDestinations!==!1)&&H(j,P??m,P?{key:`_${P}`,value:g?g[P]:void 0}:void 0,!1),P!==void 0||m++,h++)}B()}getDeltaType(n,a){if(typeof n>"u")return typeof a<"u"?"movedestination":"unchanged";if(Array.isArray(n)){if(n.length===1)return"added";if(n.length===2)return"modified";if(n.length===3&&n[2]===0)return"deleted";if(n.length===3&&n[2]===2)return"textdiff";if(n.length===3&&n[2]===3)return"moved"}else if(typeof n=="object")return"node";return"unknown"}parseTextDiff(n){var a;const l=[],s=n.split(`
@@ `);for(const c of s){const d={pieces:[]},p=(a=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(c))===null||a===void 0?void 0:a.slice(1);if(!p)throw new Error("invalid text diff format");OT(p),d.location={line:p[0],chr:p[1]};const m=c.split(`
`).slice(1);for(let h=0,g=m.length;h<g;h++){const T=m[h];if(T===void 0||!T.length)continue;const b={type:"context"};T.substring(0,1)==="+"?b.type="added":T.substring(0,1)==="-"&&(b.type="deleted"),b.text=T.slice(1),d.pieces.push(b)}l.push(d)}return l}}class ZT extends VT{typeFormattterErrorFormatter(n,a){const l=typeof a=="object"&&a!==null&&"message"in a&&typeof a.message=="string"?a.message:String(a);n.out(`<pre class="jsondiffpatch-error">${Xi(l)}</pre>`)}formatValue(n,a){const l=typeof a>"u"?"undefined":Xi(JSON.stringify(a,null,2));n.out(`<pre>${l}</pre>`)}formatTextDiffString(n,a){const l=this.parseTextDiff(a);n.out('<ul class="jsondiffpatch-textdiff">');for(let s=0,c=l.length;s<c;s++){const d=l[s];if(d===void 0)return;n.out(`<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">${d.location.line}</span><span class="jsondiffpatch-textdiff-char">${d.location.chr}</span></div><div class="jsondiffpatch-textdiff-line">`);const p=d.pieces;for(let m=0,h=p.length;m<h;m++){const g=p[m];if(g===void 0)return;n.out(`<span class="jsondiffpatch-textdiff-${g.type}">${Xi(decodeURI(g.text))}</span>`)}n.out("</div></li>")}n.out("</ul>")}rootBegin(n,a,l){const s=`jsondiffpatch-${a}${l?` jsondiffpatch-child-node-type-${l}`:""}`;n.out(`<div class="jsondiffpatch-delta ${s}">`)}rootEnd(n){n.out(`</div>${n.hasArrows?`<script type="text/javascript">setTimeout(${IT.toString()},10);<\/script>`:""}`)}nodeBegin(n,a,l,s,c){const d=`jsondiffpatch-${s}${c?` jsondiffpatch-child-node-type-${c}`:""}`,p=typeof l=="number"&&a.substring(0,1)==="_"?a.substring(1):a;n.out(`<li class="${d}" data-key="${Xi(a)}"><div class="jsondiffpatch-property-name">${Xi(p)}</div>`)}nodeEnd(n){n.out("</li>")}format_unchanged(n,a,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_movedestination(n,a,l){typeof l>"u"||(n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,l),n.out("</div>"))}format_node(n,a,l){const s=a._t==="a"?"array":"object";n.out(`<ul class="jsondiffpatch-node jsondiffpatch-node-type-${s}">`),this.formatDeltaChildren(n,a,l),n.out("</ul>")}format_added(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out("</div>")}format_modified(n,a){n.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(n,a[0]),n.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(n,a[1]),n.out("</div>")}format_deleted(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out("</div>")}format_moved(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatValue(n,a[0]),n.out(`</div><div class="jsondiffpatch-moved-destination">${a[1]}</div>`),n.out(`<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">
          <svg width="30" height="60" style="position: absolute; display: none;">
          <defs>
              <marker id="markerArrow" markerWidth="8" markerHeight="8"
                 refx="2" refy="4" stroke="#88f"
                     orient="auto" markerUnits="userSpaceOnUse">
                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />
              </marker>
          </defs>
          <path d="M30,0 Q-10,25 26,50"
            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"
          ></path>
          </svg>
      </div>`),n.hasArrows=!0}format_textdiff(n,a){n.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(n,a[0]),n.out("</div>")}}function Xi(o){if(typeof o=="number")return o;let n=String(o);const a=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]];for(const l of a)n=n.replace(l[0],l[1]);return n}const IT=function(n){const a=n||document,l=({textContent:d,innerText:p})=>d||p,s=(d,p,m)=>{const h=d.querySelectorAll(p);for(let g=0,T=h.length;g<T;g++)m(h[g])},c=({children:d},p)=>{for(let m=0,h=d.length;m<h;m++){const g=d[m];g&&p(g,m)}};s(a,".jsondiffpatch-arrow",({parentNode:d,children:p,style:m})=>{const h=d,g=p[0],T=g.children[1];g.style.display="none";const b=h.querySelector(".jsondiffpatch-moved-destination");if(!(b instanceof HTMLElement))return;const D=l(b),H=h.parentNode;if(!H)return;let B;if(c(H,q=>{q.getAttribute("data-key")===D&&(B=q)}),!!B)try{const q=B.offsetTop-h.offsetTop;g.setAttribute("height",`${Math.abs(q)+6}`),m.top=`${-8+(q>0?0:q)}px`;const F=q>0?`M30,0 Q-10,${Math.round(q/2)} 26,${q-4}`:`M30,${-q} Q-10,${Math.round(-q/2)} 26,4`;T.setAttribute("d",F),g.style.display=""}catch(q){console.debug(`[jsondiffpatch] error adjusting arrows: ${q}`)}})};let vc;function Qc(o,n){return vc||(vc=new ZT),vc.format(o,n)}const Xc=`grammar ClassModel

entry ClassModel:
    Localization*
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    Localization*
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    Localization*
    'attribute' name=ID dataType=[DataType:ID] Multiplicity?;

Reference:
    Localization*
    kind=ReferenceKind name=ID target=[Class:ID] Multiplicity? ('opposite' opposite=[Reference:ID])?;

ReferenceKind:
    {infer ReferenceKind__Association} 'reference' |
    {infer ReferenceKind__Composition} 'composition' |
    {infer ReferenceKind__Aggregation} 'aggregation';

fragment Multiplicity:
    '[' lower=Natural ('..' upper=UnlimitedNatural)? ']';

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    Localization*
    'string' name=ID ('{'
        ('length' length=Natural)?
        ('minLength' minLength=Natural)?
        ('maxLength' maxLength=Natural)?
        ('pattern' pattern=STRING)?
    '}')?;

NumericType:
    Localization*
    'numeric' name=ID ('{'
        ('size' size=Natural)?
        ('totalDigits' totalDigits=Natural)?
        ('fractionDigits' fractionDigits=Natural)?
        ('minInclusive' minInclusive=Numeric)?
        ('minExclusive' minExclusive=Numeric)?
        ('maxInclusive' maxInclusive=Numeric)?
        ('maxExclusive' maxExclusive=Numeric)?
        ('measurementUnit' pattern=STRING)?
    '}')?;

BooleanType:
    Localization*
    'boolean' name=ID ('{' '}')?;

TimeType:
    Localization*
    'time' name=ID ('{'
        ('instantUnits' instantUnits+=TimeUnit+)?
        ('instantFractionDigits' instantFractionDigits=Natural)?
        ('durationUnits' durationUnits+=TimeUnit+)?
        ('durationFractionDigits' durationFractionDigits=Natural)?
        ('recurrence' recurrence=TimeUnit)?
    '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    Localization*
    'uuid' name=ID ('{' '}')?;

EnumeratedType:
    Localization*
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    '}')?;

EnumeratedTypeLiteral:
    Localization*
    name=ID;

fragment Localization:
    '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

UnlimitedNatural returns number:
    INT | '*';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
`,dr=`{
  Attribute: {
    lower: {
      normalize(node) {
        return node.lower ?? 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.lower : node.lower !== 1 ? node.lower : undefined;
      },
    },
    upper: {
      normalize(node) {
        return node.upper ?? node.lower ?? 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.upper : undefined;
      },
    },
  },
  Reference: {
    lower: {
      normalize(node) {
        return node.lower ?? 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.lower : node.lower !== 1 ? node.lower : undefined;
      },
    },
    upper: {
      normalize(node) {
        return node.upper ?? node.lower ?? 1;
      },
      denormalize(node) {
        return node.lower !== node.upper ? node.upper : undefined;
      },
    },
    opposite: {
      scopes(node) {
        return node.target.ref.properties.filter((prop) => prop.$type === 'Reference' && prop.target.ref === node.$container);
      },
    },
  },
  UnlimitedNatural: {
    value: {
      parse(value) {
        return value === '*' ? -1 : parseInt(value);
      },
      print(value) {
        return value === -1 ? '*' : value.toString();
      },
    },
  },
}
`,Zs=`@name('ru-RU', 'модель данных интернет-магазина')
classModel OnlineStore

@name('ru-RU', 'пользователь')
@description('ru-RU', 'пользователь системы, который может делать заказы')
class User {

    @name('ru-RU', 'имя')
    @name('fr-FR', 'prénom')
    attribute firstName String[0..1]

    @name('ru-RU', 'фамилия')
    attribute lastName String[0..1]

    @name('ru-RU', 'дата рождения')
    attribute birthDate Date[0..1]

    @name('ru-RU', 'электронная почта')
    attribute email String

}

@name('ru-RU', 'заказ')
class Order {

    @name('ru-RU', 'адресс доставки')
    attribute deliveryAddress String

    @name('ru-RU', 'пользователь')
    reference user User

    @name('ru-RU', 'элементы заказа')
    composition items OrderItem[0..*] opposite order

}

@name('ru-RU', 'элемент заказа')
class OrderItem {

    @name('ru-RU', 'заказ')
    reference order Order opposite items

    @name('ru-RU', 'продукт')
    reference product Product

    @name('ru-RU', 'количество')
    attribute quantity UnsignedInt

    @name('ru-RU', 'стоимость')
    attribute price Money

}

@name('ru-RU', 'продукт')
abstract class Product {

    @name('ru-RU', 'название')
    attribute name String

}

@name('ru-RU', 'книга')
class Book extends Product {

    @name('ru-RU', 'автор')
    attribute author String

}

@name('ru-RU', 'ручка')
class Pen extends Product {

    @name('ru-RU', 'цвет')
    attribute color Color

}

@name('ru-RU', 'строка')
string String {
}

@name('ru-RU', 'целое беззнаковое число')
numeric UnsignedInt {
    fractionDigits 0
    minInclusive 0
}

@name('ru-RU', 'дата')
time Date {
    instantUnits year month day
}

@name('ru-RU', 'денежный тип')
numeric Money {
    totalDigits 19
    fractionDigits 4
    minInclusive 0
}

@name('ru-RU', 'цвет')
enumerated Color {

    @name('ru-RU', 'красный')
    Red

    @name('ru-RU', 'зелёный')
    Green

    @name('ru-RU', 'синий')
    Blue

    @name('ru-RU', 'чёрный')
    Black

}
`,Is=o=>{const{style:n,className:a,wrapperConfig:l,onTextChanged:s,onLoad:c,onError:d}=o,p=me.useRef(new M0),m=me.useRef(null),h=me.useRef(s);return h.current=s,me.useEffect(()=>{(async()=>{if(m.current)try{l.htmlContainer=m.current,(p.current.isInitializing()||p.current.isStarting()||p.current.isDisposing())&&await Promise.all([p.current.getInitializingAwait(),p.current.getStartingAwait(),p.current.getDisposingAwait()]),await p.current.init(l),p.current.registerTextChangedCallback(g=>{h.current!==void 0&&h.current(g)}),await p.current.start(),c?.(p.current)}catch(g){if(d)d(g);else throw g}else throw new Error("No htmlContainer found! Aborting...")})()},[l]),me.useEffect(()=>{const g=async()=>{try{await p.current.dispose()}catch(T){console.error(`Unexpected error occurred during disposal of the language client: ${T}`)}};return()=>{(async()=>await g())()}},[]),w0.createElement("div",{ref:m,style:n,className:a})};let Us;const WT=()=>Us??(Us=U0(`{"$type":"Grammar","isDeclared":true,"name":"LangiumGrammar","rules":[{"$type":"ParserRule","entry":true,"name":"Grammar","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"isDeclared","operator":"?=","terminal":{"$type":"Keyword","value":"grammar"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"with"},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"usedGrammars","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"}],"cardinality":"?"},{"$type":"Assignment","feature":"imports","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"rules","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"interfaces","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Interface","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"interface"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"extends"},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"superTypes","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"Assignment","feature":"attributes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},"cardinality":"*"},{"$type":"Keyword","value":"}"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeAttribute","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"isOptional","operator":"?=","terminal":{"$type":"Keyword","value":"?"},"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"defaultValue","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ValueLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"StringLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberLiteral","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@65"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"BooleanLiteral","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"true","operator":"?=","terminal":{"$type":"Keyword","value":"true"}},{"$type":"Keyword","value":"false"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayLiteral","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Group","elements":[{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TypeDefinition","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnionType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnionType"},"feature":"types","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"types","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ArrayType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ArrayType"},"feature":"elementType","operator":"="},{"$type":"Keyword","value":"["},{"$type":"Keyword","value":"]"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReferenceType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"ReferenceType"}},{"$type":"Keyword","value":"@"},{"$type":"Assignment","feature":"referenceType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"SimpleType","inferredType":{"$type":"InferredType","name":"TypeDefinition"},"definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Keyword","value":")"}]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"SimpleType"}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"typeRef","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"primitiveType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"stringType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PrimitiveType","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"string"},{"$type":"Keyword","value":"number"},{"$type":"Keyword","value":"boolean"},{"$type":"Keyword","value":"Date"},{"$type":"Keyword","value":"bigint"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Type","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"type"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Keyword","value":"="},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractRule","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@50"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"GrammarImport","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"import"},{"$type":"Assignment","feature":"path","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},{"$type":"Keyword","value":";","cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParserRule","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"entry","operator":"?=","terminal":{"$type":"Keyword","value":"entry"}},{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"wildcard","operator":"?=","terminal":{"$type":"Keyword","value":"*"}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"returnType","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"dataType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]}]},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":false},"calledByName":false}]}}],"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"definesHiddenTokens","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"}},{"$type":"Keyword","value":"("},{"$type":"Group","elements":[{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"hiddenTokens","operator":"+=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":")"}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"InferredType","parameters":[{"$type":"Parameter","name":"imperative"}],"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","guardCondition":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}},"elements":[{"$type":"Keyword","value":"infer"}]},{"$type":"Group","guardCondition":{"$type":"Negation","value":{"$type":"ParameterReference","parameter":{"$ref":"#/rules@18/parameters@0"}}},"elements":[{"$type":"Keyword","value":"infers"}]}]},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RuleNameAndParams","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"parameters","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"*"}],"cardinality":"?"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Parameter","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Alternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ConditionalBranch","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"}},{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"guardCondition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}},{"$type":"Keyword","value":">"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UnorderedGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UnorderedGroup"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Group"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@25"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@26"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@27"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTokenWithCardinality","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@41"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Action","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Action"}},{"$type":"Keyword","value":"{"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"inferredType","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[{"$type":"NamedArgument","value":{"$type":"BooleanLiteral","true":true},"calledByName":false}]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"."},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"+="}]}},{"$type":"Keyword","value":"current"}],"cardinality":"?"},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AbstractTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@47"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@39"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@40"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@48"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EndOfFile","definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"EndOfFile"}},{"$type":"Keyword","value":"EOF"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Keyword","definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RuleCall","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NamedArgument","definition":{"$type":"Group","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Assignment","feature":"calledByName","operator":"?=","terminal":{"$type":"Keyword","value":"="}}],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Disjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Disjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@34"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Conjunction","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Conjunction"},"feature":"left","operator":"="},{"$type":"Keyword","value":"&"},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Negation","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@36"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Negation"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@35"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Atom","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@38"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@37"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedCondition","inferredType":{"$type":"InferredType","name":"Condition"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@33"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParameterReference","definition":{"$type":"Assignment","feature":"parameter","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@20"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedKeyword","inferredType":{"$type":"InferredType","name":"Keyword"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@64"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedRuleCall","inferredType":{"$type":"InferredType","name":"RuleCall"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@15"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Keyword","value":"<"},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"arguments","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@32"},"arguments":[]}}],"cardinality":"*"},{"$type":"Keyword","value":">"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Assignment","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Assignment"}},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}],"cardinality":"?"},{"$type":"Assignment","feature":"feature","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@62"},"arguments":[]}},{"$type":"Assignment","feature":"operator","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"+="},{"$type":"Keyword","value":"="},{"$type":"Keyword","value":"?="}]}},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@43"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@45"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedAssignableElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@44"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"AssignableAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Alternatives"},"feature":"elements","operator":"+="},{"$type":"Group","elements":[{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@42"},"arguments":[]}}],"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReference","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CrossReference"}},{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/types@0"},"deprecatedSyntax":false}},{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"deprecatedSyntax","operator":"?=","terminal":{"$type":"Keyword","value":"|"}},{"$type":"Keyword","value":":"}]},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@46"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CrossReferenceableTerminal","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@31"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PredicatedGroup","inferredType":{"$type":"InferredType","name":"Group"},"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"=>"},{"$type":"Keyword","value":"->"}]},{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ReturnType","definition":{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRule","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"hidden","operator":"?=","terminal":{"$type":"Keyword","value":"hidden"},"cardinality":"?"},{"$type":"Keyword","value":"terminal"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"fragment","operator":"?=","terminal":{"$type":"Keyword","value":"fragment"}},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"returns"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@49"},"arguments":[]}}],"cardinality":"?"}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"definition","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]}},{"$type":"Keyword","value":";"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalAlternatives","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalAlternatives"},"feature":"elements","operator":"+="},{"$type":"Keyword","value":"|"},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@52"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalGroup","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalGroup"},"feature":"elements","operator":"+="},{"$type":"Assignment","feature":"elements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@53"},"arguments":[]},"cardinality":"+"}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]},{"$type":"Assignment","feature":"cardinality","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?"},{"$type":"Keyword","value":"*"},{"$type":"Keyword","value":"+"}]},"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalTokenElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@61"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@56"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@55"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@57"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@58"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@59"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@60"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ParenthesizedTerminalElement","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"("},{"$type":"Assignment","feature":"lookahead","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"?="},{"$type":"Keyword","value":"?!"},{"$type":"Keyword","value":"?<="},{"$type":"Keyword","value":"?<!"}]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@51"},"arguments":[]},{"$type":"Keyword","value":")"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TerminalRuleCall","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"TerminalRuleCall"}},{"$type":"Assignment","feature":"rule","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@50"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]},"deprecatedSyntax":false}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NegatedToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"NegatedToken"}},{"$type":"Keyword","value":"!"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"UntilToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"UntilToken"}},{"$type":"Keyword","value":"->"},{"$type":"Assignment","feature":"terminal","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@54"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RegexToken","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"RegexToken"}},{"$type":"Assignment","feature":"regex","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@66"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Wildcard","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"Wildcard"}},{"$type":"Keyword","value":"."}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CharacterRange","inferredType":{"$type":"InferredType","name":"AbstractElement"},"definition":{"$type":"Group","elements":[{"$type":"Action","inferredType":{"$type":"InferredType","name":"CharacterRange"}},{"$type":"Assignment","feature":"left","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":".."},{"$type":"Assignment","feature":"right","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@30"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"FeatureName","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"current"},{"$type":"Keyword","value":"entry"},{"$type":"Keyword","value":"extends"},{"$type":"Keyword","value":"false"},{"$type":"Keyword","value":"fragment"},{"$type":"Keyword","value":"grammar"},{"$type":"Keyword","value":"hidden"},{"$type":"Keyword","value":"import"},{"$type":"Keyword","value":"interface"},{"$type":"Keyword","value":"returns"},{"$type":"Keyword","value":"terminal"},{"$type":"Keyword","value":"true"},{"$type":"Keyword","value":"type"},{"$type":"Keyword","value":"infer"},{"$type":"Keyword","value":"infers"},{"$type":"Keyword","value":"with"},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@63"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ID","definition":{"$type":"RegexToken","regex":"/\\\\^?[_a-zA-Z][\\\\w_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"(\\\\\\\\.|[^\\"\\\\\\\\])*\\"|'(\\\\\\\\.|[^'\\\\\\\\])*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/NaN|-?((\\\\d*\\\\.\\\\d+|\\\\d+)([Ee][+-]?\\\\d+)?|Infinity)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"RegexLiteral","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\/(?![*+?])(?:[^\\\\r\\\\n\\\\[/\\\\\\\\]|\\\\\\\\.|\\\\[(?:[^\\\\r\\\\n\\\\]\\\\\\\\]|\\\\\\\\.)*\\\\])+\\\\/[a-z]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/\\\\s+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\//"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SL_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\/\\\\/[^\\\\n\\\\r]*/"},"fragment":false}],"types":[{"$type":"Type","name":"AbstractType","type":{"$type":"UnionType","types":[{"$type":"SimpleType","typeRef":{"$ref":"#/rules@1"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@17"}},{"$type":"SimpleType","typeRef":{"$ref":"#/rules@18"}}]}}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"interfaces":[],"usedGrammars":[]}`)),JT={languageId:"langium",fileExtensions:[".langium"],caseInsensitive:!1,mode:"production"},eR={maxLookahead:3},tR={AstReflection:()=>new O0},nR={Grammar:()=>WT(),LanguageMetaData:()=>JT,parser:{ParserConfig:()=>eR}};var Ur={},Or={},kn={},uy;function wh(){if(uy)return kn;uy=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.SemanticTokensBuilder=kn.SemanticTokensDiff=kn.SemanticTokensFeature=void 0;const o=Ye(),n=s=>class extends s{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(o.SemanticTokensRefreshRequest.type),on:c=>{const d=o.SemanticTokensRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onDelta:c=>{const d=o.SemanticTokensDeltaRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))},onRange:c=>{const d=o.SemanticTokensRangeRequest.type;return this.connection.onRequest(d,(p,m)=>c(p,m,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(d,p)))}}}};kn.SemanticTokensFeature=n;class a{constructor(c,d){this.originalSequence=c,this.modifiedSequence=d}computeDiff(){const c=this.originalSequence.length,d=this.modifiedSequence.length;let p=0;for(;p<d&&p<c&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<d&&p<c){let m=c-1,h=d-1;for(;m>=p&&h>=p&&this.originalSequence[m]===this.modifiedSequence[h];)m--,h--;(m<p||h<p)&&(m++,h++);const g=m-p+1,T=this.modifiedSequence.slice(p,h+1);return T.length===1&&T[0]===this.originalSequence[m]?[{start:p,deleteCount:g-1}]:[{start:p,deleteCount:g,data:T}]}else return p<d?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<c?[{start:p,deleteCount:c-p}]:[]}}kn.SemanticTokensDiff=a;class l{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(c,d,p,m,h){let g=c,T=d;this._dataLen>0&&(g-=this._prevLine,g===0&&(T-=this._prevChar)),this._data[this._dataLen++]=g,this._data[this._dataLen++]=T,this._data[this._dataLen++]=p,this._data[this._dataLen++]=m,this._data[this._dataLen++]=h,this._prevLine=c,this._prevChar=d}get id(){return this._id.toString()}previousResult(c){this.id===c&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new a(this._prevData,this._data).computeDiff()}:this.build()}}return kn.SemanticTokensBuilder=l,kn}var Vi={},cy;function rR(){if(cy)return Vi;cy=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.InlineCompletionFeature=void 0;const o=Ye(),n=a=>class extends a{get inlineCompletion(){return{on:l=>this.connection.onRequest(o.InlineCompletionRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return Vi.InlineCompletionFeature=n,Vi}var Zi={},fy;function kh(){if(fy)return Zi;fy=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.TextDocuments=void 0;const o=Ye();class n{constructor(l){this._configuration=l,this._syncedDocuments=new Map,this._onDidChangeContent=new o.Emitter,this._onDidOpen=new o.Emitter,this._onDidClose=new o.Emitter,this._onDidSave=new o.Emitter,this._onWillSave=new o.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(l){this._willSaveWaitUntil=l}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(l){return this._syncedDocuments.get(l)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(l){l.__textDocumentSync=o.TextDocumentSyncKind.Incremental;const s=[];return s.push(l.onDidOpenTextDocument(c=>{const d=c.textDocument,p=this._configuration.create(d.uri,d.languageId,d.version,d.text);this._syncedDocuments.set(d.uri,p);const m=Object.freeze({document:p});this._onDidOpen.fire(m),this._onDidChangeContent.fire(m)})),s.push(l.onDidChangeTextDocument(c=>{const d=c.textDocument,p=c.contentChanges;if(p.length===0)return;const{version:m}=d;if(m==null)throw new Error(`Received document change event for ${d.uri} without valid version identifier`);let h=this._syncedDocuments.get(d.uri);h!==void 0&&(h=this._configuration.update(h,p,m),this._syncedDocuments.set(d.uri,h),this._onDidChangeContent.fire(Object.freeze({document:h})))})),s.push(l.onDidCloseTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&(this._syncedDocuments.delete(c.textDocument.uri),this._onDidClose.fire(Object.freeze({document:d})))})),s.push(l.onWillSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onWillSave.fire(Object.freeze({document:d,reason:c.reason}))})),s.push(l.onWillSaveTextDocumentWaitUntil((c,d)=>{let p=this._syncedDocuments.get(c.textDocument.uri);return p!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:c.reason}),d):[]})),s.push(l.onDidSaveTextDocument(c=>{let d=this._syncedDocuments.get(c.textDocument.uri);d!==void 0&&this._onDidSave.fire(Object.freeze({document:d}))})),o.Disposable.create(()=>{s.forEach(c=>c.dispose())})}}return Zi.TextDocuments=n,Zi}var Hr={},dy;function xh(){if(dy)return Hr;dy=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.NotebookDocuments=Hr.NotebookSyncFeature=void 0;const o=Ye(),n=kh(),a=c=>class extends c{get synchronization(){return{onDidOpenNotebookDocument:d=>this.connection.onNotification(o.DidOpenNotebookDocumentNotification.type,p=>{d(p)}),onDidChangeNotebookDocument:d=>this.connection.onNotification(o.DidChangeNotebookDocumentNotification.type,p=>{d(p)}),onDidSaveNotebookDocument:d=>this.connection.onNotification(o.DidSaveNotebookDocumentNotification.type,p=>{d(p)}),onDidCloseNotebookDocument:d=>this.connection.onNotification(o.DidCloseNotebookDocumentNotification.type,p=>{d(p)})}}};Hr.NotebookSyncFeature=a;class l{onDidOpenTextDocument(d){return this.openHandler=d,o.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(d){this.openHandler&&this.openHandler(d)}onDidChangeTextDocument(d){return this.changeHandler=d,o.Disposable.create(()=>{this.changeHandler=d})}changeTextDocument(d){this.changeHandler&&this.changeHandler(d)}onDidCloseTextDocument(d){return this.closeHandler=d,o.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(d){this.closeHandler&&this.closeHandler(d)}onWillSaveTextDocument(){return l.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return l.NULL_DISPOSE}onDidSaveTextDocument(){return l.NULL_DISPOSE}}l.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class s{constructor(d){d instanceof n.TextDocuments?this._cellTextDocuments=d:this._cellTextDocuments=new n.TextDocuments(d),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new o.Emitter,this._onDidChange=new o.Emitter,this._onDidSave=new o.Emitter,this._onDidClose=new o.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(d){return this._cellTextDocuments.get(d.document)}getNotebookDocument(d){return this.notebookDocuments.get(d)}getNotebookCell(d){const p=this.notebookCellMap.get(d);return p&&p[0]}findNotebookDocumentForCell(d){const p=typeof d=="string"?d:d.document,m=this.notebookCellMap.get(p);return m&&m[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(d){const p=new l,m=[];return m.push(this.cellTextDocuments.listen(p)),m.push(d.notebooks.synchronization.onDidOpenNotebookDocument(h=>{this.notebookDocuments.set(h.notebookDocument.uri,h.notebookDocument);for(const g of h.cellTextDocuments)p.openTextDocument({textDocument:g});this.updateCellMap(h.notebookDocument),this._onDidOpen.fire(h.notebookDocument)})),m.push(d.notebooks.synchronization.onDidChangeNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);if(g===void 0)return;g.version=h.notebookDocument.version;const T=g.metadata;let b=!1;const D=h.change;D.metadata!==void 0&&(b=!0,g.metadata=D.metadata);const H=[],B=[],q=[],F=[];if(D.cells!==void 0){const ie=D.cells;if(ie.structure!==void 0){const ye=ie.structure.array;if(g.cells.splice(ye.start,ye.deleteCount,...ye.cells!==void 0?ye.cells:[]),ie.structure.didOpen!==void 0)for(const fe of ie.structure.didOpen)p.openTextDocument({textDocument:fe}),H.push(fe.uri);if(ie.structure.didClose)for(const fe of ie.structure.didClose)p.closeTextDocument({textDocument:fe}),B.push(fe.uri)}if(ie.data!==void 0){const ye=new Map(ie.data.map(fe=>[fe.document,fe]));for(let fe=0;fe<=g.cells.length;fe++){const Ue=ye.get(g.cells[fe].document);if(Ue!==void 0){const ke=g.cells.splice(fe,1,Ue);if(q.push({old:ke[0],new:Ue}),ye.delete(Ue.document),ye.size===0)break}}}if(ie.textContent!==void 0)for(const ye of ie.textContent)p.changeTextDocument({textDocument:ye.document,contentChanges:ye.changes}),F.push(ye.document.uri)}this.updateCellMap(g);const j={notebookDocument:g};b&&(j.metadata={old:T,new:g.metadata});const P=[];for(const ie of H)P.push(this.getNotebookCell(ie));const W=[];for(const ie of B)W.push(this.getNotebookCell(ie));const oe=[];for(const ie of F)oe.push(this.getNotebookCell(ie));(P.length>0||W.length>0||q.length>0||oe.length>0)&&(j.cells={added:P,removed:W,changed:{data:q,textContent:oe}}),(j.metadata!==void 0||j.cells!==void 0)&&this._onDidChange.fire(j)})),m.push(d.notebooks.synchronization.onDidSaveNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);g!==void 0&&this._onDidSave.fire(g)})),m.push(d.notebooks.synchronization.onDidCloseNotebookDocument(h=>{const g=this.notebookDocuments.get(h.notebookDocument.uri);if(g!==void 0){this._onDidClose.fire(g);for(const T of h.cellTextDocuments)p.closeTextDocument({textDocument:T});this.notebookDocuments.delete(h.notebookDocument.uri);for(const T of g.cells)this.notebookCellMap.delete(T.document)}})),o.Disposable.create(()=>{m.forEach(h=>h.dispose())})}updateCellMap(d){for(const p of d.cells)this.notebookCellMap.set(p.document,[p,d])}}return Hr.NotebookDocuments=s,Hr}var ve={},Ke={},py;function Eh(){if(py)return Ke;py=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.thenable=Ke.typedArray=Ke.stringArray=Ke.array=Ke.func=Ke.error=Ke.number=Ke.string=Ke.boolean=void 0;function o(h){return h===!0||h===!1}Ke.boolean=o;function n(h){return typeof h=="string"||h instanceof String}Ke.string=n;function a(h){return typeof h=="number"||h instanceof Number}Ke.number=a;function l(h){return h instanceof Error}Ke.error=l;function s(h){return typeof h=="function"}Ke.func=s;function c(h){return Array.isArray(h)}Ke.array=c;function d(h){return c(h)&&h.every(g=>n(g))}Ke.stringArray=d;function p(h,g){return Array.isArray(h)&&h.every(g)}Ke.typedArray=p;function m(h){return h&&s(h.then)}return Ke.thenable=m,Ke}var Et={},my;function Mh(){if(my)return Et;my=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.generateUuid=Et.parse=Et.isUUID=Et.v4=Et.empty=void 0;class o{constructor(m){this._value=m}asHex(){return this._value}equals(m){return this.asHex()===m.asHex()}}class n extends o{static _oneOf(m){return m[Math.floor(m.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}}n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],Et.empty=new o("00000000-0000-0000-0000-000000000000");function a(){return new n}Et.v4=a;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(p){return l.test(p)}Et.isUUID=s;function c(p){if(!s(p))throw new Error("invalid uuid");return new o(p)}Et.parse=c;function d(){return a().asHex()}return Et.generateUuid=d,Et}var xn={},yy;function aR(){if(yy)return xn;yy=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.attachPartialResult=xn.ProgressFeature=xn.attachWorkDone=void 0;const o=Ye(),n=Mh();class a{constructor(b,D){this._connection=b,this._token=D,a.Instances.set(this._token,this)}begin(b,D,H,B){let q={kind:"begin",title:b,percentage:D,message:H,cancellable:B};this._connection.sendProgress(o.WorkDoneProgress.type,this._token,q)}report(b,D){let H={kind:"report"};typeof b=="number"?(H.percentage=b,D!==void 0&&(H.message=D)):H.message=b,this._connection.sendProgress(o.WorkDoneProgress.type,this._token,H)}done(){a.Instances.delete(this._token),this._connection.sendProgress(o.WorkDoneProgress.type,this._token,{kind:"end"})}}a.Instances=new Map;class l extends a{constructor(b,D){super(b,D),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class s{constructor(){}begin(){}report(){}done(){}}class c extends s{constructor(){super(),this._source=new o.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function d(T,b){if(b===void 0||b.workDoneToken===void 0)return new s;const D=b.workDoneToken;return delete b.workDoneToken,new a(T,D)}xn.attachWorkDone=d;const p=T=>class extends T{constructor(){super(),this._progressSupported=!1}initialize(b){super.initialize(b),b?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(o.WorkDoneProgressCancelNotification.type,D=>{let H=a.Instances.get(D.token);(H instanceof l||H instanceof c)&&H.cancel()}))}attachWorkDoneProgress(b){return b===void 0?new s:new a(this.connection,b)}createWorkDoneProgress(){if(this._progressSupported){const b=(0,n.generateUuid)();return this.connection.sendRequest(o.WorkDoneProgressCreateRequest.type,{token:b}).then(()=>new l(this.connection,b))}else return Promise.resolve(new c)}};xn.ProgressFeature=p;var m;(function(T){T.type=new o.ProgressType})(m||(m={}));class h{constructor(b,D){this._connection=b,this._token=D}report(b){this._connection.sendProgress(m.type,this._token,b)}}function g(T,b){if(b===void 0||b.partialResultToken===void 0)return;const D=b.partialResultToken;return delete b.partialResultToken,new h(T,D)}return xn.attachPartialResult=g,xn}var Ii={},hy;function iR(){if(hy)return Ii;hy=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.ConfigurationFeature=void 0;const o=Ye(),n=Eh(),a=l=>class extends l{getConfiguration(s){return s?n.string(s)?this._getConfiguration({section:s}):this._getConfiguration(s):this._getConfiguration({})}_getConfiguration(s){let c={items:Array.isArray(s)?s:[s]};return this.connection.sendRequest(o.ConfigurationRequest.type,c).then(d=>Array.isArray(d)?Array.isArray(s)?d:d[0]:Array.isArray(s)?[]:null)}};return Ii.ConfigurationFeature=a,Ii}var Wi={},gy;function lR(){if(gy)return Wi;gy=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.WorkspaceFoldersFeature=void 0;const o=Ye(),n=a=>class extends a{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(l){super.initialize(l);let s=l.workspace;s&&s.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new o.Emitter,this.connection.onNotification(o.DidChangeWorkspaceFoldersNotification.type,c=>{this._onDidChangeWorkspaceFolders.fire(c.event)}))}fillServerCapabilities(l){super.fillServerCapabilities(l);const s=l.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=s===!0||typeof s=="string"}getWorkspaceFolders(){return this.connection.sendRequest(o.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(o.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Wi.WorkspaceFoldersFeature=n,Wi}var Ji={},vy;function sR(){if(vy)return Ji;vy=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.CallHierarchyFeature=void 0;const o=Ye(),n=a=>class extends a{get callHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.CallHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onIncomingCalls:l=>{const s=o.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onOutgoingCalls:l=>{const s=o.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return Ji.CallHierarchyFeature=n,Ji}var el={},Ty;function oR(){if(Ty)return el;Ty=1,Object.defineProperty(el,"__esModule",{value:!0}),el.ShowDocumentFeature=void 0;const o=Ye(),n=a=>class extends a{showDocument(l){return this.connection.sendRequest(o.ShowDocumentRequest.type,l)}};return el.ShowDocumentFeature=n,el}var tl={},Ry;function uR(){if(Ry)return tl;Ry=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.FileOperationsFeature=void 0;const o=Ye(),n=a=>class extends a{onDidCreateFiles(l){return this.connection.onNotification(o.DidCreateFilesNotification.type,s=>{l(s)})}onDidRenameFiles(l){return this.connection.onNotification(o.DidRenameFilesNotification.type,s=>{l(s)})}onDidDeleteFiles(l){return this.connection.onNotification(o.DidDeleteFilesNotification.type,s=>{l(s)})}onWillCreateFiles(l){return this.connection.onRequest(o.WillCreateFilesRequest.type,(s,c)=>l(s,c))}onWillRenameFiles(l){return this.connection.onRequest(o.WillRenameFilesRequest.type,(s,c)=>l(s,c))}onWillDeleteFiles(l){return this.connection.onRequest(o.WillDeleteFilesRequest.type,(s,c)=>l(s,c))}};return tl.FileOperationsFeature=n,tl}var nl={},by;function cR(){if(by)return nl;by=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.LinkedEditingRangeFeature=void 0;const o=Ye(),n=a=>class extends a{onLinkedEditingRange(l){return this.connection.onRequest(o.LinkedEditingRangeRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0))}};return nl.LinkedEditingRangeFeature=n,nl}var rl={},Sy;function fR(){if(Sy)return rl;Sy=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.TypeHierarchyFeature=void 0;const o=Ye(),n=a=>class extends a{get typeHierarchy(){return{onPrepare:l=>this.connection.onRequest(o.TypeHierarchyPrepareRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),void 0)),onSupertypes:l=>{const s=o.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onSubtypes:l=>{const s=o.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return rl.TypeHierarchyFeature=n,rl}var al={},Dy;function dR(){if(Dy)return al;Dy=1,Object.defineProperty(al,"__esModule",{value:!0}),al.InlineValueFeature=void 0;const o=Ye(),n=a=>class extends a{get inlineValue(){return{refresh:()=>this.connection.sendRequest(o.InlineValueRefreshRequest.type),on:l=>this.connection.onRequest(o.InlineValueRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s)))}}};return al.InlineValueFeature=n,al}var il={},Cy;function pR(){if(Cy)return il;Cy=1,Object.defineProperty(il,"__esModule",{value:!0}),il.FoldingRangeFeature=void 0;const o=Ye(),n=a=>class extends a{get foldingRange(){return{refresh:()=>this.connection.sendRequest(o.FoldingRangeRefreshRequest.type),on:l=>{const s=o.FoldingRangeRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return il.FoldingRangeFeature=n,il}var ll={},Ay;function mR(){if(Ay)return ll;Ay=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.InlayHintFeature=void 0;const o=Ye(),n=a=>class extends a{get inlayHint(){return{refresh:()=>this.connection.sendRequest(o.InlayHintRefreshRequest.type),on:l=>this.connection.onRequest(o.InlayHintRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s))),resolve:l=>this.connection.onRequest(o.InlayHintResolveRequest.type,(s,c)=>l(s,c))}}};return ll.InlayHintFeature=n,ll}var sl={},Ny;function yR(){if(Ny)return sl;Ny=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.DiagnosticFeature=void 0;const o=Ye(),n=a=>class extends a{get diagnostics(){return{refresh:()=>this.connection.sendRequest(o.DiagnosticRefreshRequest.type),on:l=>this.connection.onRequest(o.DocumentDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.DocumentDiagnosticRequest.partialResult,s))),onWorkspace:l=>this.connection.onRequest(o.WorkspaceDiagnosticRequest.type,(s,c)=>l(s,c,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(o.WorkspaceDiagnosticRequest.partialResult,s)))}}};return sl.DiagnosticFeature=n,sl}var ol={},_y;function hR(){if(_y)return ol;_y=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.MonikerFeature=void 0;const o=Ye(),n=a=>class extends a{get moniker(){return{on:l=>{const s=o.MonikerRequest.type;return this.connection.onRequest(s,(c,d)=>l(c,d,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};return ol.MonikerFeature=n,ol}var $y;function gR(){if($y)return ve;$y=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.createConnection=ve.combineFeatures=ve.combineNotebooksFeatures=ve.combineLanguagesFeatures=ve.combineWorkspaceFeatures=ve.combineWindowFeatures=ve.combineClientFeatures=ve.combineTracerFeatures=ve.combineTelemetryFeatures=ve.combineConsoleFeatures=ve._NotebooksImpl=ve._LanguagesImpl=ve.BulkUnregistration=ve.BulkRegistration=ve.ErrorMessageTracker=void 0;const o=Ye(),n=Eh(),a=Mh(),l=aR(),s=iR(),c=lR(),d=sR(),p=wh(),m=oR(),h=uR(),g=cR(),T=fR(),b=dR(),D=pR(),H=mR(),B=yR(),q=xh(),F=hR();function j(re){if(re!==null)return re}class P{constructor(){this._messages=Object.create(null)}add($){let G=this._messages[$];G||(G=0),G++,this._messages[$]=G}sendErrors($){Object.keys(this._messages).forEach(G=>{$.window.showErrorMessage(G)})}}ve.ErrorMessageTracker=P;class W{constructor(){}rawAttach($){this._rawConnection=$}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities($){}initialize($){}error($){this.send(o.MessageType.Error,$)}warn($){this.send(o.MessageType.Warning,$)}info($){this.send(o.MessageType.Info,$)}log($){this.send(o.MessageType.Log,$)}debug($){this.send(o.MessageType.Debug,$)}send($,G){this._rawConnection&&this._rawConnection.sendNotification(o.LogMessageNotification.type,{type:$,message:G}).catch(()=>{(0,o.RAL)().console.error("Sending log message failed")})}}class oe{constructor(){}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}showErrorMessage($,...G){let le={type:o.MessageType.Error,message:$,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showWarningMessage($,...G){let le={type:o.MessageType.Warning,message:$,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}showInformationMessage($,...G){let le={type:o.MessageType.Info,message:$,actions:G};return this.connection.sendRequest(o.ShowMessageRequest.type,le).then(j)}}const ie=(0,m.ShowDocumentFeature)((0,l.ProgressFeature)(oe));var ye;(function(re){function $(){return new fe}re.create=$})(ye||(ve.BulkRegistration=ye={}));class fe{constructor(){this._registrations=[],this._registered=new Set}add($,G){const le=n.string($)?$:$.method;if(this._registered.has(le))throw new Error(`${le} is already added to this registration`);const O=a.generateUuid();this._registrations.push({id:O,method:le,registerOptions:G||{}}),this._registered.add(le)}asRegistrationParams(){return{registrations:this._registrations}}}var Ue;(function(re){function $(){return new ke(void 0,[])}re.create=$})(Ue||(ve.BulkUnregistration=Ue={}));class ke{constructor($,G){this._connection=$,this._unregistrations=new Map,G.forEach(le=>{this._unregistrations.set(le.method,le)})}get isAttached(){return!!this._connection}attach($){this._connection=$}add($){this._unregistrations.set($.method,$)}dispose(){let $=[];for(let le of this._unregistrations.values())$.push(le);let G={unregisterations:$};this._connection.sendRequest(o.UnregistrationRequest.type,G).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle($){const G=n.string($)?$:$.method,le=this._unregistrations.get(G);if(!le)return!1;let O={unregisterations:[le]};return this._connection.sendRequest(o.UnregistrationRequest.type,O).then(()=>{this._unregistrations.delete(G)},st=>{this._connection.console.info(`Un-registering request handler for ${le.id} failed.`)}),!0}}class yt{attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}register($,G,le){return $ instanceof fe?this.registerMany($):$ instanceof ke?this.registerSingle1($,G,le):this.registerSingle2($,G)}registerSingle1($,G,le){const O=n.string(G)?G:G.method,st=a.generateUuid();let Vt={registrations:[{id:st,method:O,registerOptions:le||{}}]};return $.isAttached||$.attach(this.connection),this.connection.sendRequest(o.RegistrationRequest.type,Vt).then(ot=>($.add({id:st,method:O}),$),ot=>(this.connection.console.info(`Registering request handler for ${O} failed.`),Promise.reject(ot)))}registerSingle2($,G){const le=n.string($)?$:$.method,O=a.generateUuid();let st={registrations:[{id:O,method:le,registerOptions:G||{}}]};return this.connection.sendRequest(o.RegistrationRequest.type,st).then(Vt=>o.Disposable.create(()=>{this.unregisterSingle(O,le).catch(()=>{this.connection.console.info(`Un-registering capability with id ${O} failed.`)})}),Vt=>(this.connection.console.info(`Registering request handler for ${le} failed.`),Promise.reject(Vt)))}unregisterSingle($,G){let le={unregisterations:[{id:$,method:G}]};return this.connection.sendRequest(o.UnregistrationRequest.type,le).catch(()=>{this.connection.console.info(`Un-registering request handler for ${$} failed.`)})}registerMany($){let G=$.asRegistrationParams();return this.connection.sendRequest(o.RegistrationRequest.type,G).then(()=>new ke(this._connection,G.registrations.map(le=>({id:le.id,method:le.method}))),le=>(this.connection.console.info("Bulk registration failed."),Promise.reject(le)))}}class Le{constructor(){}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}applyEdit($){function G(O){return O&&!!O.edit}let le=G($)?$:{edit:$};return this.connection.sendRequest(o.ApplyWorkspaceEditRequest.type,le)}}const ht=(0,h.FileOperationsFeature)((0,c.WorkspaceFoldersFeature)((0,s.ConfigurationFeature)(Le)));class ln{constructor(){this._trace=o.Trace.Off}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}set trace($){this._trace=$}log($,G){this._trace!==o.Trace.Off&&this.connection.sendNotification(o.LogTraceNotification.type,{message:$,verbose:this._trace===o.Trace.Verbose?G:void 0}).catch(()=>{})}}class gt{constructor(){}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}logEvent($){this.connection.sendNotification(o.TelemetryEventNotification.type,$).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class M{constructor(){}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}attachWorkDoneProgress($){return(0,l.attachWorkDone)(this.connection,$)}attachPartialResultProgress($,G){return(0,l.attachPartialResult)(this.connection,G)}}ve._LanguagesImpl=M;const Q=(0,D.FoldingRangeFeature)((0,F.MonikerFeature)((0,B.DiagnosticFeature)((0,H.InlayHintFeature)((0,b.InlineValueFeature)((0,T.TypeHierarchyFeature)((0,g.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,d.CallHierarchyFeature)(M)))))))));class ee{constructor(){}attach($){this._connection=$}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize($){}fillServerCapabilities($){}attachWorkDoneProgress($){return(0,l.attachWorkDone)(this.connection,$)}attachPartialResultProgress($,G){return(0,l.attachPartialResult)(this.connection,G)}}ve._NotebooksImpl=ee;const Y=(0,q.NotebookSyncFeature)(ee);function z(re,$){return function(G){return $(re(G))}}ve.combineConsoleFeatures=z;function he(re,$){return function(G){return $(re(G))}}ve.combineTelemetryFeatures=he;function xe(re,$){return function(G){return $(re(G))}}ve.combineTracerFeatures=xe;function Re(re,$){return function(G){return $(re(G))}}ve.combineClientFeatures=Re;function qe(re,$){return function(G){return $(re(G))}}ve.combineWindowFeatures=qe;function Ct(re,$){return function(G){return $(re(G))}}ve.combineWorkspaceFeatures=Ct;function Xt(re,$){return function(G){return $(re(G))}}ve.combineLanguagesFeatures=Xt;function yr(re,$){return function(G){return $(re(G))}}ve.combineNotebooksFeatures=yr;function Qr(re,$){function G(O,st,Vt){return O&&st?Vt(O,st):O||st}return{__brand:"features",console:G(re.console,$.console,z),tracer:G(re.tracer,$.tracer,xe),telemetry:G(re.telemetry,$.telemetry,he),client:G(re.client,$.client,Re),window:G(re.window,$.window,qe),workspace:G(re.workspace,$.workspace,Ct),languages:G(re.languages,$.languages,Xt),notebooks:G(re.notebooks,$.notebooks,yr)}}ve.combineFeatures=Qr;function qn(re,$,G){const le=G&&G.console?new(G.console(W)):new W,O=re(le);le.rawAttach(O);const st=G&&G.tracer?new(G.tracer(ln)):new ln,Vt=G&&G.telemetry?new(G.telemetry(gt)):new gt,ot=G&&G.client?new(G.client(yt)):new yt,Rl=G&&G.window?new(G.window(ie)):new ie,Xa=G&&G.workspace?new(G.workspace(ht)):new ht,Va=G&&G.languages?new(G.languages(Q)):new Q,hr=G&&G.notebooks?new(G.notebooks(Y)):new Y,Xr=[le,st,Vt,ot,Rl,Xa,Va,hr];function bl(E){return E instanceof Promise?E:n.thenable(E)?new Promise((k,X)=>{E.then(Zt=>k(Zt),Zt=>X(Zt))}):Promise.resolve(E)}let Vr,Zr,sn,Be={listen:()=>O.listen(),sendRequest:(E,...k)=>O.sendRequest(n.string(E)?E:E.method,...k),onRequest:(E,k)=>O.onRequest(E,k),sendNotification:(E,k)=>{const X=n.string(E)?E:E.method;return O.sendNotification(X,k)},onNotification:(E,k)=>O.onNotification(E,k),onProgress:O.onProgress,sendProgress:O.sendProgress,onInitialize:E=>(Zr=E,{dispose:()=>{Zr=void 0}}),onInitialized:E=>O.onNotification(o.InitializedNotification.type,E),onShutdown:E=>(Vr=E,{dispose:()=>{Vr=void 0}}),onExit:E=>(sn=E,{dispose:()=>{sn=void 0}}),get console(){return le},get telemetry(){return Vt},get tracer(){return st},get client(){return ot},get window(){return Rl},get workspace(){return Xa},get languages(){return Va},get notebooks(){return hr},onDidChangeConfiguration:E=>O.onNotification(o.DidChangeConfigurationNotification.type,E),onDidChangeWatchedFiles:E=>O.onNotification(o.DidChangeWatchedFilesNotification.type,E),__textDocumentSync:void 0,onDidOpenTextDocument:E=>O.onNotification(o.DidOpenTextDocumentNotification.type,E),onDidChangeTextDocument:E=>O.onNotification(o.DidChangeTextDocumentNotification.type,E),onDidCloseTextDocument:E=>O.onNotification(o.DidCloseTextDocumentNotification.type,E),onWillSaveTextDocument:E=>O.onNotification(o.WillSaveTextDocumentNotification.type,E),onWillSaveTextDocumentWaitUntil:E=>O.onRequest(o.WillSaveTextDocumentWaitUntilRequest.type,E),onDidSaveTextDocument:E=>O.onNotification(o.DidSaveTextDocumentNotification.type,E),sendDiagnostics:E=>O.sendNotification(o.PublishDiagnosticsNotification.type,E),onHover:E=>O.onRequest(o.HoverRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),onCompletion:E=>O.onRequest(o.CompletionRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onCompletionResolve:E=>O.onRequest(o.CompletionResolveRequest.type,E),onSignatureHelp:E=>O.onRequest(o.SignatureHelpRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),onDeclaration:E=>O.onRequest(o.DeclarationRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onDefinition:E=>O.onRequest(o.DefinitionRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onTypeDefinition:E=>O.onRequest(o.TypeDefinitionRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onImplementation:E=>O.onRequest(o.ImplementationRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onReferences:E=>O.onRequest(o.ReferencesRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onDocumentHighlight:E=>O.onRequest(o.DocumentHighlightRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onDocumentSymbol:E=>O.onRequest(o.DocumentSymbolRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onWorkspaceSymbol:E=>O.onRequest(o.WorkspaceSymbolRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onWorkspaceSymbolResolve:E=>O.onRequest(o.WorkspaceSymbolResolveRequest.type,E),onCodeAction:E=>O.onRequest(o.CodeActionRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onCodeActionResolve:E=>O.onRequest(o.CodeActionResolveRequest.type,(k,X)=>E(k,X)),onCodeLens:E=>O.onRequest(o.CodeLensRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onCodeLensResolve:E=>O.onRequest(o.CodeLensResolveRequest.type,(k,X)=>E(k,X)),onDocumentFormatting:E=>O.onRequest(o.DocumentFormattingRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),onDocumentRangeFormatting:E=>O.onRequest(o.DocumentRangeFormattingRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),onDocumentOnTypeFormatting:E=>O.onRequest(o.DocumentOnTypeFormattingRequest.type,(k,X)=>E(k,X)),onRenameRequest:E=>O.onRequest(o.RenameRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),onPrepareRename:E=>O.onRequest(o.PrepareRenameRequest.type,(k,X)=>E(k,X)),onDocumentLinks:E=>O.onRequest(o.DocumentLinkRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onDocumentLinkResolve:E=>O.onRequest(o.DocumentLinkResolveRequest.type,(k,X)=>E(k,X)),onDocumentColor:E=>O.onRequest(o.DocumentColorRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onColorPresentation:E=>O.onRequest(o.ColorPresentationRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onFoldingRanges:E=>O.onRequest(o.FoldingRangeRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onSelectionRanges:E=>O.onRequest(o.SelectionRangeRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),(0,l.attachPartialResult)(O,k))),onExecuteCommand:E=>O.onRequest(o.ExecuteCommandRequest.type,(k,X)=>E(k,X,(0,l.attachWorkDone)(O,k),void 0)),dispose:()=>O.dispose()};for(let E of Xr)E.attach(Be);return O.onRequest(o.InitializeRequest.type,E=>{$.initialize(E),n.string(E.trace)&&(st.trace=o.Trace.fromString(E.trace));for(let k of Xr)k.initialize(E.capabilities);if(Zr){let k=Zr(E,new o.CancellationTokenSource().token,(0,l.attachWorkDone)(O,E),void 0);return bl(k).then(X=>{if(X instanceof o.ResponseError)return X;let Zt=X;Zt||(Zt={capabilities:{}});let Ut=Zt.capabilities;Ut||(Ut={},Zt.capabilities=Ut),Ut.textDocumentSync===void 0||Ut.textDocumentSync===null?Ut.textDocumentSync=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None:!n.number(Ut.textDocumentSync)&&!n.number(Ut.textDocumentSync.change)&&(Ut.textDocumentSync.change=n.number(Be.__textDocumentSync)?Be.__textDocumentSync:o.TextDocumentSyncKind.None);for(let Ir of Xr)Ir.fillServerCapabilities(Ut);return Zt})}else{let k={capabilities:{textDocumentSync:o.TextDocumentSyncKind.None}};for(let X of Xr)X.fillServerCapabilities(k.capabilities);return k}}),O.onRequest(o.ShutdownRequest.type,()=>{if($.shutdownReceived=!0,Vr)return Vr(new o.CancellationTokenSource().token)}),O.onNotification(o.ExitNotification.type,()=>{try{sn&&sn()}finally{$.shutdownReceived?$.exit(0):$.exit(1)}}),O.onNotification(o.SetTraceNotification.type,E=>{st.trace=o.Trace.fromString(E.value)}),Be}return ve.createConnection=qn,ve}var wy;function ky(){return wy||(wy=1,function(o){var n=Or&&Or.__createBinding||(Object.create?function(m,h,g,T){T===void 0&&(T=g);var b=Object.getOwnPropertyDescriptor(h,g);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(m,T,b)}:function(m,h,g,T){T===void 0&&(T=g),m[T]=h[g]}),a=Or&&Or.__exportStar||function(m,h){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&n(h,m,g)};Object.defineProperty(o,"__esModule",{value:!0}),o.ProposedFeatures=o.NotebookDocuments=o.TextDocuments=o.SemanticTokensBuilder=void 0;const l=wh();Object.defineProperty(o,"SemanticTokensBuilder",{enumerable:!0,get:function(){return l.SemanticTokensBuilder}});const s=rR();a(Ye(),o);const c=kh();Object.defineProperty(o,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const d=xh();Object.defineProperty(o,"NotebookDocuments",{enumerable:!0,get:function(){return d.NotebookDocuments}}),a(gR(),o);var p;(function(m){m.all={__brand:"features",languages:s.InlineCompletionFeature}})(p||(o.ProposedFeatures=p={}))}(Or)),Or}var xy;function zh(){return xy||(xy=1,function(o){var n=Ur&&Ur.__createBinding||(Object.create?function(p,m,h,g){g===void 0&&(g=h);var T=Object.getOwnPropertyDescriptor(m,h);(!T||("get"in T?!m.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return m[h]}}),Object.defineProperty(p,g,T)}:function(p,m,h,g){g===void 0&&(g=h),p[g]=m[h]}),a=Ur&&Ur.__exportStar||function(p,m){for(var h in p)h!=="default"&&!Object.prototype.hasOwnProperty.call(m,h)&&n(m,p,h)};Object.defineProperty(o,"__esModule",{value:!0}),o.createConnection=void 0;const l=ky();a(E0(),o),a(ky(),o);let s=!1;const c={initialize:p=>{},get shutdownReceived(){return s},set shutdownReceived(p){s=p},exit:p=>{}};function d(p,m,h,g){let T,b,D,H;p!==void 0&&p.__brand==="features"&&(T=p,p=m,m=h,h=g),l.ConnectionStrategy.is(p)||l.ConnectionOptions.is(p)?H=p:(b=p,D=m,H=h);const B=q=>(0,l.createProtocolConnection)(b,D,q,H);return(0,l.createConnection)(B,c,T)}o.createConnection=d}(Ur)),Ur}var K=zh();class vR{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareCallHierarchy(n,a){const l=n.parseResult.value,s=zt(l.$cstNode,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findDeclarationNode(s);if(c)return this.getCallHierarchyItems(c.astNode,n)}getCallHierarchyItems(n,a){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Method,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:a.uri.toString()},this.getCallHierarchyItem(n))]}getCallHierarchyItem(n){}async incomingCalls(n){const a=await this.documents.getOrCreateDocument(fr.parse(n.item.uri)),l=a.parseResult.value,s=zt(l.$cstNode,a.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(!s)return;const c=this.references.findReferences(s.astNode,{includeDeclaration:!1});return this.getIncomingCalls(s.astNode,c)}async outgoingCalls(n){const a=await this.documents.getOrCreateDocument(fr.parse(n.item.uri)),l=a.parseResult.value,s=zt(l.$cstNode,a.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(s)return this.getOutgoingCalls(s.astNode)}}class TR extends vR{getIncomingCalls(n,a){if(!se(n))return;const l=new Map;if(a.forEach(s=>{const c=this.documents.getDocument(s.sourceUri);if(!c)return;const d=c.parseResult.value;if(!d.$cstNode)return;const p=fl(d.$cstNode,s.segment.offset);if(!p)return;const m=Ze(p.astNode,se);if(!m||!m.$cstNode)return;const h=this.nameProvider.getNameNode(m);if(!h)return;const g=s.sourceUri.toString(),T=g+"@"+h.text;l.has(T)?l.set(T,{parserRule:m.$cstNode,nameNode:h,targetNodes:[...l.get(T).targetNodes,p],docUri:g}):l.set(T,{parserRule:m.$cstNode,nameNode:h,targetNodes:[p],docUri:g})}),l.size!==0)return Array.from(l.values()).map(s=>({from:{kind:K.SymbolKind.Method,name:s.nameNode.text,range:s.parserRule.range,selectionRange:s.nameNode.range,uri:s.docUri},fromRanges:s.targetNodes.map(c=>c.range)}))}getOutgoingCalls(n){if(!se(n))return;const a=zn(n).filter(lt).toArray(),l=new Map;if(a.forEach(s=>{var c;const d=s.$cstNode;if(!d)return;const p=(c=s.rule.ref)===null||c===void 0?void 0:c.$cstNode;if(!p)return;const m=this.nameProvider.getNameNode(p.astNode);if(!m)return;const h=nt(p.astNode).uri.toString(),g=h+"@"+m.text;l.has(g)?l.set(g,{refCstNode:p,to:m,from:[...l.get(g).from,d.range],docUri:h}):l.set(g,{refCstNode:p,to:m,from:[d.range],docUri:h})}),l.size!==0)return Array.from(l.values()).map(s=>({to:{kind:K.SymbolKind.Method,name:s.to.text,range:s.refCstNode.range,selectionRange:s.to.range,uri:s.docUri},fromRanges:s.from}))}}class RR{constructor(n){this.grammarConfig=n.parser.GrammarConfig,this.nameProvider=n.references.NameProvider,this.documents=n.shared.workspace.LangiumDocuments,this.references=n.references.References}prepareTypeHierarchy(n,a,l){const s=n.parseResult.value,c=zt(s.$cstNode,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclarationNode(c);if(d)return this.getTypeHierarchyItems(d.astNode,n)}getTypeHierarchyItems(n,a){const l=this.nameProvider.getNameNode(n),s=this.nameProvider.getName(n);if(!(!l||!n.$cstNode||s===void 0))return[Object.assign({kind:K.SymbolKind.Class,name:s,range:n.$cstNode.range,selectionRange:l.range,uri:a.uri.toString()},this.getTypeHierarchyItem(n))]}getTypeHierarchyItem(n){}async supertypes(n,a){const l=await this.documents.getOrCreateDocument(fr.parse(n.item.uri)),s=l.parseResult.value,c=zt(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSupertypes(c.astNode)}async subtypes(n,a){const l=await this.documents.getOrCreateDocument(fr.parse(n.item.uri)),s=l.parseResult.value,c=zt(s.$cstNode,l.textDocument.offsetAt(n.item.range.start),this.grammarConfig.nameRegexp);if(c)return this.getSubtypes(c.astNode)}}class bR extends RR{getSupertypes(n){if(!Yt(n))return;const a=n.superTypes.flatMap(l=>{var s;const c=l.ref;return c?(s=this.getTypeHierarchyItems(c,nt(c)))!==null&&s!==void 0?s:[]:[]});return a.length===0?void 0:a}getSubtypes(n){if(!Yt(n))return;const a=this.references.findReferences(n,{includeDeclaration:!1}).flatMap(l=>{var s;const c=this.documents.getDocument(l.sourceUri);if(!c)return[];const d=c.parseResult.value;if(!d.$cstNode)return[];const p=fl(d.$cstNode,l.segment.offset);if(!p)return[];const m=p.astNode;return!Yt(m)||m.superTypes.every(h=>h.$refNode!==p)?[]:(s=this.getTypeHierarchyItems(m,c))!==null&&s!==void 0?s:[]}).toArray();return a.length===0?void 0:a}}function Ey(o,n){const a={stacks:o,tokens:n};return SR(a),a.stacks.flat().forEach(s=>{s.property=void 0}),Oh(a.stacks).map(s=>s[s.length-1])}function Vc(o){const{next:n,cardinalities:a,visited:l,plus:s}=o,c=[],d=n.feature;if(l.has(d))return[];tn(d)||l.add(d);let p,m=d;for(;m.$container;)if(tn(m.$container)){p=m.$container;break}else if(Bs(m.$container))m=m.$container;else break;if(Vy(m.cardinality)){const h=Ga({next:{feature:m,type:n.type},cardinalities:a,visited:l,plus:s});for(const g of h)s.add(g.feature);c.push(...h)}if(p){const h=p.elements.indexOf(m);h!==void 0&&h<p.elements.length-1&&c.push(...Uh({feature:p,type:n.type},h+1,a,l,s)),c.every(g=>On(g.feature.cardinality,g.feature)||On(a.get(g.feature))||s.has(g.feature))&&c.push(...Vc({next:{feature:p,type:n.type},cardinalities:a,visited:l,plus:s}))}return c}function Ac(o){return Qy(o)&&(o={feature:o}),Ga({next:o,cardinalities:new Map,visited:new Set,plus:new Set})}function Ga(o){var n,a,l;const{next:s,cardinalities:c,visited:d,plus:p}=o;if(s===void 0)return[];const{feature:m,type:h}=s;if(tn(m))return d.has(m)?[]:(d.add(m),Uh(s,0,c,d,p).map(g=>Os(g,m.cardinality,c)));if(nn(m)||pr(m))return m.elements.flatMap(g=>Ga({next:{feature:g,type:h,property:s.property},cardinalities:c,visited:d,plus:p})).map(g=>Os(g,m.cardinality,c));if(mt(m)){const g={feature:m.terminal,type:h,property:(n=s.property)!==null&&n!==void 0?n:m.feature};return Ga({next:g,cardinalities:c,visited:d,plus:p}).map(T=>Os(T,m.cardinality,c))}else{if(ft(m))return Vc({next:{feature:m,type:Lc(m),property:(a=s.property)!==null&&a!==void 0?a:m.feature},cardinalities:c,visited:d,plus:p});if(lt(m)&&se(m.rule.ref)){const g=m.rule.ref,T={feature:g.definition,type:g.fragment||g.dataType?void 0:(l=Xy(g))!==null&&l!==void 0?l:g.name,property:s.property};return Ga({next:T,cardinalities:c,visited:d,plus:p}).map(b=>Os(b,m.cardinality,c))}else return[s]}}function Os(o,n,a){return a.set(o.feature,n),o}function Uh(o,n,a,l,s){var c;const d=[];let p;for(;n<o.feature.elements.length&&(p={feature:o.feature.elements[n++],type:o.type},d.push(...Ga({next:p,cardinalities:a,visited:l,plus:s})),!!On((c=p.feature.cardinality)!==null&&c!==void 0?c:a.get(p.feature),p.feature)););return d}function SR(o){for(const n of o.tokens){const a=Oh(o.stacks,n);o.stacks=a}}function Oh(o,n){const a=[];for(const l of o)a.push(...DR(l,n));return a}function DR(o,n){const a=new Map,l=new Set(o.map(c=>c.feature).filter(CR)),s=[];for(;o.length>0;){const c=o.pop(),d=Vc({next:c,cardinalities:a,plus:l,visited:new Set}).filter(p=>n?Zc(p.feature,n):!0);for(const p of d)s.push([...o,p]);if(!d.every(p=>On(p.feature.cardinality,p.feature)||On(a.get(p.feature))))break}return s}function CR(o){if(o.cardinality==="+")return!0;const n=Ze(o,mt);return!!(n&&n.cardinality==="+")}function Zc(o,n){if(Hn(o))return o.value===n.image;if(lt(o))return AR(o.rule.ref,n);if(Br(o)){const a=H0(o);if(a)return Zc(a,n)}return!1}function AR(o,n){return se(o)?Ac(o.definition).some(l=>Zc(l.feature,n)):pt(o)?qc(o).test(n.image):!1}function NR(o){const n=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.triggerCharacters)!==null&&s!==void 0?s:[]}))),a=Array.from(new Set(o.flatMap(l=>{var s;return(s=l?.allCommitCharacters)!==null&&s!==void 0?s:[]})));return{triggerCharacters:n.length>0?n:void 0,allCommitCharacters:a.length>0?a:void 0}}class Hh{constructor(n){this.scopeProvider=n.references.ScopeProvider,this.grammar=n.Grammar,this.completionParser=n.parser.CompletionParser,this.nameProvider=n.references.NameProvider,this.lexer=n.parser.Lexer,this.nodeKindProvider=n.shared.lsp.NodeKindProvider,this.fuzzyMatcher=n.shared.lsp.FuzzyMatcher,this.grammarConfig=n.parser.GrammarConfig,this.astReflection=n.shared.AstReflection,this.documentationProvider=n.documentation.DocumentationProvider}async getCompletion(n,a,l){const s=[],c=this.buildContexts(n,a.position),d=(h,g)=>{const T=this.fillCompletionItem(h,g);T&&s.push(T)},p=h=>Hn(h.feature)?h.feature.value:h.feature,m=[];for(const h of c)if(await Promise.all(Mt(h.features).distinct(p).exclude(m).map(g=>this.completionFor(h,g,d))),m.push(...h.features),!this.continueCompletion(s))break;return K.CompletionList.create(this.deduplicateItems(s),!0)}deduplicateItems(n){return Mt(n).distinct(a=>`${a.kind}_${a.label}_${a.detail}`).toArray()}findFeaturesAt(n,a){const l=n.getText({start:K.Position.create(0,0),end:n.positionAt(a)}),s=this.completionParser.parse(l),c=s.tokens;if(s.tokenIndex===0){const m=Ym(this.grammar),h=Ac({feature:m.definition,type:Xy(m)});return c.length>0?(c.shift(),Ey(h.map(g=>[g]),c)):h}const d=[...c].splice(s.tokenIndex);return Ey([s.elementStack.map(m=>({feature:m}))],d)}*buildContexts(n,a){var l,s;const c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument,p=d.getText(),m=d.offsetAt(a),h={document:n,textDocument:d,offset:m,position:a},g=this.findDataTypeRuleStart(c,m);if(g){const[j,P]=g,W=(l=Qm(c,j))===null||l===void 0?void 0:l.astNode;yield Object.assign(Object.assign({},h),{node:W,tokenOffset:j,tokenEndOffset:P,features:this.findFeaturesAt(d,j)})}const{nextTokenStart:T,nextTokenEnd:b,previousTokenStart:D,previousTokenEnd:H}=this.backtrackToAnyToken(p,m);let B=T;m<=T&&D!==void 0&&(B=D);const q=(s=Qm(c,B))===null||s===void 0?void 0:s.astNode;let F=!0;if(D!==void 0&&H!==void 0&&H===m&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:D,tokenEndOffset:H,features:this.findFeaturesAt(d,D)}),F=this.performNextTokenCompletion(n,p.substring(D,H),D,H),F&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:H,tokenEndOffset:H,features:this.findFeaturesAt(d,H)}))),q)F&&(yield Object.assign(Object.assign({},h),{node:q,tokenOffset:T,tokenEndOffset:b,features:this.findFeaturesAt(d,T)}));else{const j=Ym(this.grammar);if(!j)throw new Error("Missing entry parser rule");yield Object.assign(Object.assign({},h),{tokenOffset:T,tokenEndOffset:b,features:Ac(j.definition)})}}performNextTokenCompletion(n,a,l,s){return/\P{L}$/u.test(a)}findDataTypeRuleStart(n,a){var l,s;let c=zt(n,a,this.grammarConfig.nameRegexp),d=!!(!((l=Ze(c?.grammarSource,se))===null||l===void 0)&&l.dataType);if(d){for(;d;)c=c?.container,d=!!(!((s=Ze(c?.grammarSource,se))===null||s===void 0)&&s.dataType);if(c)return[c.offset,c.end]}}continueCompletion(n){return n.length===0}backtrackToAnyToken(n,a){const l=this.lexer.tokenize(n).tokens;if(l.length===0)return{nextTokenStart:a,nextTokenEnd:a};let s;for(const c of l){if(c.startOffset>=a)return{nextTokenStart:a,nextTokenEnd:a,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};if(c.endOffset>=a)return{nextTokenStart:c.startOffset,nextTokenEnd:c.endOffset+1,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0};s=c}return{nextTokenStart:a,nextTokenEnd:a,previousTokenStart:s?s.startOffset:void 0,previousTokenEnd:s?s.endOffset+1:void 0}}completionFor(n,a,l){if(Hn(a.feature))return this.completionForKeyword(n,a.feature,l);if(Br(a.feature)&&n.node)return this.completionForCrossReference(n,a,l)}completionForCrossReference(n,a,l){const s=Ze(a.feature,mt);let c=n.node;if(s&&c){a.type&&(c={$type:a.type,$container:c,$containerProperty:a.property},L0(this.astReflection,c));const d={reference:{$refText:""},container:c,property:s.feature};try{for(const p of this.getReferenceCandidates(d,n))l(n,this.createReferenceCompletionItem(p))}catch(p){console.error(p)}}}getReferenceCandidates(n,a){return this.scopeProvider.getScope(n).getAllElements()}createReferenceCompletionItem(n){const a=this.nodeKindProvider.getCompletionItemKind(n),l=this.getReferenceDocumentation(n);return{nodeDescription:n,kind:a,documentation:l,detail:n.type,sortText:"0"}}getReferenceDocumentation(n){if(!n.node)return;const a=this.documentationProvider.getDocumentation(n.node);if(a)return{kind:"markdown",value:a}}completionForKeyword(n,a,l){this.filterKeyword(n,a)&&l(n,{label:a.value,kind:this.getKeywordCompletionItemKind(a),detail:"Keyword",sortText:"1"})}getKeywordCompletionItemKind(n){return K.CompletionItemKind.Keyword}filterKeyword(n,a){return/\p{L}/u.test(a.value)}fillCompletionItem(n,a){var l,s;let c;if(typeof a.label=="string")c=a.label;else if("node"in a){const h=this.nameProvider.getName(a.node);if(!h)return;c=h}else if("nodeDescription"in a)c=a.nodeDescription.name;else return;let d;typeof((l=a.textEdit)===null||l===void 0?void 0:l.newText)=="string"?d=a.textEdit.newText:typeof a.insertText=="string"?d=a.insertText:d=c;const p=(s=a.textEdit)!==null&&s!==void 0?s:this.buildCompletionTextEdit(n,c,d);return p?{additionalTextEdits:a.additionalTextEdits,command:a.command,commitCharacters:a.commitCharacters,data:a.data,detail:a.detail,documentation:a.documentation,filterText:a.filterText,insertText:a.insertText,insertTextFormat:a.insertTextFormat,insertTextMode:a.insertTextMode,kind:a.kind,labelDetails:a.labelDetails,preselect:a.preselect,sortText:a.sortText,tags:a.tags,textEditText:a.textEditText,textEdit:p,label:c}:void 0}buildCompletionTextEdit(n,a,l){const c=n.textDocument.getText().substring(n.tokenOffset,n.offset);if(this.fuzzyMatcher.match(c,a)){const d=n.textDocument.positionAt(n.tokenOffset),p=n.position;return{newText:l,range:{start:d,end:p}}}else return}}class Lh{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getDefinition(n,a,l){const s=n.parseResult.value;if(s.$cstNode){const c=s.$cstNode,d=zt(c,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(d)return this.collectLocationLinks(d,a)}}collectLocationLinks(n,a){var l;const s=this.findLink(n);if(s)return[K.LocationLink.create(s.targetDocument.textDocument.uri,((l=s.target.astNode.$cstNode)!==null&&l!==void 0?l:s.target).range,s.target.range,s.source.range)]}findLink(n){const a=this.references.findDeclarationNode(n);if(a?.astNode){const l=nt(a.astNode);if(a&&l)return{source:n,target:a,targetDocument:l}}}}class _R{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}getDocumentHighlight(n,a,l){const s=n.parseResult.value.$cstNode;if(!s)return;const c=zt(s,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);if(!c)return;const d=this.references.findDeclaration(c);if(d){const p=we.equals(nt(d).uri,n.uri),m={documentUri:n.uri,includeDeclaration:p};return this.references.findReferences(d,m).map(g=>this.createDocumentHighlight(g)).toArray()}}createDocumentHighlight(n){return K.DocumentHighlight.create(n.segment.range)}}class $R{constructor(n){this.nameProvider=n.references.NameProvider,this.nodeKindProvider=n.shared.lsp.NodeKindProvider}getSymbols(n,a,l){return this.getSymbol(n,n.parseResult.value)}getSymbol(n,a){const l=a.$cstNode,s=this.nameProvider.getNameNode(a);if(s&&l){const c=this.nameProvider.getName(a);return[{kind:this.nodeKindProvider.getSymbolKind(a),name:c||s.text,range:l.range,selectionRange:s.range,children:this.getChildSymbols(n,a)}]}else return this.getChildSymbols(n,a)||[]}getChildSymbols(n,a){const l=[];for(const s of Zy(a)){const c=this.getSymbol(n,s);l.push(...c)}if(l.length>0)return l}}class wR{constructor(n){this.workspaceManager=n.workspace.WorkspaceManager,this.documentBuilder=n.workspace.DocumentBuilder,this.workspaceLock=n.workspace.WorkspaceLock,this.serviceRegistry=n.ServiceRegistry;let a=!1;n.lsp.LanguageServer.onInitialize(l=>{var s,c;a=!!(!((c=(s=l.capabilities.workspace)===null||s===void 0?void 0:s.didChangeWatchedFiles)===null||c===void 0)&&c.dynamicRegistration)}),n.lsp.LanguageServer.onInitialized(l=>{a&&this.registerFileWatcher(n)})}registerFileWatcher(n){const a=[],l=Mt(n.ServiceRegistry.all).flatMap(c=>c.LanguageMetaData.fileExtensions).map(c=>c.startsWith(".")?c.substring(1):c).distinct().toArray();l.length>0&&a.push({globPattern:l.length===1?`**/*.${l[0]}`:`**/*.{${l.join(",")}}`});const s=Mt(n.ServiceRegistry.all).flatMap(c=>{var d;return(d=c.LanguageMetaData.fileNames)!==null&&d!==void 0?d:[]}).distinct().toArray();if(s.length>0&&a.push({globPattern:s.length===1?`**/${s[0]}`:`**/{${s.join(",")}}`}),a.length>0){const c=n.lsp.Connection,d={watchers:a};c?.client.register(K.DidChangeWatchedFilesNotification.type,d)}}fireDocumentUpdate(n,a){n=n.filter(l=>this.serviceRegistry.hasServices(l)),this.workspaceManager.ready.then(()=>{this.workspaceLock.write(l=>this.documentBuilder.update(n,a,l))}).catch(l=>{console.error("Workspace initialization failed. Could not perform document update.",l)})}didChangeContent(n){this.fireDocumentUpdate([fr.parse(n.document.uri)],[])}didChangeWatchedFiles(n){const a=Mt(n.changes).filter(s=>s.type!==K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>fr.parse(s.uri)).toArray(),l=Mt(n.changes).filter(s=>s.type===K.FileChangeType.Deleted).distinct(s=>s.uri).map(s=>fr.parse(s.uri)).toArray();this.fireDocumentUpdate(a,l)}}class qh{constructor(n){this.commentNames=n.parser.GrammarConfig.multilineCommentRules}getFoldingRanges(n,a,l){const s=[],c=d=>s.push(d);return this.collectFolding(n,c),s}collectFolding(n,a){var l;const s=(l=n.parseResult)===null||l===void 0?void 0:l.value;if(s){if(this.shouldProcessContent(s)){const c=zn(s).iterator();let d;do if(d=c.next(),!d.done){const p=d.value;this.shouldProcess(p)&&this.collectObjectFolding(n,p,a),this.shouldProcessContent(p)||c.prune()}while(!d.done)}this.collectCommentFolding(n,s,a)}}shouldProcess(n){return!0}shouldProcessContent(n){return!0}collectObjectFolding(n,a,l){const s=a.$cstNode;if(s){const c=this.toFoldingRange(n,s);c&&l(c)}}collectCommentFolding(n,a,l){const s=a.$cstNode;if(s){for(const c of q0(s))if(this.commentNames.includes(c.tokenType.name)){const d=this.toFoldingRange(n,c,K.FoldingRangeKind.Comment);d&&l(d)}}}toFoldingRange(n,a,l){const s=a.range,c=s.start;let d=s.end;if(!(d.line-c.line<2))return this.includeLastFoldingLine(a,l)||(d=n.textDocument.positionAt(n.textDocument.offsetAt({line:d.line,character:0})-1)),K.FoldingRange.create(c.line,d.line,c.character,d.character,l)}includeLastFoldingLine(n,a){if(a===K.FoldingRangeKind.Comment)return!1;const l=n.text,s=l.charAt(l.length-1);return!(s==="}"||s===")"||s==="]")}}class kR{match(n,a){if(n.length===0)return!0;let l=!1,s,c=0;const d=a.length;for(let p=0;p<d;p++){const m=a.charCodeAt(p),h=n.charCodeAt(c);if((m===h||this.toUpperCharCode(m)===this.toUpperCharCode(h))&&(l||(l=s===void 0||this.isWordTransition(s,m)),l&&c++,c===n.length))return!0;s=m}return!1}isWordTransition(n,a){return My<=n&&n<=zy&&xR<=a&&a<=ER||n===Uy&&a!==Uy}toUpperCharCode(n){return My<=n&&n<=zy?n-32:n}}const My=97,zy=122,xR=65,ER=90,Uy=95;class MR{constructor(n){this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}getHoverContent(n,a){var l,s;const c=(s=(l=n.parseResult)===null||l===void 0?void 0:l.value)===null||s===void 0?void 0:s.$cstNode;if(c){const d=n.textDocument.offsetAt(a.position),p=zt(c,d,this.grammarConfig.nameRegexp);if(p&&p.offset+p.length>d){const m=this.references.findDeclaration(p);if(m)return this.getAstNodeHoverContent(m);if(Hn(p.grammarSource))return this.getKeywordHoverContent(p.grammarSource)}}}getKeywordHoverContent(n){var a;let l=G0(n)?n.$comment:void 0;if(l||(l=(a=j0(n.$cstNode,["ML_COMMENT"]))===null||a===void 0?void 0:a.text),l&&K0(l)){const s=B0(l).toMarkdown();if(s)return{contents:{kind:"markdown",value:s}}}}}class zR extends MR{constructor(n){super(n),this.documentationProvider=n.documentation.DocumentationProvider}getAstNodeHoverContent(n){const a=this.documentationProvider.getDocumentation(n);if(a)return{contents:{kind:"markdown",value:a}}}}var Hs=Ye();const UR={[K.SemanticTokenTypes.class]:0,[K.SemanticTokenTypes.comment]:1,[K.SemanticTokenTypes.enum]:2,[K.SemanticTokenTypes.enumMember]:3,[K.SemanticTokenTypes.event]:4,[K.SemanticTokenTypes.function]:5,[K.SemanticTokenTypes.interface]:6,[K.SemanticTokenTypes.keyword]:7,[K.SemanticTokenTypes.macro]:8,[K.SemanticTokenTypes.method]:9,[K.SemanticTokenTypes.modifier]:10,[K.SemanticTokenTypes.namespace]:11,[K.SemanticTokenTypes.number]:12,[K.SemanticTokenTypes.operator]:13,[K.SemanticTokenTypes.parameter]:14,[K.SemanticTokenTypes.property]:15,[K.SemanticTokenTypes.regexp]:16,[K.SemanticTokenTypes.string]:17,[K.SemanticTokenTypes.struct]:18,[K.SemanticTokenTypes.type]:19,[K.SemanticTokenTypes.typeParameter]:20,[K.SemanticTokenTypes.variable]:21,[K.SemanticTokenTypes.decorator]:22},OR={[K.SemanticTokenModifiers.abstract]:1,[K.SemanticTokenModifiers.async]:2,[K.SemanticTokenModifiers.declaration]:4,[K.SemanticTokenModifiers.defaultLibrary]:8,[K.SemanticTokenModifiers.definition]:16,[K.SemanticTokenModifiers.deprecated]:32,[K.SemanticTokenModifiers.documentation]:64,[K.SemanticTokenModifiers.modification]:128,[K.SemanticTokenModifiers.readonly]:256,[K.SemanticTokenModifiers.static]:512};function HR(o){const n=[],a=[];let l=!0,s=!0,c=!0;for(const d of o)d&&(d.legend.tokenTypes.forEach((p,m)=>{const h=n[m];if(h&&h!==p)throw new Error(`Cannot merge '${h}' and '${p}' token types. They use the same index ${m}.`);n[m]=p}),d.legend.tokenModifiers.forEach((p,m)=>{const h=a[m];if(h&&h!==p)throw new Error(`Cannot merge '${h}' and '${p}' token modifier. They use the same index ${m}.`);a[m]=p}),d.full?typeof d.full=="object"&&!d.full.delta&&(s=!1):l=!1,d.range||(c=!1));return{legend:{tokenTypes:n,tokenModifiers:a},full:l&&{delta:s},range:c}}class LR extends K.SemanticTokensBuilder{constructor(){super(...arguments),this._tokens=[]}push(n,a,l,s,c){this._tokens.push({line:n,char:a,length:l,tokenType:s,tokenModifiers:c})}build(){return this.applyTokens(),super.build()}buildEdits(){return this.applyTokens(),super.buildEdits()}flush(){this.previousResult(this.id)}applyTokens(){for(const n of this._tokens.sort(this.compareTokens))super.push(n.line,n.char,n.length,n.tokenType,n.tokenModifiers);this._tokens=[]}compareTokens(n,a){return n.line===a.line?n.char-a.char:n.line-a.line}}class qR{constructor(n){this.tokensBuilders=new Map,n.shared.workspace.TextDocuments.onDidClose(a=>{this.tokensBuilders.delete(a.document.uri)}),n.shared.lsp.LanguageServer.onInitialize(a=>{var l;this.initialize((l=a.capabilities.textDocument)===null||l===void 0?void 0:l.semanticTokens)})}initialize(n){this.clientCapabilities=n}get tokenTypes(){return UR}get tokenModifiers(){return OR}get semanticTokensOptions(){return{legend:{tokenTypes:Object.keys(this.tokenTypes),tokenModifiers:Object.keys(this.tokenModifiers)},full:{delta:!0},range:!0}}async semanticHighlight(n,a,l=js.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightRange(n,a,l=js.CancellationToken.None){return this.currentRange=a.range,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.flush(),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.build()}async semanticHighlightDelta(n,a,l=js.CancellationToken.None){return this.currentRange=void 0,this.currentDocument=n,this.currentTokensBuilder=this.getDocumentTokensBuilder(n),this.currentTokensBuilder.previousResult(a.previousResultId),await this.computeHighlighting(n,this.createAcceptor(),l),this.currentTokensBuilder.buildEdits()}createAcceptor(){return a=>{"line"in a?this.highlightToken({range:{start:{line:a.line,character:a.char},end:{line:a.line,character:a.char+a.length}},type:a.type,modifier:a.modifier}):"range"in a?this.highlightToken(a):"keyword"in a?this.highlightKeyword(a):"property"in a?this.highlightProperty(a):this.highlightNode({node:a.cst,type:a.type,modifier:a.modifier})}}getDocumentTokensBuilder(n){const a=this.tokensBuilders.get(n.uri.toString());if(a)return a;const l=new LR;return this.tokensBuilders.set(n.uri.toString(),l),l}async computeHighlighting(n,a,l){const s=n.parseResult.value,c=F0(s,{range:this.currentRange}).iterator();let d;do if(d=c.next(),!d.done){await Iy(l);const p=d.value;this.highlightElement(p,a)==="prune"&&c.prune()}while(!d.done)}highlightToken(n){var a;const{range:l,type:s}=n;let c=n.modifier;if(this.currentRange&&!P0(l,this.currentRange)||!this.currentDocument||!this.currentTokensBuilder)return;const d=this.tokenTypes[s];let p=0;if(c!==void 0){typeof c=="string"&&(c=[c]);for(const g of c){const T=this.tokenModifiers[g];p|=T}}const m=l.start.line,h=l.end.line;if(m===h){const g=l.start.character,T=l.end.character-g;this.currentTokensBuilder.push(m,g,T,d,p)}else if(!((a=this.clientCapabilities)===null||a===void 0)&&a.multilineTokenSupport){const g=l.start.character,T=this.currentDocument.textDocument.offsetAt(l.start),b=this.currentDocument.textDocument.offsetAt(l.end);this.currentTokensBuilder.push(m,g,b-T,d,p)}else{const g=l.start;let T=this.currentDocument.textDocument.offsetAt({line:m+1,character:0});this.currentTokensBuilder.push(g.line,g.character,T-g.character-1,d,p);for(let b=m+1;b<h;b++){const D=T;T=this.currentDocument.textDocument.offsetAt({line:b+1,character:0}),this.currentTokensBuilder.push(b,0,T-D-1,d,p)}this.currentTokensBuilder.push(h,0,l.end.character,d,p)}}highlightProperty(n){const a=[];if(typeof n.index=="number"){const c=Fr(n.node.$cstNode,n.property,n.index);c&&a.push(c)}else a.push(...Wy(n.node.$cstNode,n.property));const{type:l,modifier:s}=n;for(const c of a)this.highlightNode({node:c,type:l,modifier:s})}highlightKeyword(n){const{node:a,keyword:l,type:s,index:c,modifier:d}=n,p=[];if(typeof c=="number"){const m=Lr(a.$cstNode,l,c);m&&p.push(m)}else p.push(...Jy(a.$cstNode,l));for(const m of p)this.highlightNode({node:m,type:s,modifier:d})}highlightNode(n){const{node:a,type:l,modifier:s}=n,c=a.range;this.highlightToken({range:c,type:l,modifier:s})}}var Oy;(function(o){function n(l,s,c){const d=new Map;Object.entries(s).forEach(([h,g])=>d.set(g,h));let p=0,m=0;return a(l.data,5).map(h=>{p+=h[0],h[0]!==0&&(m=0),m+=h[1];const g=h[2];return{offset:c.textDocument.offsetAt({line:p,character:m}),tokenType:d.get(h[3]),tokenModifiers:h[4],text:c.textDocument.getText({start:{line:p,character:m},end:{line:p,character:m+g}})}})}o.decode=n;function a(l,s){const c=[];for(let d=0;d<l.length;d+=s){const p=l.slice(d,d+s);c.push(p)}return c}})(Oy||(Oy={}));function GR(o){const n=[],a=[];o.forEach(s=>{s?.triggerCharacters&&n.push(...s.triggerCharacters),s?.retriggerCharacters&&a.push(...s.retriggerCharacters)});const l={triggerCharacters:n.length>0?Array.from(new Set(n)).sort():void 0,retriggerCharacters:a.length>0?Array.from(new Set(a)).sort():void 0};return l.triggerCharacters?l:void 0}class jR{constructor(n){this.onInitializeEmitter=new Hs.Emitter,this.onInitializedEmitter=new Hs.Emitter,this.services=n}get onInitialize(){return this.onInitializeEmitter.event}get onInitialized(){return this.onInitializedEmitter.event}async initialize(n){return this.eagerLoadServices(),this.fireInitializeOnDefaultServices(n),this.onInitializeEmitter.fire(n),this.onInitializeEmitter.dispose(),this.buildInitializeResult(n)}eagerLoadServices(){Xm(this.services),this.services.ServiceRegistry.all.forEach(n=>Xm(n))}hasService(n){return this.services.ServiceRegistry.all.some(l=>n(l)!==void 0)}buildInitializeResult(n){var a,l,s,c;const d=this.services.lsp.DocumentUpdateHandler,p=(a=this.services.lsp.FileOperationHandler)===null||a===void 0?void 0:a.fileOperationOptions,m=this.services.ServiceRegistry.all,h=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.Formatter}),g=m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.Formatter)===null||he===void 0?void 0:he.formatOnTypeOptions}).find(Y=>!!Y),T=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CodeActionProvider}),b=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.SemanticTokenProvider}),D=HR(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.SemanticTokenProvider)===null||he===void 0?void 0:he.semanticTokensOptions})),H=(s=(l=this.services.lsp)===null||l===void 0?void 0:l.ExecuteCommandHandler)===null||s===void 0?void 0:s.commands,B=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentLinkProvider}),q=GR(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.SignatureHelp)===null||he===void 0?void 0:he.signatureHelpOptions})),F=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.TypeProvider}),j=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.ImplementationProvider}),P=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CompletionProvider}),W=NR(m.map(Y=>{var z,he;return(he=(z=Y.lsp)===null||z===void 0?void 0:z.CompletionProvider)===null||he===void 0?void 0:he.completionOptions})),oe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.ReferencesProvider}),ie=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentSymbolProvider}),ye=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DefinitionProvider}),fe=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DocumentHighlightProvider}),Ue=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.FoldingRangeProvider}),ke=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.HoverProvider}),yt=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.RenameProvider}),Le=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CallHierarchyProvider}),ht=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.TypeHierarchyProvider}),ln=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.CodeLensProvider}),gt=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.DeclarationProvider}),M=this.hasService(Y=>{var z;return(z=Y.lsp)===null||z===void 0?void 0:z.InlayHintProvider}),Q=(c=this.services.lsp)===null||c===void 0?void 0:c.WorkspaceSymbolProvider;return{capabilities:{workspace:{workspaceFolders:{supported:!0},fileOperations:p},executeCommandProvider:H&&{commands:H},textDocumentSync:{change:Hs.TextDocumentSyncKind.Incremental,openClose:!0,save:!!d.didSaveDocument,willSave:!!d.willSaveDocument,willSaveWaitUntil:!!d.willSaveDocumentWaitUntil},completionProvider:P?W:void 0,referencesProvider:oe,documentSymbolProvider:ie,definitionProvider:ye,typeDefinitionProvider:F,documentHighlightProvider:fe,codeActionProvider:T,documentFormattingProvider:h,documentRangeFormattingProvider:h,documentOnTypeFormattingProvider:g,foldingRangeProvider:Ue,hoverProvider:ke,renameProvider:yt?{prepareProvider:!0}:void 0,semanticTokensProvider:b?D:void 0,signatureHelpProvider:q,implementationProvider:j,callHierarchyProvider:Le?{}:void 0,typeHierarchyProvider:ht?{}:void 0,documentLinkProvider:B?{resolveProvider:!1}:void 0,codeLensProvider:ln?{resolveProvider:!1}:void 0,declarationProvider:gt,inlayHintProvider:M?{resolveProvider:!1}:void 0,workspaceSymbolProvider:Q?{resolveProvider:!!Q.resolveSymbol}:void 0}}}initialized(n){this.fireInitializedOnDefaultServices(n),this.onInitializedEmitter.fire(n),this.onInitializedEmitter.dispose()}fireInitializeOnDefaultServices(n){this.services.workspace.ConfigurationProvider.initialize(n),this.services.workspace.WorkspaceManager.initialize(n)}fireInitializedOnDefaultServices(n){const a=this.services.lsp.Connection,l=a?Object.assign(Object.assign({},n),{register:s=>a.client.register(Hs.DidChangeConfigurationNotification.type,s),fetchConfiguration:s=>a.workspace.getConfiguration(s)}):n;this.services.workspace.ConfigurationProvider.initialized(l).catch(s=>console.error("Error in ConfigurationProvider initialization:",s)),this.services.workspace.WorkspaceManager.initialized(n).catch(s=>console.error("Error in WorkspaceManager initialization:",s))}}class KR{getSymbolKind(n){return K.SymbolKind.Field}getCompletionItemKind(n){return K.CompletionItemKind.Reference}}class BR{constructor(n){this.nameProvider=n.references.NameProvider,this.references=n.references.References,this.grammarConfig=n.parser.GrammarConfig}findReferences(n,a,l){const s=n.parseResult.value.$cstNode;if(!s)return[];const c=zt(s,n.textDocument.offsetAt(a.position),this.grammarConfig.nameRegexp);return c?this.getReferences(c,a,n):[]}getReferences(n,a,l){const s=[],c=this.references.findDeclaration(n);if(c){const d={includeDeclaration:a.context.includeDeclaration};this.references.findReferences(c,d).forEach(p=>{s.push(K.Location.create(p.sourceUri.toString(),p.segment.range))})}return s}}class FR{constructor(n){this.references=n.references.References,this.nameProvider=n.references.NameProvider,this.grammarConfig=n.parser.GrammarConfig}async rename(n,a,l){const s={},c=n.parseResult.value.$cstNode;if(!c)return;const d=n.textDocument.offsetAt(a.position),p=zt(c,d,this.grammarConfig.nameRegexp);if(!p)return;const m=this.references.findDeclaration(p);if(!m)return;const h={onlyLocal:!1,includeDeclaration:!0};return this.references.findReferences(m,h).forEach(T=>{const b=Y0.replace(T.segment.range,a.newName),D=T.sourceUri.toString();s[D]?s[D].push(b):s[D]=[b]}),{changes:s}}prepareRename(n,a,l){return this.renameNodeRange(n,a.position)}renameNodeRange(n,a){const l=n.parseResult.value.$cstNode,s=n.textDocument.offsetAt(a);if(l&&s){const c=zt(l,s,this.grammarConfig.nameRegexp);if(!c)return;if(this.references.findDeclaration(c)||this.isNameNode(c))return c.range}}isNameNode(n){return n?.astNode&&eh(n.astNode)&&n===this.nameProvider.getNameNode(n.astNode)}}class PR{constructor(n){this.indexManager=n.workspace.IndexManager,this.nodeKindProvider=n.lsp.NodeKindProvider,this.fuzzyMatcher=n.lsp.FuzzyMatcher}async getSymbols(n,a=js.CancellationToken.None){const l=[],s=n.query.toLowerCase();for(const c of this.indexManager.allElements())if(await Iy(a),this.fuzzyMatcher.match(s,c.name)){const d=this.getWorkspaceSymbol(c);d&&l.push(d)}return l}getWorkspaceSymbol(n){const a=n.nameSegment;if(a)return{kind:this.nodeKindProvider.getSymbolKind(n),name:n.name,location:{range:a.range,uri:n.documentUri.toString()}}}}class Gh{constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new K.Emitter,this._onDidOpen=new K.Emitter,this._onDidClose=new K.Emitter,this._onDidSave=new K.Emitter,this._onWillSave=new K.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(we.normalize(n))}set(n){const a=we.normalize(n.uri);let l=!0;this._syncedDocuments.has(a)&&(l=!1),this._syncedDocuments.set(a,n);const s=Object.freeze({document:n});return this._onDidOpen.fire(s),this._onDidChangeContent.fire(s),l}delete(n){const a=we.normalize(typeof n=="object"&&"uri"in n?n.uri:n),l=this._syncedDocuments.get(a);l!==void 0&&(this._syncedDocuments.delete(a),this._onDidClose.fire(Object.freeze({document:l})))}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=K.TextDocumentSyncKind.Incremental;const a=[];return a.push(n.onDidOpenTextDocument(l=>{const s=l.textDocument,c=we.normalize(s.uri),d=this._configuration.create(c,s.languageId,s.version,s.text);this._syncedDocuments.set(c,d);const p=Object.freeze({document:d});this._onDidOpen.fire(p),this._onDidChangeContent.fire(p)})),a.push(n.onDidChangeTextDocument(l=>{const s=l.textDocument,c=l.contentChanges;if(c.length===0)return;const{version:d}=s;if(d==null)throw new Error(`Received document change event for ${s.uri} without valid version identifier`);const p=we.normalize(s.uri);let m=this._syncedDocuments.get(p);m!==void 0&&(m=this._configuration.update(m,c,d),this._syncedDocuments.set(p,m),this._onDidChangeContent.fire(Object.freeze({document:m})))})),a.push(n.onDidCloseTextDocument(l=>{const s=we.normalize(l.textDocument.uri),c=this._syncedDocuments.get(s);c!==void 0&&(this._syncedDocuments.delete(s),this._onDidClose.fire(Object.freeze({document:c})))})),a.push(n.onWillSaveTextDocument(l=>{const s=this._syncedDocuments.get(we.normalize(l.textDocument.uri));s!==void 0&&this._onWillSave.fire(Object.freeze({document:s,reason:l.reason}))})),a.push(n.onWillSaveTextDocumentWaitUntil((l,s)=>{const c=this._syncedDocuments.get(we.normalize(l.textDocument.uri));return c!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:c,reason:l.reason}),s):[]})),a.push(n.onDidSaveTextDocument(l=>{const s=this._syncedDocuments.get(we.normalize(l.textDocument.uri));s!==void 0&&this._onDidSave.fire(Object.freeze({document:s}))})),K.Disposable.create(()=>{a.forEach(l=>l.dispose())})}}class YR{constructor(n){this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new K.Emitter,this._onDidSave=new K.Emitter,this._onDidChange=new K.Emitter,this._onDidClose=new K.Emitter,"listen"in n?this._cellTextDocuments=n:this._cellTextDocuments=new Gh(n)}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(we.normalize(n))}getNotebookCell(n){const a=this.notebookCellMap.get(we.normalize(n));return a&&a[0]}findNotebookDocumentForCell(n){const a=typeof n=="string"||"scheme"in n?n:n.document,l=this.notebookCellMap.get(we.normalize(a));return l&&l[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const a=new ja,l=[];return l.push(this.cellTextDocuments.listen(a)),l.push(n.notebooks.synchronization.onDidOpenNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri);this.notebookDocuments.set(c,s.notebookDocument);for(const d of s.cellTextDocuments)a.openTextDocument({textDocument:d});this.updateCellMap(s.notebookDocument),this._onDidOpen.fire(s.notebookDocument)})),l.push(n.notebooks.synchronization.onDidChangeNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d===void 0)return;d.version=s.notebookDocument.version;const p=d.metadata;let m=!1;const h=s.change;h.metadata!==void 0&&(m=!0,d.metadata=h.metadata);const g=[],T=[],b=[],D=[];if(h.cells!==void 0){const j=h.cells;if(j.structure!==void 0){const P=j.structure.array;if(d.cells.splice(P.start,P.deleteCount,...P.cells!==void 0?P.cells:[]),j.structure.didOpen!==void 0)for(const W of j.structure.didOpen)a.openTextDocument({textDocument:W}),g.push(W.uri);if(j.structure.didClose)for(const W of j.structure.didClose)a.closeTextDocument({textDocument:W}),T.push(W.uri)}if(j.data!==void 0){const P=new Map(j.data.map(W=>[W.document,W]));for(let W=0;W<=d.cells.length;W++){const oe=P.get(d.cells[W].document);if(oe!==void 0){const ie=d.cells.splice(W,1,oe);if(b.push({old:ie[0],new:oe}),P.delete(oe.document),P.size===0)break}}}if(j.textContent!==void 0)for(const P of j.textContent)a.changeTextDocument({textDocument:P.document,contentChanges:P.changes}),D.push(P.document.uri)}this.updateCellMap(d);const H={notebookDocument:d};m&&(H.metadata={old:p,new:d.metadata});const B=[];for(const j of g)B.push(this.getNotebookCell(j));const q=[];for(const j of T)q.push(this.getNotebookCell(j));const F=[];for(const j of D)F.push(this.getNotebookCell(j));(B.length>0||q.length>0||b.length>0||F.length>0)&&(H.cells={added:B,removed:q,changed:{data:b,textContent:F}}),(H.metadata!==void 0||H.cells!==void 0)&&this._onDidChange.fire(H)})),l.push(n.notebooks.synchronization.onDidSaveNotebookDocument(s=>{const c=this.getNotebookDocument(s.notebookDocument.uri);c!==void 0&&this._onDidSave.fire(c)})),l.push(n.notebooks.synchronization.onDidCloseNotebookDocument(s=>{const c=we.normalize(s.notebookDocument.uri),d=this.notebookDocuments.get(c);if(d!==void 0){this._onDidClose.fire(d);for(const p of s.cellTextDocuments)a.closeTextDocument({textDocument:p});this.notebookDocuments.delete(c);for(const p of d.cells)this.notebookCellMap.delete(p.document)}})),K.Disposable.create(()=>{l.forEach(s=>s.dispose())})}updateCellMap(n){for(const a of n.cells)this.notebookCellMap.set(a.document,[a,n])}}class ja{onDidOpenTextDocument(n){return this.openHandler=n,K.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,K.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,K.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return ja.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return ja.NULL_DISPOSE}onDidSaveTextDocument(){return ja.NULL_DISPOSE}}ja.NULL_DISPOSE=Object.freeze({dispose:()=>{}});function jh(o){return th.merge(X0(o),QR(o))}function QR(o){return{lsp:{CompletionProvider:n=>new Hh(n),DocumentSymbolProvider:n=>new $R(n),HoverProvider:n=>new zR(n),FoldingRangeProvider:n=>new qh(n),ReferencesProvider:n=>new BR(n),DefinitionProvider:n=>new Lh(n),DocumentHighlightProvider:n=>new _R(n),RenameProvider:n=>new FR(n)},shared:()=>o.shared}}function Kh(o){return th.merge(Q0(o),XR(o))}function XR(o){return{lsp:{Connection:()=>o.connection,LanguageServer:n=>new jR(n),DocumentUpdateHandler:n=>new wR(n),WorkspaceSymbolProvider:n=>new PR(n),NodeKindProvider:()=>new KR,FuzzyMatcher:()=>new kR},workspace:{TextDocuments:()=>new Gh(V0),NotebookDocuments:n=>new YR(n.workspace.TextDocuments)}}}class VR extends Z0{constructor(n){super(n),this.langiumDocuments=n.shared.workspace.LangiumDocuments}getScope(n){const a=this.reflection.getReferenceType(n);return a===Vm?this.getTypeScope(a,n):super.getScope(n)}getTypeScope(n,a){let l;const s=nt(a.container).precomputedScopes,c=nh(a.container);if(s&&c){const p=s.get(c);p.length>0&&(l=Mt(p).filter(m=>m.type===Zm||m.type===Im||m.type===Dc))}const d=this.getGlobalScope(n,a);return l?this.createScope(l,d):d}getGlobalScope(n,a){const l=Ze(a.container,yl);if(!l)return I0;const s=new Set;this.gatherImports(l,s);let c=this.indexManager.allElements(n,s);return n===Vm&&(c=c.filter(d=>d.type===Zm||d.type===Im||d.type===Dc)),new W0(c)}gatherImports(n,a){for(const l of n.imports){const s=sg(l);if(s&&!a.has(s.toString())){a.add(s.toString());const c=this.langiumDocuments.getDocument(s);if(c){const d=c.parseResult.value;yl(d)&&this.gatherImports(d,a)}}}}}class ZR extends J0{constructor(n){super(n),this.astNodeLocator=n.workspace.AstNodeLocator}exportNode(n,a,l){var s;if(super.exportNode(n,a,l),se(n)){if(!n.returnType&&!n.dataType){const c=(s=n.inferredType)!==null&&s!==void 0?s:n;a.push(this.createInferredTypeDescription(c,c.name,l))}zn(n).forEach(c=>{ft(c)&&c.inferredType&&a.push(this.createInferredTypeDescription(c.inferredType,c.inferredType.name,l))})}}processNode(n,a,l){rh(n)||(this.processTypeNode(n,a,l),this.processActionNode(n,a,l),super.processNode(n,a,l))}processTypeNode(n,a,l){var s;const c=n.$container;if(c&&se(n)&&!n.returnType&&!n.dataType){const d=(s=n.inferredType)!==null&&s!==void 0?s:n;l.add(c,this.createInferredTypeDescription(d,d.name,a))}}processActionNode(n,a,l){const s=nh(n);s&&ft(n)&&n.inferredType&&l.add(s,this.createInferredTypeDescription(n.inferredType,n.inferredType.name,a))}createInferredTypeDescription(n,a,l=nt(n)){let s;const c=()=>{var d;return s??(s=Gr((d=this.nameProvider.getNameNode(n))!==null&&d!==void 0?d:n.$cstNode))};return{node:n,name:a,get nameSegment(){return c()},selectionSegment:Gr(n.$cstNode),type:Dc,documentUri:l.uri,path:this.astNodeLocator.getAstNodePath(n)}}}class IR extends Hh{constructor(n){super(n),this.documents=()=>n.shared.workspace.LangiumDocuments}completionFor(n,a,l){const s=Ze(a.feature,mt);if(s?.feature==="path")this.completeImportPath(n,l);else return super.completionFor(n,a,l)}completeImportPath(n,a){const s=n.textDocument.getText().substring(n.tokenOffset,n.offset);let c=this.getAllFiles(n.document),d={start:n.position,end:n.position};if(s.length>0){const p=s.substring(1);c=c.filter(g=>g.startsWith(p));const m=n.textDocument.positionAt(n.tokenOffset+1),h=n.textDocument.positionAt(n.tokenEndOffset-1);d={start:m,end:h}}for(const p of c){const m=s.length>0?"":'"',h=`${m}${p}${m}`;a(n,{label:p,textEdit:{newText:h,range:d},kind:eT.File,sortText:"0"})}}getAllFiles(n){const a=this.documents().all,l=n.uri.toString(),s=we.dirname(n.uri).toString(),c=[];for(const d of a)if(!we.equals(d.uri,l)){const p=d.uri.toString(),m=p.substring(0,p.length-we.extname(d.uri).length);let h=we.relative(s,m);h.startsWith(".")||(h=`./${h}`),c.push(h)}return c}}class WR extends qh{shouldProcessContent(n){return!se(n)}}class JR{constructor(){this.collector=()=>{}}getNodeFormatter(n){return new eb(n,this.collector)}formatDocument(n,a){const l=n.parseResult;return l.lexerErrors.length===0&&l.parserErrors.length===0?this.doDocumentFormat(n,a.options):[]}isFormatRangeErrorFree(n,a){const l=n.parseResult;return l.lexerErrors.length||l.parserErrors.length?Math.min(...l.lexerErrors.map(c=>{var d;return(d=c.line)!==null&&d!==void 0?d:Number.MAX_VALUE}),...l.parserErrors.map(c=>{var d;return(d=c.token.startLine)!==null&&d!==void 0?d:Number.MAX_VALUE}))>a.end.line:!0}formatDocumentRange(n,a){return this.isFormatRangeErrorFree(n,a.range)?this.doDocumentFormat(n,a.options,a.range):[]}formatDocumentOnType(n,a){const l={start:{character:0,line:a.position.line},end:a.position};return this.isFormatRangeErrorFree(n,l)?this.doDocumentFormat(n,a.options,l):[]}get formatOnTypeOptions(){}doDocumentFormat(n,a,l){const s=new Map,c=(p,m,h)=>{var g,T;const b=this.nodeModeToKey(p,m),D=s.get(b),H=(g=h.options.priority)!==null&&g!==void 0?g:0,B=(T=D?.options.priority)!==null&&T!==void 0?T:0;(!D||B<=H)&&s.set(b,h)};this.collector=c,this.iterateAstFormatting(n,l);const d=this.iterateCstFormatting(n,s,a,l);return this.avoidOverlappingEdits(n.textDocument,d)}avoidOverlappingEdits(n,a){const l=[];for(const s of a){let c=l[l.length-1];for(;c;){const d=n.offsetAt(s.range.start),p=n.offsetAt(c.range.end);if(d<p)l.pop(),c=l[l.length-1];else break}l.push(s)}return l.filter(s=>this.isNecessary(s,n))}iterateAstFormatting(n,a){const l=n.parseResult.value;this.format(l);const s=zn(l).iterator();let c;do if(c=s.next(),!c.done){const d=c.value;this.insideRange(d.$cstNode.range,a)?this.format(d):s.prune()}while(!c.done)}nodeModeToKey(n,a){return`${n.offset}:${n.end}:${a}`}insideRange(n,a){return!a||n.start.line<=a.start.line&&n.end.line>=a.end.line||n.start.line>=a.start.line&&n.end.line<=a.end.line||n.start.line<=a.end.line&&n.end.line>=a.end.line}isNecessary(n,a){return n.newText!==a.getText(n.range).replace(/\r/g,"")}iterateCstFormatting(n,a,l,s){const c={indentation:0,options:l,document:n.textDocument},d=[],m=this.iterateCstTree(n,c).iterator();let h,g;do if(g=m.next(),!g.done){const T=g.value,b=Wm(T),D=this.nodeModeToKey(T,"prepend"),H=a.get(D);if(a.delete(D),H){const F=this.createTextEdit(h,T,H,c);for(const j of F)j&&this.insideRange(j.range,s)&&d.push(j)}const B=this.nodeModeToKey(T,"append"),q=a.get(B);if(a.delete(B),q){const F=tT(T);if(F){const j=this.createTextEdit(T,F,q,c);for(const P of j)P&&this.insideRange(P.range,s)&&d.push(P)}}if(!H&&T.hidden){const F=this.createHiddenTextEdits(h,T,void 0,c);for(const j of F)j&&this.insideRange(j.range,s)&&d.push(j)}b&&(h=T)}while(!g.done);return d}createHiddenTextEdits(n,a,l,s){var c;const d=a.range.start.line;if(n&&n.range.end.line===d)return[];const p=[],m={start:{character:0,line:d},end:a.range.start},h=s.document.getText(m),g=this.findFittingMove(m,(c=l?.moves)!==null&&c!==void 0?c:[],s),T=this.getExistingIndentationCharacterCount(h,s),D=this.getIndentationCharacterCount(s,g)-T;if(D===0)return[];let H="";D>0&&(H=(s.options.insertSpaces?" ":"	").repeat(D));const B=a.text.split(`
`);B[0]=h+B[0];for(let q=0;q<B.length;q++){const F=d+q,j={character:0,line:F};if(D>0)p.push({newText:H,range:{start:j,end:j}});else{const P=B[q];let W=0;for(;W<P.length;W++){const oe=P.charAt(W);if(oe!==" "&&oe!=="	")break}p.push({newText:"",range:{start:j,end:{line:F,character:Math.min(W,Math.abs(D))}}})}}return p}getExistingIndentationCharacterCount(n,a){const l=" ".repeat(a.options.tabSize);return(a.options.insertSpaces?n.replaceAll("	",l):n.replaceAll(l,"	")).length}getIndentationCharacterCount(n,a){let l=n.indentation;return a&&a.tabs&&(l+=a.tabs),(n.options.insertSpaces?n.options.tabSize:1)*l}createTextEdit(n,a,l,s){var c;if(a.hidden)return this.createHiddenTextEdits(n,a,l,s);if(n&&(n.range.end.line>a.range.start.line||n.range.end.line===a.range.start.line&&n.range.end.character>a.range.start.character))return[];const d={start:(c=n?.range.end)!==null&&c!==void 0?c:{character:0,line:0},end:a.range.start},p=this.findFittingMove(d,l.moves,s);if(!p)return[];const m=p.characters,h=p.lines,g=p.tabs,T=s.indentation;s.indentation+=g??0;const b=[];return m!==void 0?n?.hidden||b.push(this.createSpaceTextEdit(d,m,l.options)):h!==void 0?b.push(this.createLineTextEdit(d,h,s,l.options)):g!==void 0&&b.push(this.createTabTextEdit(d,!!n,s)),Wm(a)&&(s.indentation=T),b}createSpaceTextEdit(n,a,l){if(n.start.line===n.end.line){const c=n.end.character-n.start.character;a=this.fitIntoOptions(a,c,l)}return{newText:" ".repeat(a),range:n}}createLineTextEdit(n,a,l,s){const c=n.end.line-n.start.line;a=this.fitIntoOptions(a,c,s);const p=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation);return{newText:`${`
`.repeat(a)}${p}`,range:n}}createTabTextEdit(n,a,l){const c=(l.options.insertSpaces?" ".repeat(l.options.tabSize):"	").repeat(l.indentation),d=a?1:0,p=Math.max(n.end.line-n.start.line,d);return{newText:`${`
`.repeat(p)}${c}`,range:n}}fitIntoOptions(n,a,l){return l.allowMore?n=Math.max(a,n):l.allowLess&&(n=Math.min(a,n)),n}findFittingMove(n,a,l){if(a.length===0)return;if(a.length===1)return a[0];const s=n.end.line-n.start.line;for(const c of a){if(c.lines!==void 0&&s<=c.lines)return c;if(c.lines===void 0&&s===0)return c}return a[a.length-1]}iterateCstTree(n,a){const s=n.parseResult.value.$cstNode;return s?new nT(s,c=>this.iterateCst(c,a)):Jm}iterateCst(n,a){if(!rT(n))return Jm;const l=a.indentation;return new aT(()=>({index:0}),s=>s.index<n.content.length?{done:!1,value:n.content[s.index++]}:(a.indentation=l,iT))}}class eb{constructor(n,a){this.astNode=n,this.collector=a}node(n){return new en(n.$cstNode?[n.$cstNode]:[],this.collector)}nodes(...n){const a=[];for(const l of n)l.$cstNode&&a.push(l.$cstNode);return new en(a,this.collector)}property(n,a){const l=Fr(this.astNode.$cstNode,n,a);return new en(l?[l]:[],this.collector)}properties(...n){const a=[];for(const l of n){const s=Wy(this.astNode.$cstNode,l);a.push(...s)}return new en(a,this.collector)}keyword(n,a){const l=Lr(this.astNode.$cstNode,n,a);return new en(l?[l]:[],this.collector)}keywords(...n){const a=[];for(const l of n){const s=Jy(this.astNode.$cstNode,l);a.push(...s)}return new en(a,this.collector)}cst(n){return new en([...n],this.collector)}interior(n,a){const l=n.nodes,s=a.nodes;if(l.length!==1||s.length!==1)return new en([],this.collector);let c=l[0],d=s[0];if(c.offset>d.offset){const p=c;c=d,d=p}return new en(lT(c,d),this.collector)}}class en{constructor(n,a){this.nodes=n,this.collector=a}prepend(n){for(const a of this.nodes)this.collector(a,"prepend",n);return this}append(n){for(const a of this.nodes)this.collector(a,"append",n);return this}surround(n){for(const a of this.nodes)this.collector(a,"prepend",n),this.collector(a,"append",n);return this}slice(n,a){return new en(this.nodes.slice(n,a),this.collector)}}var ne;(function(o){function n(...g){return{options:{},moves:g.flatMap(T=>T.moves).sort(h)}}o.fit=n;function a(g){return s(0,g)}o.noSpace=a;function l(g){return s(1,g)}o.oneSpace=l;function s(g,T){return{options:T??{},moves:[{characters:g}]}}o.spaces=s;function c(g){return d(1,g)}o.newLine=c;function d(g,T){return{options:T??{},moves:[{lines:g}]}}o.newLines=d;function p(g){return{options:g??{},moves:[{tabs:1,lines:1}]}}o.indent=p;function m(g){return{options:g??{},moves:[{tabs:0}]}}o.noIndent=m;function h(g,T){var b,D,H,B,q,F;const j=(b=g.lines)!==null&&b!==void 0?b:0,P=(D=T.lines)!==null&&D!==void 0?D:0,W=(H=g.tabs)!==null&&H!==void 0?H:0,oe=(B=T.tabs)!==null&&B!==void 0?B:0,ie=(q=g.characters)!==null&&q!==void 0?q:0,ye=(F=T.characters)!==null&&F!==void 0?F:0;return j<P?-1:j>P?1:W<oe?-1:W>oe?1:ie<ye?-1:ie>ye?1:0}})(ne||(ne={}));const Tc=ne.fit(ne.oneSpace(),ne.indent());class tb extends JR{format(n){if(Br(n))this.getNodeFormatter(n).properties("type","terminal").surround(ne.noSpace());else if(se(n)){const a=this.getNodeFormatter(n);a.keywords("entry","fragment","returns").append(ne.oneSpace()),(n.inferredType||n.returnType||n.dataType)&&n.parameters.length===0?a.property("name").append(ne.oneSpace()):a.property("name").append(ne.noSpace()),a.properties("parameters").append(ne.noSpace()),a.keywords(",").append(ne.oneSpace()),a.keywords("<").append(ne.noSpace());const l=a.keyword(";"),s=a.keyword(":");s.prepend(ne.noSpace()),a.interior(s,l).prepend(ne.indent()),l.prepend(ne.fit(ne.noSpace(),ne.newLine())),a.node(n).prepend(ne.noIndent())}else if(pt(n)){const a=this.getNodeFormatter(n);n.type&&(a.property("name").append(ne.oneSpace()),a.keyword("returns").append(ne.oneSpace())),a.keywords("hidden","terminal","fragment").append(ne.oneSpace()),a.keyword(":").prepend(ne.noSpace()),a.keyword(";").prepend(ne.fit(ne.noSpace(),ne.newLine())),a.node(n).prepend(ne.noIndent())}else if(ft(n)){const a=this.getNodeFormatter(n);a.keyword("{").append(ne.noSpace()),a.keywords(".","+=","=").surround(ne.noSpace()),a.keyword("}").prepend(ne.noSpace())}else if(sT(n))this.getNodeFormatter(n).keywords("infer","infers").append(ne.oneSpace());else if(mt(n))this.getNodeFormatter(n).keywords("=","+=","?=").surround(ne.noSpace());else if(lt(n)){const a=this.getNodeFormatter(n);a.keyword("<").surround(ne.noSpace()),a.keyword(",").append(ne.oneSpace()),a.properties("arguments").append(ne.noSpace())}else if(Yt(n)){const a=this.getNodeFormatter(n);a.keyword("interface").append(ne.oneSpace()),a.keyword("extends").prepend(ne.oneSpace()).append(Tc),a.keywords(",").prepend(ne.noSpace()).append(Tc);const l=a.keyword("{");l.prepend(ne.fit(ne.oneSpace(),ne.newLine()));const s=a.keyword("}");s.prepend(ne.newLine()),a.interior(l,s).prepend(ne.indent())}else if(an(n)){const a=this.getNodeFormatter(n);a.keyword("type").append(ne.oneSpace()),a.keyword("=").prepend(ne.oneSpace()).append(Tc),a.keyword(";").prepend(ne.noSpace()).append(ne.newLine())}else if(yl(n)){const a=this.getNodeFormatter(n);a.nodes(...n.rules,...n.interfaces,...n.types,...n.imports).prepend(ne.noIndent()),a.keyword("grammar").prepend(ne.noSpace()).append(ne.oneSpace())}Bs(n)&&this.getNodeFormatter(n).property("cardinality").prepend(ne.noSpace())}}class nb extends qR{highlightElement(n,a){var l;mt(n)?a({node:n,property:"feature",type:K.SemanticTokenTypes.property}):ft(n)?n.feature&&a({node:n,property:"feature",type:K.SemanticTokenTypes.property}):rh(n)?a({node:n,property:"name",type:K.SemanticTokenTypes.type}):Yr(n)?(n.primitiveType||n.typeRef)&&a({node:n,property:n.primitiveType?"primitiveType":"typeRef",type:K.SemanticTokenTypes.type}):oT(n)?a({node:n,property:"name",type:K.SemanticTokenTypes.parameter}):ah(n)?a({node:n,property:"parameter",type:K.SemanticTokenTypes.parameter}):lt(n)?!((l=n.rule.ref)===null||l===void 0)&&l.fragment&&a({node:n,property:"rule",type:K.SemanticTokenTypes.type}):ih(n)&&a({node:n,property:"name",type:K.SemanticTokenTypes.property})}}class rb extends uT{getName(n){return mt(n)?n.feature:super.getName(n)}getNameNode(n){return mt(n)?Fr(n.$cstNode,"feature"):super.getNameNode(n)}}function mr(o){return"referenceType"in o}function Ln(o){return"elementType"in o}function Ie(o){return"types"in o}function Bh(o){if(Ie(o)){const n=[];for(const a of o.types)n.push(...Bh(a));return n}else return[o]}function Pt(o){return"value"in o}function Dt(o){return"primitive"in o}function rn(o){return"string"in o}function Un(o){return o&&"type"in o}function mn(o){return o&&"properties"in o}class ab{constructor(n,a){var l;this.superTypes=new Set,this.subTypes=new Set,this.typeNames=new Set,this.name=n,this.declared=(l=a?.declared)!==null&&l!==void 0?l:!1,this.dataType=a?.dataType,this.comment=a?.comment}toAstTypesString(n){const a=Ba`${this.comment}`.appendNewLineIfNotEmpty().append(`export type ${this.name} = ${Qt(this.type,"AstType")};`).appendNewLine();return n&&a.appendNewLine().append(Ph(this.name)),this.dataType&&a.appendNewLine().append(ib(this)),Cc(a)}toDeclaredTypesString(n){return fT`
            type ${Wc(this.name,n)} = ${Qt(this.type,"DeclaredType")};
        `}}class Ws{get superProperties(){return this.getSuperProperties(new Set)}getSuperProperties(n){if(n.has(this.name))return[];n.add(this.name);const a=new Map;for(const l of this.properties)a.set(l.name,l);for(const l of this.interfaceSuperTypes){const s=l.getSuperProperties(n);for(const c of s)a.has(c.name)||a.set(c.name,c)}return Array.from(a.values())}get allProperties(){const n=new Map(this.superProperties.map(l=>[l.name,l]));for(const l of this.subTypes)this.getSubTypeProperties(l,n,new Set);return Array.from(n.values())}getSubTypeProperties(n,a,l){if(l.has(this.name))return;l.add(this.name);const s=mn(n)?n.properties:[];for(const c of s)a.has(c.name)||a.set(c.name,c);for(const c of n.subTypes)this.getSubTypeProperties(c,a,l)}get interfaceSuperTypes(){return Array.from(this.superTypes).filter(n=>n instanceof Ws)}constructor(n,a,l,s){this.superTypes=new Set,this.subTypes=new Set,this.containerTypes=new Set,this.typeNames=new Set,this.declared=!1,this.abstract=!1,this.properties=[],this.name=n,this.declared=a,this.abstract=l,this.comment=s}toAstTypesString(n){const a=this.interfaceSuperTypes.map(c=>c.name),l=a.length>0?qa([...a]):["langium.AstNode"],s=Ba`${this.comment}`.appendNewLineIfNotEmpty().append(`export interface ${this.name} extends ${l.join(", ")} {`).appendNewLine();return s.indent(c=>{this.containerTypes.size>0&&c.append(`readonly $container: ${qa([...this.containerTypes].map(d=>d.name)).join(" | ")};`).appendNewLine(),this.typeNames.size>0&&c.append(`readonly $type: ${qa([...this.typeNames]).map(d=>`'${d}'`).join(" | ")};`).appendNewLine(),c.append(Hy(this.properties,"AstType"))}),s.append("}").appendNewLine(),n&&s.appendNewLine().append(Ph(this.name)),Cc(s)}toDeclaredTypesString(n){const a=Wc(this.name,n),l=qa(this.interfaceSuperTypes.map(s=>s.name)).join(", ");return Cc(Ba`
                interface ${a}${l.length>0?` extends ${l}`:""} {
                    ${Hy(this.properties,"DeclaredType",n)}
                }
            `.appendNewLine())}}function hl(o,n){return Mn(o,n,new Map)}function Mn(o,n,a){if(o){if(!n)return!1}else return!0;const l=`${dl(o)}»${dl(n)}`;let s=a.get(l);if(s!==void 0)return s;if(a.set(l,!1),s=!1,Ie(o))s=o.types.every(c=>Mn(c,n,a));else if(Ie(n))s=n.types.some(c=>Mn(o,c,a));else if(Pt(n)&&Un(n.value))Pt(o)&&Un(o.value)&&n.value.name===o.value.name?s=!0:s=Mn(o,n.value.type,a);else if(mr(o))s=mr(n)&&Mn(o.referenceType,n.referenceType,a);else if(Ln(o))s=Ln(n)&&Mn(o.elementType,n.elementType,a);else if(Pt(o))if(Un(o.value)){if(o.value.dataType){const c={primitive:o.value.dataType};s=Mn(c,n,a)}s||(s=Mn(o.value.type,n,a))}else Pt(n)?Un(n.value)?s=Mn(o,n.value.type,a):s=Fh(o.value,n.value,new Set):s=!1;else Dt(o)?s=Dt(n)&&o.primitive===n.primitive:rn(o)&&(s=Dt(n)&&n.primitive==="string"||rn(n)&&n.string===o.string);return s&&a.set(l,s),s}function Fh(o,n,a){const l=o.name;if(a.has(l))return!1;if(a.add(l),o.name===n.name)return!0;for(const s of o.superTypes)if(mn(s)&&Fh(s,n,a))return!0;return!1}function dl(o){if(mr(o))return`@(${dl(o.referenceType)})}`;if(Ln(o))return o.elementType?`(${dl(o.elementType)})[]`:"unknown[]";if(Ie(o)){const n=o.types.map(a=>dl(a)).join(" | ");return o.types.length<=1?`Union<${n}>`:n}else{if(Pt(o))return`Value<${o.value.name}>`;if(Dt(o))return o.primitive;if(rn(o))return`'${o.string}'`}throw new Error("Invalid type")}function Qt(o,n="AstType"){if(!o)return"unknown";if(mr(o)){const a=Qt(o.referenceType,n);return n==="AstType"?`langium.Reference<${a}>`:`@${Rc(o.referenceType,a)}`}else if(Ln(o)){const a=Qt(o.elementType,n);return n==="AstType"?`Array<${a}>`:`${o.elementType?Rc(o.elementType,a):"unknown"}[]`}else if(Ie(o)){const a=o.types.map(l=>Rc(l,Qt(l,n)));return qa(a).join(" | ")}else{if(Pt(o))return o.value.name;if(Dt(o))return o.primitive;if(rn(o)){const a=n==="AstType"?"'":'"';return`${a}${fb(o.string,a)}${a}`}}throw new Error("Invalid type")}function Rc(o,n){return Ie(o)&&(n=`(${n})`),n}function Hy(o,n,a=new Set){function l(s){const c=n==="AstType"?s.name:Wc(s.name,a),d=s.optional&&!Ic(s.type),p=Qt(s.type,n);return Ba`${s.comment}`.appendNewLineIfNotEmpty().append(`${c}${d?"?":""}: ${p};`)}return cT(qa(o,(s,c)=>s.name.localeCompare(c.name)),l,{appendNewLineIfNotEmpty:!0})}function Ic(o){return Ln(o)?!0:mr(o)?!1:Ie(o)?o.types.every(n=>Ic(n)):Dt(o)?o.primitive==="boolean":!1}function Ph(o){return Ba`
        export const ${o} = '${o}';

        export function is${o}(item: unknown): item is ${o} {
            return reflection.isInstance(item, ${o});
        }
    `.appendNewLine()}function ib(o){switch(o.dataType){case"string":if(Nc(o.type)){const n=Array.from(o.subTypes).map(s=>s.name),a=Yh(o.type),l=Qh(o.type);if(n.length===0&&a.length===0&&l.length===0)return Ls(o.name,`typeof item === '${o.dataType}'`);{const s=lb(n,a,l);return Ls(o.name,s)}}return;case"number":case"boolean":case"bigint":return Ls(o.name,`typeof item === '${o.dataType}'`);case"Date":return Ls(o.name,"item instanceof Date");default:return}}function Nc(o){let n=!0;if(Dt(o))return o.primitive==="string";if(rn(o))return!0;if(Ie(o)){for(const a of o.types)if(Pt(a))if(Un(a.value)){if(!Nc(a.value.type))return!1}else return!1;else if(Dt(a)){if(a.primitive!=="string"||!a.regex)return!1}else if(Ie(a))n=Nc(a);else if(!rn(a))return!1}else return!1;return n}function lb(o,n,a){const l=[...o.map(s=>`is${s}(item)`),...n.map(s=>`item === '${s}'`)];if(a.length>0){const s=a.map(c=>`${c}.test(item)`).join(" || ");l.push(`(typeof item === 'string' && (${s}))`)}return l.join(" || ")}function Wc(o,n){return n.has(o)?`^${o}`:o}function Yh(o){const n=[];if(rn(o))return[o.string];if(Ie(o))for(const a of o.types)rn(a)?n.push(a.string):Ie(a)&&n.push(...Yh(a));return n}function Qh(o){const n=[];if(Dt(o)&&o.primitive==="string"&&o.regex&&n.push(o.regex),Ie(o))for(const a of o.types)Dt(a)&&a.primitive==="string"&&a.regex?n.push(a.regex):Ie(a)&&n.push(...Qh(a));return n}function Ls(o,n){return Ba`
        export function is${o}(item: unknown): item is ${o} {
            return ${n};
        }
    `.appendNewLine()}function qa(o,n){return Array.from(new Set(o)).sort(n)}function Xh(o,n,a,l){const s=new Set;s.add(o);const c=n.findReferences(o,{});for(const d of c){const p=a.getDocument(d.sourceUri);if(!p)continue;const m=l.getAstNode(p.parseResult.value,d.sourcePath);Yt(m)?(s.add(m),Xh(m,n,a,l).forEach(g=>s.add(g))):m&&an(m.$container)&&s.add(m.$container)}return s}function sb(o){const n=new Set(o),a=new Ve,l=new Ve;for(const d of n){for(const p of d.superTypes)n.has(p)&&(a.add(d.name,p.name),l.add(p.name,d.name));for(const p of d.subTypes)n.has(p)&&(a.add(p.name,d.name),l.add(d.name,p.name))}const s=new Ve,c=new Ve;for(const[d,p]of Array.from(a.entriesGroupedByKey()).sort(([m],[h])=>m.localeCompare(h)))s.addAll(d,Array.from(new Set(p)));for(const[d,p]of Array.from(l.entriesGroupedByKey()).sort(([m],[h])=>m.localeCompare(h)))c.addAll(d,Array.from(new Set(p)));return{superTypes:s,subTypes:c}}function Qs(o){const n=new Set;if(Yt(o))n.add(o),o.superTypes.forEach(a=>{if(Yt(a.ref)){n.add(a.ref);const l=Qs(a.ref);for(const s of l)n.add(s)}});else if(an(o)){const a=Vh(o.type);for(const l of a){const s=Qs(l);for(const c of s)n.add(c)}}return n}function Vh(o){var n;if(Qa(o))return o.types.flatMap(a=>Vh(a));if(Yr(o)){const a=(n=o.typeRef)===null||n===void 0?void 0:n.ref;if(an(a)||Yt(a))return[a]}return[]}function Ly(o,n){return o.interfaces.concat(n.interfaces)}function _c(o){return o.interfaces.concat(o.unions)}function ob(o){const n=o.sort((s,c)=>s.name.localeCompare(c.name)).map(s=>({value:s,nodes:[]}));for(const s of n)s.nodes=n.filter(c=>s.value.superTypes.has(c.value.name));const a=[],l=n.filter(s=>s.nodes.length===0);for(;l.length>0;){const s=l.shift();a.includes(s)||(a.push(s),n.filter(c=>c.nodes.includes(s)).forEach(c=>l.push(c)))}return a.map(s=>s.value)}function Zh(o){return Ie(o)?o.types.some(n=>Zh(n)):Dt(o)?o.primitive==="boolean":!1}function $c(o){if(Ie(o))return o.types.flatMap(n=>$c(n));if(mr(o)){const n=o.referenceType;if(Pt(n))return[n.value.name]}else if(Ln(o))return o.elementType?$c(o.elementType):[];return[]}function ub(o){return Ks(o,new Set)}function Ks(o,n){if(n.has(o))return[];if(n.add(o),Ie(o))return o.types.flatMap(a=>Ks(a,n));if(Pt(o)){const a=o.value;return"type"in a?Ks(a.type,n):[a.name]}else if(Ln(o))return o.elementType?Ks(o.elementType,n):[];return[]}function cb(o){return wc(o,new Map)}function wc(o,n){if(n.has(o))return n.get(o);n.set(o,!0);let a=!1;if(Ie(o))a=o.types.every(l=>wc(l,n));else if(Pt(o)){const l=o.value;"type"in l?a=wc(l.type,n):a=!0}return n.set(o,a),a}function fb(o,n='"'){return n==='"'?o.replace(/"/g,'\\"'):o.replace(/'/g,"\\'")}class db extends dT{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}findDeclaration(n){const a=n.astNode,l=lh(n);if(l&&l.feature==="feature"){if(mt(a))return this.findAssignmentDeclaration(a);if(ft(a))return this.findActionDeclaration(a)}return super.findDeclaration(n)}findReferences(n,a){var l;return ih(n)?this.findReferencesToTypeAttribute(n,(l=a.includeDeclaration)!==null&&l!==void 0?l:!1):super.findReferences(n,a)}findReferencesToTypeAttribute(n,a){const l=[],s=Ze(n,Yt);if(s){if(a){const p=this.getReferenceToSelf(n);p&&l.push(p)}const c=Xh(s,this,this.documents,this.nodeLocator),d=[];c.forEach(p=>{const m=this.findRulesWithReturnType(p);d.push(...m)}),d.forEach(p=>{const m=this.createReferencesToAttribute(p,n);l.push(...m)})}return Mt(l)}createReferencesToAttribute(n,a){const l=[];if(se(n)){const s=Vs(n.definition).find(c=>c.feature===a.name);if(s?.$cstNode){const c=this.nameProvider.getNameNode(s);c&&l.push({sourceUri:nt(s).uri,sourcePath:this.nodeLocator.getAstNodePath(s),targetUri:nt(a).uri,targetPath:this.nodeLocator.getAstNodePath(a),segment:Gr(c),local:we.equals(nt(s).uri,nt(a).uri)})}}else{if(n.feature===a.name){const c=Fr(n.$cstNode,"feature");c&&l.push({sourceUri:nt(n).uri,sourcePath:this.nodeLocator.getAstNodePath(n),targetUri:nt(a).uri,targetPath:this.nodeLocator.getAstNodePath(a),segment:Gr(c),local:we.equals(nt(n).uri,nt(a).uri)})}const s=Ze(n,se);l.push(...this.createReferencesToAttribute(s,a))}return l}findAssignmentDeclaration(n){var a;const l=Ze(n,se),s=pT(n);if(s){const c=this.findActionDeclaration(s,n.feature);if(c)return c}if(!((a=l?.returnType)===null||a===void 0)&&a.ref&&(Yt(l.returnType.ref)||an(l.returnType.ref))){const c=Qs(l.returnType.ref);for(const d of c){const p=d.attributes.find(m=>m.name===n.feature);if(p)return p}}return n}findActionDeclaration(n,a){var l;if(!((l=n.type)===null||l===void 0)&&l.ref){const s=a??n.feature,c=Qs(n.type.ref);for(const d of c){const p=d.attributes.find(m=>m.name===s);if(p)return p}}}findRulesWithReturnType(n){const a=[],l=this.index.findAllReferences(n,this.nodeLocator.getAstNodePath(n));for(const s of l){const c=this.documents.getDocument(s.sourceUri);if(c){const d=this.nodeLocator.getAstNode(c.parseResult.value,s.sourcePath);(se(d)||ft(d))&&a.push(d)}}return a}}class pb extends Lh{constructor(n){super(n),this.documents=n.shared.workspace.LangiumDocuments}collectLocationLinks(n,a){var l,s,c,d,p,m;if(sh(n.astNode)&&((l=lh(n))===null||l===void 0?void 0:l.feature)==="path"){const g=Fa(this.documents,n.astNode);if(g?.$document){const T=(s=this.findTargetObject(g))!==null&&s!==void 0?s:g,b=(d=(c=this.nameProvider.getNameNode(T))===null||c===void 0?void 0:c.range)!==null&&d!==void 0?d:K.Range.create(0,0,0,0),D=(m=(p=T.$cstNode)===null||p===void 0?void 0:p.range)!==null&&m!==void 0?m:K.Range.create(0,0,0,0);return[K.LocationLink.create(g.$document.uri.toString(),D,b,n.range)]}return}return super.collectLocationLinks(n,a)}findTargetObject(n){return n.isDeclared?n:Zy(n).head()}}function gl(o){return"referenceType"in o}function Xs(o){return"elementType"in o}function Ih(o){return"types"in o}function kc(o){return"value"in o}function xc(o){return"primitive"in o}function mb(o){return"string"in o}function yb(o){const n=new Map,a=new Map;for(const l of o.interfaces){const s=new Ws(l.name,l.declared,l.abstract,l.comment);n.set(l.name,s)}for(const l of o.unions){const s=new ab(l.name,{declared:l.declared,dataType:l.dataType,comment:l.comment});a.set(l.name,s)}for(const l of o.interfaces){const s=n.get(l.name);for(const c of l.superTypes){const d=n.get(c)||a.get(c);d&&s.superTypes.add(d)}for(const c of l.subTypes){const d=n.get(c)||a.get(c);d&&s.subTypes.add(d)}for(const c of l.properties){const d=hb(c,n,a);s.properties.push(d)}}for(const l of o.unions){const s=a.get(l.name);s.type=pl(l.type,s,n,a)}return{interfaces:Array.from(n.values()),unions:Array.from(a.values())}}function hb(o,n,a){const l={name:o.name,optional:o.optional,astNodes:o.astNodes,type:pl(o.type,void 0,n,a),comment:o.comment};return o.defaultValue!==void 0?l.defaultValue=o.defaultValue:Zh(l.type)?l.defaultValue=!1:Ln(l.type)&&(l.defaultValue=[]),l}function pl(o,n,a,l){if(Xs(o))return{elementType:pl(o.elementType,n,a,l)};if(gl(o))return{referenceType:pl(o.referenceType,void 0,a,l)};if(Ih(o))return{types:o.types.map(s=>pl(s,n,a,l))};if(mb(o))return{string:o.string};if(xc(o))return{primitive:o.primitive,regex:o.regex};if(kc(o)){const s=a.get(o.value)||l.get(o.value);return s?(n&&n.subTypes.add(s),{value:s}):{primitive:"unknown"}}else throw new Error("Invalid property type")}function Wh(o,n){const{union:a,array:l}=vl(o),{union:s,array:c}=vl(n),d=qy(a,s),p=qy(l,c);return p.length>0&&d.push({elementType:p.length===1?p[0]:{types:p}}),d.length===1?d[0]:{types:d}}function qy(o,n){const a=[...o];for(const l of n)gb(a,l)||a.push(l);return a}function gb(o,n){return o.some(a=>Ec(a,n))}function Ec(o,n){return Xs(o)&&Xs(n)?Ec(o.elementType,n.elementType):gl(o)&&gl(n)?Ec(o.referenceType,n.referenceType):kc(o)&&kc(n)?o.value===n.value:xc(o)&&xc(n)?o.primitive===n.primitive:!1}function vl(o){if(Ih(o)){const n=o.types.flatMap(a=>vl(a));return{union:n.map(a=>a.union).flat(),array:n.map(a=>a.array).flat()}}else return Xs(o)?{array:vl(o.elementType).union,union:[]}:{array:[],union:[o]}}class vb{constructor(n,a){this.context=n,this.root=a}getTypes(){return this.iterate(this.root,[{alt:{name:this.root.name,properties:this.root.properties,ruleCalls:this.root.ruleCalls,super:[]},current:this.root,next:this.root.children}])}iterate(n,a){const l=a.filter(s=>s.next.length===0);do{const s=this.recurse(n,a),c=[];for(const d of s)d.next.length>0?c.push(d):l.push(d);a=c}while(a.length>0);return l}recurse(n,a,l){var s;const c=[];for(const m of a){const h=m.current;if(h!==l&&h.children.length>0){const g=this.applyNext(n,m),T=this.recurse(n,g,(s=h.end)!==null&&s!==void 0?s:l);c.push(...T)}else c.push(m)}const d=new Ve;for(const m of c)d.add(m.current,m);const p=[];for(const[m,h]of d.entriesGroupedByKey())p.push(...Jc(h,m));return p}applyNext(n,a){const l=this.splitType(a.alt,a.next.length),s=[];for(let c=0;c<a.next.length;c++){const d=l[c],p=a.next[c];p.actionWithAssignment&&s.push({alt:Gy(d),current:p,next:[],comment:d.comment}),p.name!==void 0&&p.name!==d.name&&(p.actionWithAssignment?(d.properties=[],d.ruleCalls=[],d.super=[n.name],d.name=p.name):(d.super=[d.name,...d.ruleCalls],d.properties=[],d.ruleCalls=[],d.name=p.name)),d.properties.push(...p.properties),d.ruleCalls.push(...p.ruleCalls);const m={alt:d,current:p,next:p.children,comment:d.comment};m.alt.super=m.alt.super.filter(h=>h!==m.alt.name),s.push(m)}return s}splitType(n,a){const l=[];for(let s=0;s<a;s++)l.push(Gy(n));return l}getSuperTypes(n){const a=new Set;return this.collectSuperTypes(n,n,a),Array.from(a)}collectSuperTypes(n,a,l){if(a.ruleCalls.length>0){for(const s of a.ruleCalls)l.add(s);return}for(const s of a.parents)n.name===void 0?this.collectSuperTypes(s,s,l):s.name!==void 0&&s.name!==n.name?l.add(s.name):this.collectSuperTypes(n,s,l);a.parents.length===0&&a.name&&l.add(a.name)}connect(n,a){return a.parents.push(n),n.children.push(a),a}merge(...n){if(n.length===1)return n[0];if(n.length===0)throw new Error("No parts to merge");const a=cr();a.parents=n;for(const l of n)l.children.push(a);return a}hasLeafNode(n){return this.partHasLeafNode(n)}partHasLeafNode(n,a){return n.children.some(l=>l!==a)?!0:n.name?!1:n.parents.some(l=>this.partHasLeafNode(l,n))}}function Tb(o){return{name:o.name,children:[],parents:[],actionWithAssignment:o.actionWithAssignment,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(Jh)}}function Gy(o){return{name:o.name,super:o.super,ruleCalls:o.ruleCalls.slice(),properties:o.properties.map(n=>Jh(n)),comment:o.comment}}function Jh(o){return{name:o.name,optional:o.optional,type:o.type,astNodes:o.astNodes,comment:o.comment}}function Rb(o,n,a,l){const s=l?.documentation.CommentProvider,c=[],d={fragments:new Map};for(const g of o){const T=s?.getComment(g);c.push(...eg(d,g,l).map(b=>Object.assign(Object.assign({},b),{comment:T})))}const p=Nb(c),m=_b(p),h=$b(p,m,a);for(const g of n){const T=bb(g);h.unions.push({name:g.name,declared:!1,type:T,subTypes:new Set,superTypes:new Set,dataType:g.dataType,comment:s?.getComment(g)})}return h}function bb(o){if(o.dataType&&o.dataType!=="string")return{primitive:o.dataType};let n=!1;const a=()=>(n=!0,{primitive:"unknown"}),l=Mc(o.definition,a);return n?{primitive:"string"}:l}function Mc(o,n){var a,l,s;if(o.cardinality)return n();if(nn(o))return{types:o.elements.map(c=>Mc(c,n))};if(tn(o)||pr(o))return o.elements.length!==1?n():Mc(o.elements[0],n);if(lt(o)){const c=(a=o.rule)===null||a===void 0?void 0:a.ref;if(c)if(pt(c)){let d;try{d=qc(c).toString()}catch{d=void 0}return{primitive:(s=(l=c.type)===null||l===void 0?void 0:l.name)!==null&&s!==void 0?s:"string",regex:d}}else return{value:c.name};else return n()}else if(Hn(o))return{string:o.value};return n()}function eg(o,n,a){var l;const s=cr(n),c=new vb(o,s);return n.definition&&(s.end=zc(c,c.root,n.definition,a)),Jc(c.getTypes(),(l=s.end)!==null&&l!==void 0?l:cr())}function cr(o){return{name:se(o)||ft(o)?Kr(o):o,properties:[],ruleCalls:[],children:[],parents:[],actionWithAssignment:!1}}function zc(o,n,a,l){const s=On(a.cardinality,a);if(nn(a)){const c=[];s&&c.push(o.connect(n,cr()));for(const p of a.elements){const m=o.connect(n,cr());c.push(zc(o,m,p,l))}const d=o.merge(...c);return n.end=d,d}else if(tn(a)||pr(a)){let c=o.connect(n,cr()),d;s&&(d=o.connect(n,cr()));for(const p of a.elements)c=zc(o,c,p,l);if(d){const p=o.merge(d,c);return n.end=p,p}else return c}else{if(ft(a))return Sb(o,n,a,l);mt(a)?Db(n,a,l):lt(a)&&Cb(o,n,a,l)}return n}function Sb(o,n,a,l){var s;const c=l?.documentation.CommentProvider;if(!o.hasLeafNode(n)){const p=Tb(n);o.connect(n,p)}const d=o.connect(n,cr(a));if(a.type){const p=(s=a.type)===null||s===void 0?void 0:s.ref;p&&eh(p)&&(d.name=p.name)}return a.feature&&a.operator&&(d.actionWithAssignment=!0,d.properties.push({name:a.feature,optional:!1,type:jr(a.operator==="+=",!1,o.root.ruleCalls.length!==0?o.root.ruleCalls:o.getSuperTypes(d)),astNodes:new Set([a]),comment:c?.getComment(a)})),d}function Db(o,n,a){const l=a?.documentation.CommentProvider,s={types:new Set,reference:!1};tg(n.terminal,s);const c=jr(n.operator==="+=",s.reference,n.operator==="?="?["boolean"]:Array.from(s.types));o.properties.push({name:n.feature,optional:On(n.cardinality),type:c,astNodes:new Set([n]),comment:l?.getComment(n)})}function tg(o,n){if(nn(o)||pr(o)||tn(o))for(const a of o.elements)tg(a,n);else if(Hn(o))n.types.add(`'${o.value}'`);else if(lt(o)&&o.rule.ref)n.types.add(Gc(o.rule.ref));else if(Br(o)&&o.type.ref){const a=Kr(o.type.ref);a&&n.types.add(a),n.reference=!0}}function Cb(o,n,a,l){const s=a.rule.ref;if(se(s)&&s.fragment){const c=Ab(s,o.context,l);On(a.cardinality)?n.properties.push(...c.map(d=>Object.assign(Object.assign({},d),{optional:!0}))):n.properties.push(...c)}else se(s)&&n.ruleCalls.push(Gc(s))}function Ab(o,n,a){const l=n.fragments.get(o);if(l)return l;const s=[];n.fragments.set(o,s);const c=Kr(o),d=eg(n,o,a).filter(p=>p.alt.name===c);return s.push(...d.flatMap(p=>p.alt.properties)),s}function Nb(o){const n=new Map,a=[],l=o.length>0?Jc(o,o[0].current).map(s=>s.alt):[];for(const s of l){const c={name:s.name,properties:s.properties,superTypes:new Set(s.super),subTypes:new Set,declared:!1,abstract:!1,comment:s.comment};n.set(c.name,c),s.ruleCalls.length>0&&(a.push(s),s.ruleCalls.forEach(d=>{d!==c.name&&c.subTypes.add(d)}))}for(const s of a)for(const c of s.ruleCalls){const d=n.get(c);d&&d.name!==s.name&&d.superTypes.add(s.name)}return Array.from(n.values())}function Jc(o,n){var a,l,s;const c=o.reduce((p,m)=>p.add(m.alt.name,m),new Ve),d=[];for(const[p,m]of c.entriesGroupedByKey()){const h=[],g=new Set,T={alt:{name:p,properties:h,ruleCalls:[],super:[]},next:[],current:n};for(const b of m){const D=b.alt;(a=T.comment)!==null&&a!==void 0||(T.comment=b.comment),(l=(s=T.alt).comment)!==null&&l!==void 0||(s.comment=b.comment),T.alt.super.push(...D.super),T.next.push(...b.next);const H=D.properties;for(const B of H){const q=h.find(F=>F.name===B.name);q?(q.type=Wh(q.type,B.type),B.astNodes.forEach(F=>q.astNodes.add(F))):h.push(Object.assign({},B))}D.ruleCalls.forEach(B=>g.add(B))}for(const b of m){T.next=Array.from(new Set(T.next));const D=b.alt;if(D.ruleCalls.length===0)for(const H of h)D.properties.find(B=>B.name===H.name)||(H.optional=!0)}T.alt.ruleCalls=Array.from(g),d.push(T)}return d}function _b(o){const n=new Map(o.map(s=>[s.name,s])),a=[],l=new Ve;for(const s of o)for(const c of s.superTypes)l.add(c,s.name);for(const[s,c]of l.entriesGroupedByKey())if(!n.has(s)){const d={declared:!1,name:s,subTypes:new Set,superTypes:new Set,type:jr(!1,!1,c)};a.push(d)}return a}function $b(o,n,a){const l=new Ve;for(const p of o)for(const m of p.superTypes)l.add(m,p.name);const s=new Set(a.interfaces.map(p=>p.name)),c={interfaces:[],unions:n},d=new Map(n.map(p=>[p.name,p]));for(const p of o){const m=new Set(l.get(p.name));if(p.properties.length===0&&m.size>0)if(s.has(p.name))p.abstract=!0,c.interfaces.push(p);else{const h=jr(!1,!1,Array.from(m)),g=d.get(p.name);if(g)g.type=Wh(g.type,h);else{const T={name:p.name,declared:!1,subTypes:m,superTypes:p.superTypes,type:h,comment:p.comment};c.unions.push(T),d.set(p.name,T)}}else c.interfaces.push(p)}for(const p of c.interfaces)p.superTypes=new Set([...p.superTypes].filter(m=>!d.has(m)));return c}function jr(o,n,a){if(o)return{elementType:jr(!1,n,a)};if(n)return{referenceType:jr(!1,!1,a)};if(a.length===1){const l=a[0];return l.startsWith("'")?{string:l.substring(1,l.length-1)}:ef(l)?{primitive:l}:{value:l}}else return{types:a.map(l=>jr(!1,!1,[l]))}}function wb(o,n,a){const l=a?.documentation.CommentProvider,s={unions:[],interfaces:[]};for(const c of o){const d=[];for(const h of c.attributes){const g={name:h.name,optional:h.isOptional,astNodes:new Set([h]),type:Ka(h.type),comment:l?.getComment(h)};h.defaultValue&&(g.defaultValue=ng(h.defaultValue)),d.push(g)}const p=new Set;for(const h of c.superTypes)h.ref&&p.add(Lc(h.ref));const m={name:c.name,declared:!0,abstract:!1,properties:d,superTypes:p,subTypes:new Set,comment:l?.getComment(c)};s.interfaces.push(m)}for(const c of n){const d={name:c.name,declared:!0,type:Ka(c.type),superTypes:new Set,subTypes:new Set,comment:l?.getComment(c)};s.unions.push(d)}return s}function ng(o){return oh(o)?o.true:uh(o)?o.elements.map(ng):o.value}function Ka(o){if(jc(o))return{elementType:Ka(o.elementType)};if(Kc(o))return{referenceType:Ka(o.referenceType)};if(Qa(o))return{types:o.types.map(Ka)};if(Yr(o)){let n;if(o.primitiveType)return n=o.primitiveType,{primitive:n};if(o.stringType)return n=o.stringType,{string:n};if(o.typeRef){const a=o.typeRef.ref,l=Kr(a);if(l)return ef(l)?{primitive:l}:{value:l}}}return{primitive:"unknown"}}function rg(o,n){const a=ag(o,void 0,void 0,n),l=wb(a.interfaces,a.types,n),s=Rb(a.parserRules,a.datatypeRules,l,n);return{astResources:a,inferred:s,declared:l}}function ag(o,n=new Set,a={parserRules:[],datatypeRules:[],interfaces:[],types:[]},l){Array.isArray(o)||(o=[o]);for(const s of o){const c=nt(s);if(n.has(c.uri))continue;n.add(c.uri);for(const p of s.rules)se(p)&&!p.fragment&&(En(p)?a.datatypeRules.push(p):a.parserRules.push(p));s.interfaces.forEach(p=>a.interfaces.push(p)),s.types.forEach(p=>a.types.push(p));const d=l?.shared.workspace.LangiumDocuments;if(d){const p=s.imports.map(m=>Fa(d,m)).filter(m=>m!==void 0);ag(p,n,a,l)}}return a}function kb(o,n){const{inferred:a,declared:l}=rg(o,n);return Uc(a,l)}function xb(o,n){const{inferred:a,declared:l,astResources:s}=rg(o,n);return{astResources:s,inferred:Uc(l,a),declared:Uc(a,l)}}function Uc(o,n){var a,l;const s={interfaces:ob(jy(...o.interfaces,...(a=n?.interfaces)!==null&&a!==void 0?a:[])),unions:jy(...o.unions,...(l=n?.unions)!==null&&l!==void 0?l:[])},c=yb(s);return Eb(c),c}function jy(...o){return Array.from(o.reduce((n,a)=>(n.set(a.name,a),n),new Map).values()).sort((n,a)=>n.name.localeCompare(a.name))}function Eb(o){const n=zb(o),a=Array.from(n.values());Ub(a),Ob(o.interfaces),Mb(a)}function Mb(o){const n=new Set,a=l=>{if(!n.has(l)){n.add(l),l.typeNames.add(l.name);for(const s of l.subTypes)a(s),s.typeNames.forEach(c=>l.typeNames.add(c))}};o.forEach(a)}function zb({interfaces:o,unions:n}){const a=o.concat(n).reduce((s,c)=>(s.set(c.name,c),s),new Map),l=new Map;for(const s of n)l.set(s,Oc(s.type,new Set));for(const[s,c]of l)c&&a.delete(s.name);return a}function Oc(o,n){if(n.has(o))return!0;if(n.add(o),Ie(o))return o.types.every(a=>Oc(a,n));if(Pt(o)){const a=o.value;return Un(a)?Oc(a.type,n):!1}else return Dt(o)||rn(o)}function Ub(o){for(const n of o)for(const a of n.superTypes)a.subTypes.add(n)}function Ob(o){var n;const a=o.reduce((d,p)=>(d.set(p.name,p),d),new Map);for(const d of o){const p=d.properties.flatMap(m=>ub(m.type));for(const m of p)(n=a.get(m))===null||n===void 0||n.containerTypes.add(d)}const l=new Set,s=o.filter(d=>d.subTypes.size===0),c=new Set(s);for(;s.length>0;){const d=s.shift();if(d)for(const p of d.superTypes)mn(p)&&(d.containerTypes.size===0?(l.add(p.name),p.containerTypes.clear()):l.has(p.name)||d.containerTypes.forEach(m=>p.containerTypes.add(m)),c.has(p)||(c.add(p),s.push(p)))}}class Hb{constructor(n){this.services=n}collectValidationResources(n){try{const a=xb(n,this.services);return{typeToValidationInfo:this.collectValidationInfo(a),typeToSuperProperties:this.collectSuperProperties(a)}}catch(a){return console.error("Error collecting validation resources",a),{typeToValidationInfo:new Map,typeToSuperProperties:new Map}}}collectValidationInfo({astResources:n,inferred:a,declared:l}){const s=new Map,c=Lb(n);for(const p of _c(a))s.set(p.name,{inferred:p,inferredNodes:c.get(p.name)});const d=Mt(n.interfaces).concat(n.types).reduce((p,m)=>p.set(m.name,m),new Map);for(const p of _c(l)){const m=d.get(p.name);if(m){const h=s.get(p.name);s.set(p.name,Object.assign(Object.assign({},h??{}),{declared:p,declaredNode:m}))}}return s}collectSuperProperties({inferred:n,declared:a}){const l=new Map,s=Ly(n,a),c=new Map(s.map(d=>[d.name,d]));for(const d of Ly(n,a))l.set(d.name,this.addSuperProperties(d,c,new Set));return l}addSuperProperties(n,a,l){if(l.has(n.name))return[];l.add(n.name);const s=[...n.properties];for(const c of n.superTypes){const d=a.get(c.name);d&&s.push(...this.addSuperProperties(d,a,l))}return s}}function Lb({parserRules:o,datatypeRules:n}){const a=new Ve;Mt(o).concat(n).forEach(s=>a.add(Gc(s),s));function l(s){if(ft(s)){const c=mT(s);c&&a.add(c,s)}(nn(s)||tn(s)||pr(s))&&s.elements.forEach(c=>l(c))}return o.forEach(s=>l(s.definition)),a}function ig(o){return o&&"declared"in o}function qb(o){return o&&"inferred"in o}function Gb(o){return o&&"inferred"in o&&"declared"in o}function jb(o){const n=o.validation.ValidationRegistry,a=o.validation.LangiumGrammarTypesValidator,l={Action:[a.checkActionIsNotUnionType],Grammar:[a.checkDeclaredTypesConsistency,a.checkDeclaredAndInferredTypesConsistency,a.checkAttributeDefaultValue],Interface:[a.checkCyclicInterface],Type:[a.checkCyclicType]};n.register(l,a)}class Kb{checkAttributeDefaultValue(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of n.interfaces){const d=Bb(s,c);for(const[p,m]of d){const h=lg(p.defaultValue);h&&!hl(h,m.type)&&a("error",`Cannot assign default value of type '${Qt(h,"DeclaredType")}' to type '${Qt(m.type,"DeclaredType")}'.`,{node:p,property:"defaultValue"})}}}checkCyclicType(n,a){ur(n,new Set)&&a("error",`Type alias '${n.name}' circularly references itself.`,{node:n,property:"name"})}checkCyclicInterface(n,a){ur(n,new Set)&&a("error",`Type '${n.name}' recursively references itself as a base type.`,{node:n,property:"name"})}checkDeclaredTypesConsistency(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s){for(const c of s.typeToValidationInfo.values())if(ig(c)&&mn(c.declared)&&Yt(c.declaredNode)){const d=c;Yb(d,a),Qb(d,a)}}}checkDeclaredAndInferredTypesConsistency(n,a){var l;const s=(l=n.$document)===null||l===void 0?void 0:l.validationResources;if(s)for(const c of s.typeToValidationInfo.values())qb(c)&&c.inferred instanceof Ws&&Pb(c.inferred,a),Gb(c)&&Zb(c,s,a)}checkActionIsNotUnionType(n,a){an(n.type)&&a("error","Actions cannot create union types.",{node:n,property:"type"})}}function Bb(o,n){const a=[],l=o.typeToValidationInfo.get(n.name);if(l&&ig(l)&&mn(l.declared))for(const s of n.attributes.filter(c=>c.defaultValue)){const c=l.declared.properties.find(d=>d.name===s.name);c&&a.push([s,c])}return a}function lg(o){return oh(o)?{primitive:"boolean"}:yT(o)?{primitive:"number"}:hT(o)?{string:o.value}:uh(o)?{elementType:Fb(o)}:void 0}function Fb(o){if(o.elements.length===0)return;const n=[];for(const a of o.elements){const l=lg(a);l&&(Dt(l)?n.some(s=>Dt(s)&&s.primitive===l.primitive)||n.push(l):rn(l)&&n.some(s=>rn(s)&&s.string===l.string)||n.push(l))}if(n.length!==0)return n.length===1?n[0]:{types:n}}function ur(o,n){var a;if(n.has(o))return!0;if(n.add(o),an(o))return ur(o.type,n);if(Yt(o))return o.superTypes.some(l=>l.ref&&ur(l.ref,new Set(n)));if(Yr(o)){if(!((a=o.typeRef)===null||a===void 0)&&a.ref)return ur(o.typeRef.ref,n)}else{if(Kc(o))return ur(o.referenceType,n);if(jc(o))return ur(o.elementType,n);if(Qa(o))return o.types.some(l=>ur(l,new Set(n)))}return!1}function Pb(o,n){o.properties.forEach(a=>{var l;const s=Bh(a.type);if(s.length>1){const c=p=>mr(p)?"ref":"other",d=c(s[0]);if(s.slice(1).some(p=>c(p)!==d)){const p=(l=a.astNodes.values().next())===null||l===void 0?void 0:l.value;p&&n("error",`Mixing a cross-reference with other types is not supported. Consider splitting property "${a.name}" into two or more different properties.`,{node:p})}}})}function Yb({declared:o,declaredNode:n},a){Array.from(o.superTypes).forEach((l,s)=>{l&&(Un(l)&&a("error","Interfaces cannot extend union types.",{node:n,property:"superTypes",index:s}),l.declared||a("error","Extending an inferred type is discouraged.",{node:n,property:"superTypes",index:s}))})}function Qb({declared:o,declaredNode:n},a){const l=o.properties.reduce((d,p)=>d.add(p.name,p),new Ve);for(const[d,p]of l.entriesGroupedByKey())if(p.length>1)for(const m of p)a("error",`Cannot have two properties with the same name '${d}'.`,{node:Array.from(m.astNodes)[0],property:"name"});const s=Array.from(o.superTypes);for(let d=0;d<s.length;d++)for(let p=d+1;p<s.length;p++){const m=s[d],h=s[p],g=mn(m)?m.superProperties:[],T=mn(h)?h.superProperties:[],b=Xb(g,T);b.length>0&&a("error",`Cannot simultaneously inherit from '${m}' and '${h}'. Their ${b.map(D=>"'"+D+"'").join(", ")} properties are not identical.`,{node:n,property:"name"})}const c=new Set;for(const d of s){const p=mn(d)?d.superProperties:[];for(const m of p)c.add(m.name)}for(const d of o.properties)if(c.has(d.name)){const p=n.attributes.find(m=>m.name===d.name);p&&a("error",`Cannot redeclare property '${d.name}'. It is already inherited from another interface.`,{node:p,property:"name"})}}function Xb(o,n){const a=[];for(const l of o){const s=n.find(c=>c.name===l.name);s&&!Vb(l,s)&&a.push(l.name)}return a}function Vb(o,n){return hl(o.type,n.type)&&hl(n.type,o.type)}function Zb(o,n,a){const{inferred:l,declared:s,declaredNode:c,inferredNodes:d}=o,p=s.name,m=T=>b=>d.forEach(D=>a("error",`${b}${T?` ${T}`:""}.`,D?.inferredType?{node:D?.inferredType,property:"name"}:{node:D,property:ft(D)?"type":"name"})),h=(T,b)=>T.forEach(D=>a("error",b,{node:D,property:mt(D)||ft(D)?"feature":"name"})),g=T=>{d.forEach(b=>{se(b)&&Vs(b.definition).find(H=>H.feature===T)===void 0&&a("error",`Property '${T}' is missing in a rule '${b.name}', but is required in type '${p}'.`,{node:b,property:"parameters"})})};if(Un(l)&&Un(s))Ib(l.type,s.type,m(`in a rule that returns type '${p}'`));else if(mn(l)&&mn(s))Wb(l,s,n,m(`in a rule that returns type '${p}'`),h,g);else{const T=`Inferred and declared versions of type '${p}' both have to be interfaces or unions.`;m()(T),a("error",T,{node:c,property:"name"})}}function Ib(o,n,a){hl(o,n)||a(`Cannot assign type '${Qt(o,"DeclaredType")}' to '${Qt(n,"DeclaredType")}'`)}function Ky(o){return o.optional||Ic(o.type)}function Wb(o,n,a,l,s,c){const d=new Set(o.properties.map(T=>T.name)),p=new Map(o.allProperties.map(T=>[T.name,T])),m=new Map(n.superProperties.map(T=>[T.name,T])),h=T=>{if(Ie(T))return{types:T.types.map(b=>h(b))};if(mr(T))return{referenceType:h(T.referenceType)};if(Ln(T))return{elementType:T.elementType&&h(T.elementType)};if(Pt(T)){const b=a.typeToValidationInfo.get(T.value.name);return b?{value:"declared"in b?b.declared:b.inferred}:T}return T};for(const[T,b]of p.entries()){const D=m.get(T);if(D){const H=Qt(b.type,"DeclaredType"),B=Qt(D.type,"DeclaredType");if(!hl(h(b.type),D.type)&&B!=="unknown"){const F=`The assigned type '${H}' is not compatible with the declared property '${T}' of type '${B}'.`;s(b.astNodes,F)}b.optional&&!Ky(D)&&c(T)}else d.has(T)&&s(b.astNodes,`A property '${T}' is not expected.`)}const g=new Set;for(const[T,b]of m.entries())!p.get(T)&&!Ky(b)&&b.defaultValue===void 0&&g.add(T);if(g.size>0){const T=g.size>1?"Properties":"A property",b=g.size>1?"are expected":"is expected",D=Array.from(g).map(H=>`'${H}'`).sort().join(", ");l(`${T} ${D} ${b}.`)}}const Jb={validation:{LangiumGrammarValidator:o=>new dS(o),ValidationResourcesCollector:o=>new Hb(o),LangiumGrammarTypesValidator:()=>new Kb},lsp:{FoldingRangeProvider:o=>new WR(o),CodeActionProvider:o=>new mS(o),SemanticTokenProvider:o=>new nb(o),Formatter:()=>new tb,DefinitionProvider:o=>new pb(o),CallHierarchyProvider:o=>new TR(o),TypeHierarchyProvider:o=>new bR(o),CompletionProvider:o=>new IR(o)},references:{ScopeComputation:o=>new ZR(o),ScopeProvider:o=>new VR(o),References:o=>new db(o),NameProvider:()=>new rb}};function eS(o,n,a){const l=Fs(Kh(o),tR,n),s=Fs(jh({shared:l}),nR,Jb,a);return tS(l,s),l.ServiceRegistry.register(s),fS(s),jb(s),o.connection||l.workspace.ConfigurationProvider.initialized({}),{shared:l,grammar:s}}function tS(o,n){o.workspace.DocumentBuilder.onDocumentPhase(gT.IndexedReferences,async l=>{const s=n.validation.ValidationResourcesCollector,c=l.parseResult.value;l.validationResources=s.collectValidationResources(c)})}function nS(o,n){let a;yl(o)?a=kb(o,n):a=o;const l=a.interfaces.map(p=>p.name).concat(a.unions.filter(p=>cb(p.type)).map(p=>p.name)),s=aS(a),c=iS(a),d=sb(_c(a)).superTypes;return new rS({allTypes:l,references:s,metaData:c,superTypes:d})}class rS extends vT{constructor(n){super(),this.allTypes=n.allTypes,this.references=n.references,this.metaData=n.metaData,this.superTypes=n.superTypes}getAllTypes(){return this.allTypes}getReferenceType(n){const a=`${n.container.$type}:${n.property}`,l=this.references.get(a);if(l)return l;throw new Error("Could not find reference type for "+a)}getTypeMetaData(n){var a;return(a=this.metaData.get(n))!==null&&a!==void 0?a:{name:n,properties:[]}}computeIsSubtype(n,a){const l=this.superTypes.get(n);for(const s of l)if(this.isSubtype(s,a))return!0;return!1}}function aS(o){const n=new Ve;for(const l of o.interfaces){for(const s of l.properties)for(const c of $c(s.type))n.add(l.name,[s.name,c]);for(const s of l.interfaceSuperTypes){const c=n.get(s.name);n.addAll(l.name,c)}}const a=new Map;for(const[l,[s,c]]of n)a.set(`${l}:${s}`,c);return a}function iS(o){const n=new Map;for(const a of o.interfaces){const l=a.superProperties;n.set(a.name,{name:a.name,properties:lS(l)})}return n}function lS(o){const n=[],a=o.sort((l,s)=>l.name.localeCompare(s.name));for(const l of a){const s={name:l.name,defaultValue:l.defaultValue};n.push(s)}return n}function sS(o){var n;const a=(n=o.returnType)===null||n===void 0?void 0:n.ref;return o.dataType!==void 0||an(a)&&TT(a)}function oS(o){return cl(o,new Set)}function cl(o,n){var a,l;if(n.has(o))return!0;if(n.add(o),se(o)){if(o.dataType)return o.dataType==="string";if(!((a=o.returnType)===null||a===void 0)&&a.ref)return cl(o.returnType.ref,n)}else{if(an(o))return cl(o.type,n);if(jc(o))return!1;if(Kc(o))return!1;if(Qa(o))return o.types.every(s=>cl(s,n));if(Yr(o)){if(o.primitiveType==="string")return!0;if(o.stringType)return!0;if(!((l=o.typeRef)===null||l===void 0)&&l.ref)return cl(o.typeRef.ref,n)}}return!1}function Kr(o){if(o)try{return Lc(o)}catch{return}}function sg(o){if(o.path===void 0||o.path.length===0)return;const n=we.dirname(nt(o).uri);let a=o.path;return a.endsWith(".langium")||(a+=".langium"),we.resolvePath(n,a)}function Fa(o,n){const a=sg(n);if(!a)return;const l=o.getDocument(a);if(!l)return;const s=l.parseResult.value;if(yl(s))return s}function qs(o,n){if(sh(n)){const a=Fa(o,n);if(a){const l=Hc(o,a);return l.push(a),l}return[]}else return Hc(o,n)}function Hc(o,n,a=n,l=new Set,s=new Set){const c=nt(n);if(a!==n&&s.add(n),!l.has(c.uri)){l.add(c.uri);for(const d of n.imports){const p=Fa(o,d);p&&Hc(o,p,a,l,s)}}return Array.from(s)}function Vs(o){return mt(o)?[o]:nn(o)||tn(o)||pr(o)?o.elements.flatMap(n=>Vs(n)):lt(o)&&o.rule.ref?Vs(o.rule.ref.definition):[]}const uS=["string","number","boolean","Date","bigint"];function ef(o){return uS.includes(o)}async function cS(o){var n,a,l,s,c,d;const p=(n=o.grammarServices)!==null&&n!==void 0?n:eS(ey).grammar,m=fr.parse("memory:///grammar.langium"),h=p.shared.workspace.LangiumDocumentFactory,g=typeof o.grammar=="string"?h.fromString(o.grammar,m):nt(o.grammar),T=g.parseResult.value;await p.shared.workspace.DocumentBuilder.build([g],{validation:!1});const D=(a=o.parserConfig)!==null&&a!==void 0?a:{skipValidations:!1},H=(l=o.languageMetaData)!==null&&l!==void 0?l:{caseInsensitive:!1,fileExtensions:[`.${(c=(s=T.name)===null||s===void 0?void 0:s.toLowerCase())!==null&&c!==void 0?c:"unknown"}`],languageId:(d=T.name)!==null&&d!==void 0?d:"UNKNOWN",mode:"development"},B={AstReflection:()=>nS(T)},q={Grammar:()=>T,LanguageMetaData:()=>H,parser:{ParserConfig:()=>D}},F=Fs(Kh(ey),B,o.sharedModule),j=Fs(jh({shared:F}),q,o.module);return F.ServiceRegistry.register(j),j}function fS(o){const n=o.validation.ValidationRegistry,a=o.validation.LangiumGrammarValidator,l={Action:[a.checkAssignmentReservedName],AbstractRule:a.checkRuleName,Assignment:[a.checkAssignmentWithFeatureName,a.checkAssignmentToFragmentRule,a.checkAssignmentTypes,a.checkAssignmentReservedName],ParserRule:[a.checkParserRuleDataType,a.checkRuleParametersUsed,a.checkEmptyParserRule,a.checkParserRuleReservedName,a.checkOperatorMultiplicitiesForMultiAssignments],TerminalRule:[a.checkTerminalRuleReturnType,a.checkHiddenTerminalRule,a.checkEmptyTerminalRule],InferredType:a.checkTypeReservedName,Keyword:a.checkKeyword,UnorderedGroup:a.checkUnorderedGroup,Grammar:[a.checkGrammarName,a.checkEntryGrammarRule,a.checkUniqueRuleName,a.checkUniqueTypeName,a.checkUniqueImportedRules,a.checkDuplicateImportedGrammar,a.checkGrammarHiddenTokens,a.checkGrammarForUnusedRules,a.checkGrammarTypeInfer,a.checkClashingTerminalNames],GrammarImport:a.checkPackageImport,CharacterRange:a.checkInvalidCharacterRange,Interface:[a.checkTypeReservedName,a.checkInterfacePropertyTypes],Type:[a.checkTypeReservedName],TypeAttribute:a.checkTypeReservedName,RuleCall:[a.checkUsedHiddenTerminalRule,a.checkUsedFragmentTerminalRule,a.checkRuleCallParameters,a.checkMultiRuleCallsAreAssigned],TerminalRuleCall:a.checkUsedHiddenTerminalRule,CrossReference:[a.checkCrossReferenceSyntax,a.checkCrossRefNameAssignment,a.checkCrossRefTerminalType,a.checkCrossRefType,a.checkCrossReferenceToTypeUnion],SimpleType:a.checkFragmentsInTypes,ReferenceType:a.checkReferenceTypeUnion,RegexToken:[a.checkInvalidRegexFlags,a.checkDirectlyUsedRegexFlags]};n.register(l,a)}var Se;(function(o){o.GrammarNameUppercase="grammar-name-uppercase",o.RuleNameUppercase="rule-name-uppercase",o.HiddenGrammarTokens="hidden-grammar-tokens",o.UseRegexTokens="use-regex-tokens",o.EntryRuleTokenSyntax="entry-rule-token-syntax",o.CrossRefTokenSyntax="cross-ref-token-syntax",o.ParserRuleToTypeDecl="parser-rule-to-type-decl",o.UnnecessaryFileExtension="unnecessary-file-extension",o.InvalidReturns="invalid-returns",o.InvalidInfers="invalid-infers",o.MissingInfer="missing-infer",o.MissingReturns="missing-returns",o.SuperfluousInfer="superfluous-infer",o.OptionalUnorderedGroup="optional-unordered-group",o.ParsingRuleEmpty="parsing-rule-empty"})(Se||(Se={}));class dS{constructor(n){this.references=n.references.References,this.nodeLocator=n.workspace.AstNodeLocator,this.documents=n.shared.workspace.LangiumDocuments}checkGrammarName(n,a){if(n.name){const l=n.name.substring(0,1);l.toUpperCase()!==l&&a("warning","Grammar name should start with an upper case letter.",{node:n,property:"name",data:pn(Se.GrammarNameUppercase)})}}checkEntryGrammarRule(n,a){if(n.isDeclared&&!n.name)return;const l=n.rules.filter(s=>se(s)&&s.entry);if(n.isDeclared&&l.length===0){const s=n.rules.find(c=>se(c)&&!En(c));s?a("error","The grammar is missing an entry parser rule. This rule can be an entry one.",{node:s,property:"name",data:pn(Se.EntryRuleTokenSyntax)}):a("error","This grammar is missing an entry parser rule.",{node:n,property:"name"})}else!n.isDeclared&&l.length>=1?l.forEach(s=>a("error","Cannot declare entry rules for unnamed grammars.",{node:s,property:"name"})):l.length>1?l.forEach(s=>a("error","The entry rule has to be unique.",{node:s,property:"name"})):l.length===1&&En(l[0])&&a("error","The entry rule cannot be a data type rule.",{node:l[0],property:"name"})}checkUniqueRuleName(n,a){const l=s=>Mt(s.rules).filter(c=>!ul(c));this.checkUniqueName(n,a,l,"rule")}checkUniqueTypeName(n,a){const l=s=>Mt(s.types).concat(s.interfaces);this.checkUniqueName(n,a,l,"type")}checkUniqueName(n,a,l,s){const c=new Ve;l(n).forEach(m=>c.add(m.name,m));for(const[,m]of c.entriesGroupedByKey())m.length>1&&m.forEach(h=>{a("error",`A ${s}'s name has to be unique.`,{node:h,property:"name"})});const d=new Set,p=qs(this.documents,n);for(const m of p)l(m).forEach(h=>d.add(h.name));for(const m of c.keys())d.has(m)&&c.get(m).forEach(g=>{a("error",`A ${s} with the name '${g.name}' already exists in an imported grammar.`,{node:g,property:"name"})})}checkDuplicateImportedGrammar(n,a){const l=new Ve;for(const s of n.imports){const c=Fa(this.documents,s);c&&l.add(c,s)}for(const[,s]of l.entriesGroupedByKey())s.length>1&&s.forEach((c,d)=>{d>0&&a("warning","The grammar is already being directly imported.",{node:c,tags:[fc.Unnecessary]})})}checkUniqueImportedRules(n,a){const l=new Map;for(const c of n.imports){const d=qs(this.documents,c);l.set(c,d)}const s=new Ve;for(const c of n.imports){const d=l.get(c);for(const p of n.imports){if(c===p)continue;const m=l.get(p),h=this.getDuplicateExportedRules(d,m);for(const g of h)s.add(c,g)}}for(const c of n.imports){const d=s.get(c);d.length>0&&a("error","Some rules exported by this grammar are also included in other imports: "+Mt(d).distinct().join(", "),{node:c,property:"path"})}}getDuplicateExportedRules(n,a){const s=n.filter(p=>!a.includes(p)).flatMap(p=>p.rules),c=a.flatMap(p=>p.rules),d=new Set;for(const p of s){const m=p.name;for(const h of c){const g=h.name;m===g&&d.add(h.name)}}return d}checkGrammarTypeInfer(n,a){var l,s,c;const d=new Set;for(const m of n.types)d.add(m.name);for(const m of n.interfaces)d.add(m.name);for(const m of qs(this.documents,n))m.types.forEach(h=>d.add(h.name)),m.interfaces.forEach(h=>d.add(h.name));for(const m of n.rules.filter(se)){if(ul(m))continue;const h=En(m),g=!m.returnType&&!m.dataType,T=Kr(m);if(!h&&T&&d.has(T)===g){if((g||((l=m.returnType)===null||l===void 0?void 0:l.ref)!==void 0)&&m.inferredType===void 0)a("error",p(T,g),{node:m,property:"name",data:pn(Se.MissingReturns)});else if(g||((s=m.returnType)===null||s===void 0?void 0:s.ref)!==void 0){const b=Lr(m.inferredType.$cstNode,"infers");a("error",p(T,g),{node:m.inferredType,property:"name",data:{code:Se.InvalidInfers,actionSegment:Gr(b)}})}}else if(h&&g){const b=Lr(m.$cstNode,"infer");a("error","Data type rules cannot infer a type.",{node:m,property:"inferredType",data:{code:Se.InvalidInfers,actionSegment:Gr(b)}})}}for(const m of zn(n).filter(ft)){const h=this.getActionType(m);if(h){const g=!!m.inferredType,T=Kr(m);if(m.type&&T&&d.has(T)===g){const b=g?Lr(m.$cstNode,"infer"):Lr(m.$cstNode,"{");a("error",p(T,g),{node:m,property:"type",data:{code:g?Se.SuperfluousInfer:Se.MissingInfer,actionSegment:Gr(b)}})}else if(h&&T&&d.has(T)&&g&&m.$cstNode){const b=Fr((c=m.inferredType)===null||c===void 0?void 0:c.$cstNode,"name"),D=Lr(m.$cstNode,"{");b&&D&&a("error",`${T} is a declared type and cannot be redefined.`,{node:m,property:"type",data:{code:Se.SuperfluousInfer,actionRange:{start:D.range.end,end:b.range.start}}})}}}function p(m,h){return h?`The type '${m}' is already explicitly declared and cannot be inferred.`:`The type '${m}' is not explicitly declared and must be inferred.`}}getActionType(n){var a;if(n.type)return(a=n.type)===null||a===void 0?void 0:a.ref;if(n.inferredType)return n.inferredType}checkGrammarHiddenTokens(n,a){n.definesHiddenTokens&&a("error","Hidden terminals are declared at the terminal definition.",{node:n,property:"definesHiddenTokens",data:pn(Se.HiddenGrammarTokens)})}checkHiddenTerminalRule(n,a){n.hidden&&n.fragment&&a("error","Cannot use terminal fragments as hidden tokens.",{node:n,property:"hidden"})}checkEmptyTerminalRule(n,a){try{const l=qc(n);new RegExp(l).test("")&&a("error","This terminal could match an empty string.",{node:n,property:"name"})}catch{}}checkEmptyParserRule(n,a){if(!n.definition||n.entry||n.fragment)return;const l=s=>{var c;return s.cardinality==="?"||s.cardinality==="*"||ft(s)||pr(s)?!1:tn(s)?s.elements.some(l):nn(s)?s.elements.every(l):lt(s)&&(!((c=s.rule.ref)===null||c===void 0)&&c.definition)?l(s.rule.ref.definition):!0};l(n.definition)||a("warning","This parser rule potentially consumes no input.",{node:n,property:"name",code:Se.ParsingRuleEmpty})}checkInvalidRegexFlags(n,a){const l=n.regex;if(l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d="gmy",m=d+"isu",h=new Set,g=new Set;for(let b=0;b<c.length;b++){const D=c.charAt(b);m.includes(D)?d.includes(D)&&g.add(D):h.add(D)}const T=this.getFlagRange(n);T&&(h.size>0?a("error",`'${Array.from(h).join("")}' ${h.size>1?"are":"is"} not valid regular expression flag${h.size>1?"s":""}.`,{node:n,range:T}):g.size>0&&a("warning",`'${Array.from(g).join("")}' regular expression flag${g.size>1?"s":""} will be ignored by Langium.`,{node:n,range:T}))}}checkDirectlyUsedRegexFlags(n,a){const l=n.regex;if(!pt(n.$container)&&l){const s=l.lastIndexOf("/"),c=l.substring(s+1),d=this.getFlagRange(n);d&&c&&a("warning","Regular expression flags are only applied if the terminal is not a composition.",{node:n,range:d})}}getFlagRange(n){const a=Fr(n.$cstNode,"regex");if(!a||!n.regex)return;const l=n.regex,s=l.lastIndexOf("/")+1;return{start:{line:a.range.end.line,character:a.range.end.character-l.length+s},end:a.range.end}}checkUsedHiddenTerminalRule(n,a){const l=Ze(n,s=>pt(s)||se(s));if(l){if("hidden"in l&&l.hidden||n.lookahead)return;const s=ug(n);if(s&&s.lookahead)return;const c=n.rule.ref;pt(c)&&c.hidden&&a("error","Cannot use hidden terminal in non-hidden rule",{node:n,property:"rule"})}}checkUsedFragmentTerminalRule(n,a){const l=n.rule.ref;pt(l)&&l.fragment&&Ze(n,se)&&a("error","Cannot use terminal fragments as part of parser rules.",{node:n,property:"rule"})}checkCrossReferenceSyntax(n,a){n.deprecatedSyntax&&a("error","'|' is deprecated. Please, use ':' instead.",{node:n,property:"deprecatedSyntax",data:pn(Se.CrossRefTokenSyntax)})}checkPackageImport(n,a){Fa(this.documents,n)===void 0?a("error","Import cannot be resolved.",{node:n,property:"path"}):n.path.endsWith(".langium")&&a("warning","Imports do not need file extensions.",{node:n,property:"path",data:pn(Se.UnnecessaryFileExtension)})}checkInvalidCharacterRange(n,a){if(n.right){const l="Character ranges cannot use more than one character";let s=!1;n.left.value.length>1&&(s=!0,a("error",l,{node:n.left,property:"value"})),n.right.value.length>1&&(s=!0,a("error",l,{node:n.right,property:"value"})),s||a("hint","Consider using regex instead of character ranges",{node:n,data:pn(Se.UseRegexTokens)})}}checkGrammarForUnusedRules(n,a){const l=RT(n,!0),s=bT(n);for(const c of n.rules)pt(c)&&c.hidden||ul(c)||l.has(c)||(se(c)&&s.has(c)?a("hint","This parser rule is not used for parsing, but referenced by cross-references. Consider to replace this rule by a type declaration.",{node:c,data:pn(Se.ParserRuleToTypeDecl)}):a("hint","This rule is declared but never referenced.",{node:c,property:"name",tags:[fc.Unnecessary]}))}checkClashingTerminalNames(n,a){const l=new Ve,s=new Set;for(const h of n.rules)pt(h)&&h.name&&l.add(h.name,h),se(h)&&zn(h).filter(Hn).forEach(T=>s.add(T.value));const c=new Ve,d=new Ve;for(const h of n.imports){const g=qs(this.documents,h);for(const T of g)for(const b of T.rules)pt(b)&&b.name?c.add(b.name,h):se(b)&&b.name&&zn(b).filter(Hn).forEach(H=>d.add(H.value,h))}for(const h of l.values())if(s.has(h.name))a("error","Terminal name clashes with existing keyword.",{node:h,property:"name"});else if(d.has(h.name)){const g=d.get(h.name);a("error",`Terminal name clashes with imported keyword from "${g[0].path}".`,{node:h,property:"name"})}const p=new Ve;for(const h of s)for(const g of c.get(h))p.add(g,h);for(const[h,g]of p.entriesGroupedByKey())g.length>0&&a("error",`Imported terminals (${g.join(", ")}) clash with locally defined keywords.`,{node:h,property:"path"});const m=new Ve;for(const[h,g]of c.entriesGroupedByKey()){const T=d.get(h);T.length>0&&g.filter(b=>!T.includes(b)).forEach(b=>m.add(b,h))}for(const[h,g]of m.entriesGroupedByKey())g.length>0&&a("error",`Imported terminals (${g.join(", ")}) clash with imported keywords.`,{node:h,property:"path"})}checkRuleName(n,a){if(n.name&&!ul(n)){const l=n.name.substring(0,1);l.toUpperCase()!==l&&a("warning","Rule name should start with an upper case letter.",{node:n,property:"name",data:pn(Se.RuleNameUppercase)})}}checkMultiRuleCallsAreAssigned(n,a){const l=m=>{let h=m;for(;h!==void 0&&!(Bs(h)&&(h.cardinality==="+"||h.cardinality==="*"));)h=h.$container;return h},s=n.rule.ref;if(!s||pt(s)||s.fragment||En(s))return;const c=Ze(n,se);if(!c||En(c))return;const d=l(n)!==void 0,p=Ze(n,mt)!==void 0;d&&!p&&a("error",`Rule call '${s.name}' requires assignment when parsed multiple times.`,{node:n})}checkTypeReservedName(n,a){this.checkReservedName(n,"name",a)}checkAssignmentReservedName(n,a){this.checkReservedName(n,"feature",a)}checkParserRuleReservedName(n,a){n.inferredType||this.checkReservedName(n,"name",a)}checkReservedName(n,a,l){const s=n[a];typeof s=="string"&&pS.has(s)&&l("error",`'${s}' is a reserved name of the JavaScript runtime.`,{node:n,property:a})}checkKeyword(n,a){Ze(n,se)&&(n.value.length===0?a("error","Keywords cannot be empty.",{node:n}):n.value.trim().length===0?a("error","Keywords cannot only consist of whitespace characters.",{node:n}):/\s/g.test(n.value)&&a("warning","Keywords should not contain whitespace characters.",{node:n}))}checkUnorderedGroup(n,a){n.elements.forEach(l=>{On(l.cardinality)&&a("error","Optional elements in Unordered groups are currently not supported",{node:l,data:pn(Se.OptionalUnorderedGroup)})})}checkRuleParametersUsed(n,a){const l=n.parameters;if(l.length>0){const s=zn(n).filter(ah);for(const c of l)s.some(d=>d.parameter.ref===c)||a("hint",`Parameter '${c.name}' is unused.`,{node:c,tags:[fc.Unnecessary]})}}checkParserRuleDataType(n,a){if(ul(n))return;const l=sS(n),s=En(n);!l&&s?a("error","This parser rule does not create an object. Add a primitive return type or an action to the start of the rule to force object instantiation.",{node:n,property:"name"}):l&&!s&&a("error","Normal parser rules are not allowed to return a primitive value. Use a datatype rule for that.",{node:n,property:n.dataType?"dataType":"returnType"})}checkAssignmentToFragmentRule(n,a){n.terminal&&lt(n.terminal)&&se(n.terminal.rule.ref)&&n.terminal.rule.ref.fragment&&a("error",`Cannot use fragment rule '${n.terminal.rule.ref.name}' for assignment of property '${n.feature}'.`,{node:n,property:"terminal"})}checkAssignmentTypes(n,a){if(!n.terminal)return;let l;zn(n.terminal).map(c=>Br(c)?"ref":"other").find(c=>l?c!==l:(l=c,!1))&&a("error",this.createMixedTypeError(n.feature),{node:n,property:"terminal"})}checkOperatorMultiplicitiesForMultiAssignments(n,a){n.dataType||this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent([n.definition],a)}checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n,a,l=new Map){this.checkOperatorMultiplicitiesForMultiAssignmentsNested(n,1,l,a);for(const s of l.values())if(s.counter>=2)for(const c of s.assignments)c.operator!=="+="&&a("warning",`Found multiple assignments to '${c.feature}' with the '${c.operator}' assignment operator. Consider using '+=' instead to prevent data loss.`,{node:c,property:"feature"})}checkOperatorMultiplicitiesForMultiAssignmentsNested(n,a,l,s){let c=!1;for(let d=0;d<n.length;d++){const p=n[d];if(ft(p)&&p.feature){const h=new Map;By(h,p.feature,1,p),this.checkOperatorMultiplicitiesForMultiAssignmentsIndependent(n.slice(d+1),s,h),c=!0;break}let m=a;if(Bs(p)&&Vy(p.cardinality)&&(m*=2),mt(p)&&By(l,p.feature,m,p),lt(p)&&se(p.rule.ref)&&p.rule.ref.fragment&&(c=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([p.rule.ref.definition],m,l,s)||c),tn(p)||pr(p)){const h=new Map,g=this.checkOperatorMultiplicitiesForMultiAssignmentsNested(p.elements,1,h,s);bc(h,l,g?(T,b)=>T+b:(T,b)=>T*m+b),c=g||c}if(nn(p)){const h=new Map;let g=0;for(const T of p.elements){const b=new Map,D=this.checkOperatorMultiplicitiesForMultiAssignmentsNested([T],1,b,s);bc(b,h,D?(H,B)=>Math.max(H,B):(H,B)=>Math.max(H*m,B)),D&&g++}bc(h,l),g===p.elements.length&&(c=!0)}}return c}checkInterfacePropertyTypes(n,a){for(const l of n.attributes)if(l.type){const s=Ka(l.type),c=vl(s);let d=!1,p=!1;for(const m of c.union.concat(c.array))gl(m)?d=!0:gl(m)||(p=!0);d&&p&&a("error",this.createMixedTypeError(l.name),{node:l,property:"type"})}}createMixedTypeError(n){return`Mixing a cross-reference with other types is not supported. Consider splitting property "${n}" into two or more different properties.`}checkTerminalRuleReturnType(n,a){var l;!((l=n.type)===null||l===void 0)&&l.name&&!ef(n.type.name)&&a("error","Terminal rules can only return primitive types like 'string', 'boolean', 'number', 'Date' or 'bigint'.",{node:n.type,property:"name"})}checkRuleCallParameters(n,a){const l=n.rule.ref;if(se(l)){const s=l.parameters.length,c=n.arguments.length;s!==c&&a("error",`Rule '${l.name}' expects ${s} arguments, but got ${c}.`,{node:n})}else pt(l)&&n.arguments.length>0&&a("error","Terminal rules do not accept any arguments",{node:n})}checkCrossRefNameAssignment(n,a){!n.terminal&&n.type.ref&&!ST(n.type.ref)&&a("error","Cannot infer terminal or data type rule for cross-reference.",{node:n,property:"type"})}checkCrossRefTerminalType(n,a){var l;const s=n.terminal;if(lt(s)){const c=s.rule.ref;se(c)&&!En(c)?a("error","Parser rules cannot be used for cross-references.",{node:s,property:"rule"}):se(c)&&!oS(c)?a("error","Data type rules for cross-references must be of type string.",{node:s,property:"rule"}):pt(c)&&(!((l=c.type)===null||l===void 0)&&l.name)&&c.type.name!=="string"&&a("error","Terminal rules for cross-references must be of type string.",{node:s,property:"rule"})}}checkCrossRefType(n,a){const l=this.checkReferenceToRuleButNotType(n?.type);l&&a("error",l,{node:n,property:"type"})}checkCrossReferenceToTypeUnion(n,a){if(an(n.type.ref)&&Qa(n.type.ref.type)){const l=og(n.type.ref.type);l.length>0&&a("error",`Cross-reference on type union is only valid if all alternatives are AST nodes. ${l.join(", ")} ${l.length>1?"are":"is"} not ${l.length>1?"":"an "}AST node${l.length>1?"s":""}.`,{node:n,property:"type"})}}checkFragmentsInTypes(n,a){var l,s;se((l=n.typeRef)===null||l===void 0?void 0:l.ref)&&(!((s=n.typeRef)===null||s===void 0)&&s.ref.fragment)&&a("error","Cannot use rule fragments in types.",{node:n,property:"typeRef"})}checkReferenceTypeUnion(n,a){Yr(n.referenceType)||a("error","Only direct rule references are allowed in reference types.",{node:n,property:"referenceType"})}checkReferenceToRuleButNotType(n){if(n&&se(n.ref)&&!En(n.ref)&&(n.ref.returnType||n.ref.inferredType)){const a=Kr(n.ref);if(a)return`Use the rule type '${a}' instead of the typed rule name '${n.ref.name}' for cross-references.`}}checkAssignmentWithFeatureName(n,a){n.feature==="name"&&Br(n.terminal)&&a("warning",'The "name" property is not recommended for cross-references.',{node:n,property:"feature"})}}function ul(o){return!o.definition||!o.definition.$cstNode||o.definition.$cstNode.length===0}const pS=new Set(["Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","Map","Set","WeakMap","WeakSet","Error","AggregateError","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","BigInt","RegExp","Number","Object","Function","Symbol","String","Math","NaN","Infinity","isFinite","isNaN","Buffer","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","globalThis","decodeURIComponent","decodeURI","encodeURIComponent","encodeURI","parseInt","parseFloat","Promise","Generator","GeneratorFunction","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Reflect","Proxy","Date","Intl","eval","undefined","langium"]);function og(o){const n=[];return o.types.forEach(a=>{var l;Yr(a)&&(!((l=a.typeRef)===null||l===void 0)&&l.ref?an(a.typeRef.ref)&&(Qa(a.typeRef.ref.type)?n.push(...og(a.typeRef.ref.type)):n.push(a.typeRef.ref.name)):a.stringType?n.push(`"${a.stringType}"`):a.primitiveType&&n.push(a.primitiveType))}),Array.from(new Set(n))}function ug(o){const n=Ze(o,DT);if(n)return n.lookahead?n:ug(n.$container)}function By(o,n,a,...l){let s=o.get(n);s||(s={assignments:new Set,counter:0},o.set(n,s)),l.forEach(c=>s.assignments.add(c)),s.counter+=a}function bc(o,n,a=(l,s)=>l+s){for(const[l,s]of o.entries()){const c=n.get(l);c?(s.assignments.forEach(d=>c.assignments.add(d)),c.counter=a(s.counter,c.counter)):(n.set(l,s),s.counter=a(s.counter,0))}o.clear()}class mS{constructor(n){this.reflection=n.shared.AstReflection,this.indexManager=n.shared.workspace.IndexManager}getCodeActions(n,a){const l=[],s=c=>c&&l.push(c);for(const c of a.context.diagnostics)this.createCodeActions(c,n,s);return l}createCodeActions(n,a,l){var s;switch((s=n.data)===null||s===void 0?void 0:s.code){case Se.GrammarNameUppercase:case Se.RuleNameUppercase:l(this.makeUpperCase(n,a));break;case Se.HiddenGrammarTokens:l(this.fixHiddenTerminals(n,a));break;case Se.UseRegexTokens:l(this.fixRegexTokens(n,a));break;case Se.EntryRuleTokenSyntax:l(this.addEntryKeyword(n,a));break;case Se.CrossRefTokenSyntax:l(this.fixCrossRefSyntax(n,a));break;case Se.ParserRuleToTypeDecl:l(this.replaceParserRuleByTypeDeclaration(n,a));break;case Se.UnnecessaryFileExtension:l(this.fixUnnecessaryFileExtension(n,a));break;case Se.MissingReturns:l(this.fixMissingReturns(n,a));break;case Se.InvalidInfers:case Se.InvalidReturns:l(this.fixInvalidReturnsInfers(n,a));break;case Se.MissingInfer:l(this.fixMissingInfer(n,a));break;case Se.SuperfluousInfer:l(this.fixSuperfluousInfer(n,a));break;case CT.LinkingError:{const c=n.data;c&&c.containerType==="RuleCall"&&c.property==="rule"&&l(this.addNewRule(n,c,a)),c&&this.lookInGlobalScope(n,c,a).forEach(l);break}}}fixMissingReturns(n,a){const l=a.textDocument.getText(n.range);if(l)return{title:`Add explicit return type for parser rule ${l}`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:`${l} returns ${l}`}]}}}}fixInvalidReturnsInfers(n,a){const l=n.data;if(l&&l.actionSegment){const s=a.textDocument.getText(l.actionSegment.range);return{title:`Correct ${s} usage`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:l.actionSegment.range,newText:s==="infers"?"returns":"infers"}]}}}}}fixMissingInfer(n,a){const l=n.data;if(l&&l.actionSegment)return{title:"Correct 'infer' usage",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:{start:l.actionSegment.range.end,end:l.actionSegment.range.end},newText:"infer "}]}}}}fixSuperfluousInfer(n,a){const l=n.data;if(l&&l.actionRange)return{title:"Remove the 'infer' keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],edit:{changes:{[a.textDocument.uri]:[{range:l.actionRange,newText:""}]}}}}isRuleReplaceable(n){return!n.fragment&&!n.entry&&n.parameters.length===0&&!n.definesHiddenTokens&&!n.wildcard&&!n.returnType&&!n.dataType}replaceRule(n){var a;return((a=n.inferredType)!==null&&a!==void 0?a:n).name}isDefinitionReplaceable(n){return lt(n)?n.arguments.length===0&&se(n.rule.ref)&&this.isRuleReplaceable(n.rule.ref):nn(n)?n.elements.every(a=>this.isDefinitionReplaceable(a)):!1}replaceDefinition(n){if(lt(n)&&n.rule.ref)return n.rule.ref.name;if(nn(n))return n.elements.map(a=>this.replaceDefinition(a)).join(" | ");throw new Error("missing code for "+n)}replaceParserRuleByTypeDeclaration(n,a){const l=a.parseResult.value.$cstNode;if(l){const s=a.textDocument.offsetAt(n.range.start),c=fl(l,s),d=Ze(c?.astNode,se);if(d&&d.$cstNode&&this.isRuleReplaceable(d)&&this.isDefinitionReplaceable(d.definition)){const m=`type ${this.replaceRule(d)} = ${this.replaceDefinition(d.definition)};`;return{title:"Replace with type declaration",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:m}]}}}}}}fixUnnecessaryFileExtension(n,a){const l=Object.assign({},n.range.end);l.character-=1;const s=Object.assign({},l);return s.character-=8,{title:"Remove file extension",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:{start:s,end:l},newText:""}]}}}}makeUpperCase(n,a){const l={start:n.range.start,end:{line:n.range.start.line,character:n.range.start.character+1}};return{title:"First letter to upper case",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:l,newText:a.textDocument.getText(l).toUpperCase()}]}}}}addEntryKeyword(n,a){return{title:"Add entry keyword",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:{start:n.range.start,end:n.range.start},newText:"entry "}]}}}}fixRegexTokens(n,a){const l=a.textDocument.offsetAt(n.range.start),s=a.parseResult.value.$cstNode;if(s){const c=fl(s,l),d=Ze(c?.astNode,AT);if(d&&d.right&&d.$cstNode){const p=d.left.value,m=d.right.value;return{title:"Refactor into regular expression",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:d.$cstNode.range,newText:`/[${ty(p)}-${ty(m)}]/`}]}}}}}}fixCrossRefSyntax(n,a){return{title:"Replace '|' with ':'",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:[{range:n.range,newText:":"}]}}}}fixHiddenTerminals(n,a){const l=a.parseResult.value,s=l.hiddenTokens,c=[],d=Fr(l.$cstNode,"definesHiddenTokens");if(d){const p=d.range.start,m=d.offset,h=l.$cstNode.text.indexOf(")",m)+1;c.push({newText:"",range:{start:p,end:a.textDocument.positionAt(h)}})}for(const p of s){const m=p.ref;if(m&&pt(m)&&!m.hidden&&m.$cstNode){const h=m.$cstNode.range.start;c.push({newText:"hidden ",range:{start:h,end:h}})}}return{title:"Fix hidden terminals",kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!0,edit:{changes:{[a.textDocument.uri]:c}}}}addNewRule(n,a,l){const s=l.textDocument.offsetAt(n.range.start),c=l.parseResult.value.$cstNode;if(c){const d=fl(c,s),p=Ze(d?.astNode,se);if(p&&p.$cstNode)return{title:`Add new rule '${a.refText}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:p.$cstNode.range.end,end:p.$cstNode.range.end},newText:`

`+a.refText+`:
    /* TODO implement rule */ {infer `+a.refText+"};"}]}}}}}lookInGlobalScope(n,a,l){var s,c;const d={container:{$type:a.containerType},property:a.property,reference:{$refText:a.refText}},p=this.reflection.getReferenceType(d),m=this.indexManager.allElements(p).filter(b=>b.name===a.refText),h=[];let g=-1,T=-1;for(const b of m){if(we.equals(b.documentUri,l.uri))continue;const D=yS(l.uri,b.documentUri);let H,B="";const q=l.parseResult.value,F=q.imports.find(j=>j.path&&D<j.path);if(F)H=(s=F.$cstNode)===null||s===void 0?void 0:s.range.start;else if(q.imports.length>0){const j=q.imports[q.imports.length-1].$cstNode.range.end;j&&(H={line:j.line+1,character:0})}else q.rules.length>0&&(H=(c=q.rules[0].$cstNode)===null||c===void 0?void 0:c.range.start,B=`
`);H&&((g<0||D.length<T)&&(g=h.length,T=D.length),h.push({title:`Add import to '${D}'`,kind:K.CodeActionKind.QuickFix,diagnostics:[n],isPreferred:!1,edit:{changes:{[l.textDocument.uri]:[{range:{start:H,end:H},newText:`import '${D}'
${B}`}]}}}))}return g>=0&&(h[g].isPreferred=!0),h}}function yS(o,n){const a=we.dirname(o);let l=we.relative(a,n);return!l.startsWith("./")&&!l.startsWith("../")&&(l="./"+l),l.endsWith(".langium")&&(l=l.substring(0,l.length-8)),l}var Sc,Fy;function hS(){return Fy||(Fy=1,Sc=zh()),Sc}var gS=hS();function vS(o){const n=typeof o;return n==="string"||n==="number"||n==="boolean"||n==="bigint"||o instanceof Date}function TS(o){return o?new Function("return "+o)():{}}const RS=new K.NotificationType("dsl/SetValue"),bS=new gS.NotificationType("dsl/DocumentChange"),SS=()=>({TextEditorWorker:()=>new Worker(new URL(""+new URL("editor.worker-CuoTPPBL.js",import.meta.url).href,import.meta.url),{type:"module"}),TextMateWorker:()=>new Worker(new URL(""+new URL("worker-CDatfVdV.js",import.meta.url).href,import.meta.url),{type:"module"}),OutputLinkDetectionWorker:void 0,LanguageDetectionWorker:void 0,NotebookEditorWorker:void 0,LocalFileSearchWorker:void 0}),cg=o=>{z0({workerLoaders:SS(),logger:o})};function tf(o,n,a,l,s){const c=a+"-grammar.json";return{$type:"extended",logLevel:Yy.Warning,extensions:[{config:{name:a,publisher:"Example.com",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:[{id:a}],grammars:[{language:a,scopeName:"source."+a,path:c}]}},filesOrContents:new Map([[c,l]])}],vscodeApiConfig:{userConfiguration:{json:JSON.stringify({"editor.wordBasedSuggestions":"off","editor.experimental.asyncTokenization":!1})}},editorAppConfig:{codeResources:{modified:{text:n,enforceLanguageId:a,uri:o}},monacoWorkerFactory:cg},languageClientConfigs:{configs:{[a]:{clientOptions:{documentSelector:[a]},connection:{options:s}}}}}}const DS=me.memo(Is);function Pa(o){const[n,a]=me.useState(),[l,s]=me.useState();me.useEffect(()=>{let d=!0,p;async function m(){const h=await CS(o.language,o.grammar,o.grammarExtension,o.excludeText,o.includeAst);p=h.worker,d&&a(tf(o.uri,"",o.language,h.textmateGrammar,{$type:"WorkerDirect",worker:p}))}return m(),()=>{d=!1,setTimeout(()=>{p.terminate()},5e3)}},[o.excludeText,o.grammar,o.grammarExtension,o.includeAst,o.language,o.uri]),me.useEffect(()=>{l?.sendNotification(RS,{uri:o.uri,value:o.value??""})},[l,o.uri,o.value]);const c=me.useCallback(d=>{const p=d.getLanguageClient(o.language);if(!p)throw new Error;s(p);const m=o.onChange;m&&p.onNotification(bS,h=>{h.uri===o.uri&&m({text:h.text,ast:h.ast})})},[o.language,o.onChange,o.uri]);return n?Z.jsx(DS,{className:o.className,wrapperConfig:n,onLoad:c}):Z.jsx("div",{})}function CS(o,n,a,l,s){return new Promise((c,d)=>{const p=new Worker(new URL(""+new URL("DslEditorWorker-B8wbWFlF.js",import.meta.url).href,import.meta.url),{type:"module"});p.onmessage=m=>{m.data.type==="started"&&c({worker:p,textmateGrammar:m.data.textmateGrammar})},p.onerror=d,p.postMessage({type:"start",language:o,grammar:n,grammarExtension:a,excludeText:l,includeAst:s})})}function Ya(o,n){const a=me.useRef(void 0);return me.useCallback((...l)=>(clearTimeout(a.current),new Promise(s=>{a.current=setTimeout(()=>s(o(...l)),n)})),[n])}const AS=Yc();function NS(){const[,o]=me.useState(),[n,a]=me.useState(),l=Ya(s=>{o(c=>(a(Qc(AS.diff(c,s.ast)??{},c)),s.ast))},500);return Z.jsxs("main",{children:[Z.jsx(Pa,{uri:"file:///code",language:"classmodel",grammar:Xc,grammarExtension:dr,value:Zs,onChange:l,excludeText:!0,includeAst:!0}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}})]})}function _S(){return Z.jsx("main",{children:Z.jsx(Pa,{uri:"file:///code",language:"classmodel",grammar:Xc,grammarExtension:dr,value:Zs})})}const $S=`{
  name: 'Langium',
  scopeName: 'source.langium',
  fileTypes: ['langium'],
  patterns: [
    {
      include: '#regex',
    },
    {
      include: '#comments',
    },
    {
      name: 'keyword.control.langium',
      match:
        '\\b(current|entry|extends|fragment|grammar|hidden|import|infer|infers|interface|returns|terminal|type|with)\\b',
    },
    {
      name: 'constant.language.langium',
      match: '\\b(?i:true|false)\\b',
    },
    {
      name: 'keyword.symbol.langium',
      match: '(\\{|\\}|\\:|\\]|\\[|\\(|\\)|(\\??|\\+?)\\=|->|\\=>|<|>|\\,|\\*|\\+|\\@|\\||\\&|\\?|\\!|\\;)',
    },
    {
      name: 'string.quoted.double.langium',
      begin: '"',
      end: '"',
      patterns: [
        {
          include: '#string-character-escape',
        },
      ],
    },
    {
      name: 'string.quoted.single.langium',
      begin: "'",
      end: "'",
      patterns: [
        {
          include: '#string-character-escape',
        },
      ],
    },
  ],
  repository: {
    comments: {
      patterns: [
        {
          name: 'comment.block.langium',
          begin: '/\\*',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.comment.langium',
            },
          },
          end: '\\*/',
          endCaptures: {
            '0': {
              name: 'punctuation.definition.comment.langium',
            },
          },
        },
        {
          begin: '(^\\s+)?(?=//)',
          beginCaptures: {
            '1': {
              name: 'punctuation.whitespace.comment.leading.cs',
            },
          },
          end: '(?=$)',
          name: 'comment.line.langium',
        },
      ],
    },
    'string-character-escape': {
      name: 'constant.character.escape.langium',
      match:
        '\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u\\{[0-9A-Fa-f]+\\}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)',
    },
    regex: {
      patterns: [
        {
          name: 'string.regexp.ts',
          begin:
            '(?<!\\+\\+|--|})(?<=[=(:,\\[?+!]|^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case|=>|&&|\\|\\||\\*\\/)\\s*(\\/)(?![\\/*])(?=(?:[^\\/\\\\\\[\\()]|\\\\.|\\[([^\\]\\\\]|\\\\.)+\\]|\\(([^\\)\\\\]|\\\\.)+\\))+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.string.begin.ts',
            },
          },
          end: '(/)([a-z]*)',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.string.end.ts',
            },
            '2': {
              name: 'keyword.other.ts',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'string.regexp.ts',
          begin:
            '((?<![_$[:alnum:])\\]]|\\+\\+|--|}|\\*\\/)|((?<=^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case))\\s*)\\/(?![\\/*])(?=(?:[^\\/\\\\\\[]|\\\\.|\\[([^\\]\\\\]|\\\\.)*\\])+\\/([a-z]+|(?![\\/\\*])|(?=\\/\\*))(?!\\s*[a-zA-Z0-9_$]))',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.string.begin.ts',
            },
          },
          end: '(/)([a-z]*)',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.string.end.ts',
            },
            '2': {
              name: 'keyword.other.ts',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
      ],
    },
    regexp: {
      patterns: [
        {
          name: 'keyword.control.anchor.regexp',
          match: '\\\\[bB]|\\^|\\$',
        },
        {
          match: '\\\\[1-9]\\d*|\\\\k<([a-zA-Z_$][\\w$]*)>',
          captures: {
            '0': {
              name: 'keyword.other.back-reference.regexp',
            },
            '1': {
              name: 'variable.other.regexp',
            },
          },
        },
        {
          name: 'keyword.operator.quantifier.regexp',
          match: '[?+*]|\\{(\\d+,\\d+|\\d+,|,\\d+|\\d+)\\}\\??',
        },
        {
          name: 'keyword.operator.or.regexp',
          match: '\\|',
        },
        {
          name: 'meta.group.assertion.regexp',
          begin: '(\\()((\\?=)|(\\?!)|(\\?<=)|(\\?<!))',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.group.regexp',
            },
            '2': {
              name: 'punctuation.definition.group.assertion.regexp',
            },
            '3': {
              name: 'meta.assertion.look-ahead.regexp',
            },
            '4': {
              name: 'meta.assertion.negative-look-ahead.regexp',
            },
            '5': {
              name: 'meta.assertion.look-behind.regexp',
            },
            '6': {
              name: 'meta.assertion.negative-look-behind.regexp',
            },
          },
          end: '(\\))',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.group.regexp',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'meta.group.regexp',
          begin: '\\((?:(\\?:)|(?:\\?<([a-zA-Z_$][\\w$]*)>))?',
          beginCaptures: {
            '0': {
              name: 'punctuation.definition.group.regexp',
            },
            '1': {
              name: 'punctuation.definition.group.no-capture.regexp',
            },
            '2': {
              name: 'variable.other.regexp',
            },
          },
          end: '\\)',
          endCaptures: {
            '0': {
              name: 'punctuation.definition.group.regexp',
            },
          },
          patterns: [
            {
              include: '#regexp',
            },
          ],
        },
        {
          name: 'constant.other.character-class.set.regexp',
          begin: '(\\[)(\\^)?',
          beginCaptures: {
            '1': {
              name: 'punctuation.definition.character-class.regexp',
            },
            '2': {
              name: 'keyword.operator.negation.regexp',
            },
          },
          end: '(\\])',
          endCaptures: {
            '1': {
              name: 'punctuation.definition.character-class.regexp',
            },
          },
          patterns: [
            {
              name: 'constant.other.character-class.range.regexp',
              match:
                '(?:.|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))\\-(?:[^\\]\\\\]|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))',
              captures: {
                '1': {
                  name: 'constant.character.numeric.regexp',
                },
                '2': {
                  name: 'constant.character.control.regexp',
                },
                '3': {
                  name: 'constant.character.escape.backslash.regexp',
                },
                '4': {
                  name: 'constant.character.numeric.regexp',
                },
                '5': {
                  name: 'constant.character.control.regexp',
                },
                '6': {
                  name: 'constant.character.escape.backslash.regexp',
                },
              },
            },
            {
              include: '#regex-character-class',
            },
          ],
        },
        {
          include: '#regex-character-class',
        },
      ],
    },
    'regex-character-class': {
      patterns: [
        {
          name: 'constant.other.character-class.regexp',
          match: '\\\\[wWsSdDtrnvf]|\\.',
        },
        {
          name: 'constant.character.numeric.regexp',
          match: '\\\\([0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})',
        },
        {
          name: 'constant.character.control.regexp',
          match: '\\\\c[A-Z]',
        },
        {
          name: 'constant.character.escape.backslash.regexp',
          match: '\\\\.',
        },
      ],
    },
  },
}`,wS=me.memo(Is);function fg(o){const[n,a]=me.useState();me.useEffect(()=>{let s=new Worker(new URL(""+new URL("DslGrammarEditorWorker-D-5FDOby.js",import.meta.url).href,import.meta.url),{type:"module"});return a(tf(o.uri,o.value??"","langium",$S,{$type:"WorkerDirect",worker:s})),()=>{setTimeout(()=>{s?.terminate(),s=void 0},5e3)}},[o.uri]);const l=me.useCallback(s=>{const c=o.onChange;c&&s.modified&&c(s.modified)},[o.onChange]);return n?Z.jsx(wS,{className:o.className,wrapperConfig:n,onTextChanged:l}):Z.jsx("div",{})}const kS=me.memo(Is);function xS(o){const[n,a]=me.useState();me.useEffect(()=>{a(ES(o.uri,o.value??""))},[o.uri]);const l=me.useCallback(s=>{const c=o.onChange;c&&s.modified&&c(s.modified)},[o.onChange]);return n?Z.jsx(kS,{className:o.className,wrapperConfig:n,onTextChanged:l}):Z.jsx("div",{})}function ES(o,n){const a="json",l=a+"-grammar.json",s="";return{$type:"extended",logLevel:Yy.Warning,extensions:[{config:{name:a,publisher:"Example.com",version:"1.0.0",engines:{vscode:"*"},contributes:{languages:[{id:a}],grammars:[{language:a,scopeName:"source."+a,path:l}]}},filesOrContents:new Map([[l,s]])}],vscodeApiConfig:{userConfiguration:{json:JSON.stringify({"editor.wordBasedSuggestions":"off","editor.experimental.asyncTokenization":!1})}},editorAppConfig:{codeResources:{modified:{text:n,enforceLanguageId:a,uri:o}},monacoWorkerFactory:cg}}}function MS(){const[o,n]=me.useState(Xc),[a,l]=me.useState(dr),s=Ya(n,500),c=Ya(l,500);return Z.jsxs("main",{children:[Z.jsxs("div",{className:"column",children:[Z.jsx(fg,{uri:"file:///grammar",value:o,onChange:s}),Z.jsx(xS,{uri:"file:///grammar-extension",value:a,onChange:c})]}),Z.jsx(Pa,{uri:"file:///code",language:"classmodel",grammar:o,grammarExtension:a,value:Zs})]})}const zS=`grammar ClassModel

entry ClassModel:
    Localization*
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    Localization*
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    Localization*
    'attribute' name=ID dataType=[DataType:ID] Multiplicity?;

Reference:
    Localization*
    kind=ReferenceKind name=ID target=[Class:ID] Multiplicity?;

ReferenceKind:
    {infer ReferenceKind__Association} 'reference' |
    {infer ReferenceKind__Composition} 'composition' |
    {infer ReferenceKind__Aggregation} 'aggregation';

fragment Multiplicity:
    '[' lower=Natural ('..' upper=UnlimitedNatural)? ']';

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    Localization*
    'string' name=ID ('{'
        ('length' length=Natural)?
        ('minLength' minLength=Natural)?
        ('maxLength' maxLength=Natural)?
        ('pattern' pattern=STRING)?
    '}')?;

NumericType:
    Localization*
    'numeric' name=ID ('{'
        ('size' size=Natural)?
        ('totalDigits' totalDigits=Natural)?
        ('fractionDigits' fractionDigits=Natural)?
        ('minInclusive' minInclusive=Numeric)?
        ('minExclusive' minExclusive=Numeric)?
        ('maxInclusive' maxInclusive=Numeric)?
        ('maxExclusive' maxExclusive=Numeric)?
        ('measurementUnit' pattern=STRING)?
    '}')?;

BooleanType:
    Localization*
    'boolean' name=ID ('{' '}')?;

TimeType:
    Localization*
    'time' name=ID ('{'
        ('instantUnits' instantUnits+=TimeUnit+)?
        ('instantFractionDigits' instantFractionDigits=Natural)?
        ('durationUnits' durationUnits+=TimeUnit+)?
        ('durationFractionDigits' durationFractionDigits=Natural)?
        ('recurrence' recurrence=TimeUnit)?
    '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    Localization*
    'uuid' name=ID ('{' '}')?;

EnumeratedType:
    Localization*
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    '}')?;

EnumeratedTypeLiteral:
    Localization*
    name=ID;

fragment Localization:
    '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

UnlimitedNatural returns number:
    INT | '*';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
`,US=`@name('ru-RU', 'модель данных интернет-магазина')
classModel OnlineStore

@name('ru-RU', 'пользователь')
@description('ru-RU', 'пользователь системы, который может делать заказы')
class User {

    @name('ru-RU', 'имя')
    @name('fr-FR', 'prénom')
    attribute firstName String[0..1]

    @name('ru-RU', 'фамилия')
    attribute lastName String[0..1]

    @name('ru-RU', 'дата рождения')
    attribute birthDate Date[0..1]

    @name('ru-RU', 'электронная почта')
    attribute email String

}

@name('ru-RU', 'заказ')
class Order {

    @name('ru-RU', 'адресс доставки')
    attribute deliveryAddress String

    @name('ru-RU', 'пользователь')
    reference user User

    @name('ru-RU', 'элементы заказа')
    composition items OrderItem[0..*]

}

@name('ru-RU', 'элемент заказа')
class OrderItem {

    @name('ru-RU', 'заказ')
    reference order Order

    @name('ru-RU', 'продукт')
    reference product Product

    @name('ru-RU', 'количество')
    attribute quantity UnsignedInt

    @name('ru-RU', 'стоимость')
    attribute price Money

}

@name('ru-RU', 'продукт')
abstract class Product {

    @name('ru-RU', 'название')
    attribute name String

}

@name('ru-RU', 'книга')
class Book extends Product {

    @name('ru-RU', 'автор')
    attribute author String

}

@name('ru-RU', 'ручка')
class Pen extends Product {

    @name('ru-RU', 'цвет')
    attribute color Color

}

@name('ru-RU', 'строка')
string String {
}

@name('ru-RU', 'целое беззнаковое число')
numeric UnsignedInt {
    fractionDigits 0
    minInclusive 0
}

@name('ru-RU', 'дата')
time Date {
    instantUnits year month day
}

@name('ru-RU', 'денежный тип')
numeric Money {
    totalDigits 19
    fractionDigits 4
    minInclusive 0
}

@name('ru-RU', 'цвет')
enumerated Color {

    @name('ru-RU', 'красный')
    Red

    @name('ru-RU', 'зелёный')
    Green

    @name('ru-RU', 'синий')
    Blue

    @name('ru-RU', 'чёрный')
    Black

}
`;function OS(){const[o,n]=me.useState(zS),a=Ya(n,500);return Z.jsxs("main",{children:[Z.jsx(fg,{uri:"file:///grammar",value:o,onChange:a}),Z.jsx(Pa,{uri:"file:///code",value:US,language:"classmodel",grammar:o})]})}const ml=`grammar ClassModel

entry ClassModel:
    _NL? Localization* _NL?
    'classModel' name=ID
    (classes+=Class | dataTypes+=DataType)*;

Class:
    _NL? Localization* _NL?
    kind=ClassKind name=ID ('extends' generals+=[Class:ID] (',' generals+=[Class:ID])*)? ('{'
        properties+=Property*
    _NL? _NL? '}')?;

ClassKind:
    {infer ClassKind__Regular} 'class' |
    {infer ClassKind__Abstract} 'abstract' 'class' |
    {infer ClassKind__Interface} 'interface';

Property:
    Attribute | Reference;

Attribute:
    _NL? Localization* _NL?
    'attribute' name=ID dataType=[DataType:ID] Multiplicity?;

Reference:
    _NL? Localization* _NL?
    kind=ReferenceKind name=ID target=[Class:ID] Multiplicity? ('opposite' opposite=[Reference:ID])?;

ReferenceKind:
    {infer ReferenceKind__Association} 'reference' |
    {infer ReferenceKind__Composition} 'composition' |
    {infer ReferenceKind__Aggregation} 'aggregation';

fragment Multiplicity:
    '[' lower=Natural ('..' upper=UnlimitedNatural)? ']';

DataType:
    StringType | NumericType | BooleanType | TimeType | UuidType | EnumeratedType;

StringType:
    _NL? Localization* _NL?
    'string' name=ID ('{'
        (_NL? 'length' length=Natural)?
        (_NL? 'minLength' minLength=Natural)?
        (_NL? 'maxLength' maxLength=Natural)?
        (_NL? 'pattern' pattern=STRING)?
    _NL? '}')?;

NumericType:
    _NL? Localization* _NL?
    'numeric' name=ID ('{'
        (_NL? 'size' size=Natural)?
        (_NL? 'totalDigits' totalDigits=Natural)?
        (_NL? 'fractionDigits' fractionDigits=Natural)?
        (_NL? 'minInclusive' minInclusive=Numeric)?
        (_NL? 'minExclusive' minExclusive=Numeric)?
        (_NL? 'maxInclusive' maxInclusive=Numeric)?
        (_NL? 'maxExclusive' maxExclusive=Numeric)?
        (_NL? 'measurementUnit' pattern=STRING)?
    _NL? '}')?;

BooleanType:
    _NL? Localization* _NL?
    'boolean' name=ID ('{' _NL? '}')?;

TimeType:
    _NL? Localization* _NL?
    'time' name=ID ('{'
        (_NL? 'instantUnits' instantUnits+=TimeUnit+)?
        (_NL? 'instantFractionDigits' instantFractionDigits=Natural)?
        (_NL? 'durationUnits' durationUnits+=TimeUnit+)?
        (_NL? 'durationFractionDigits' durationFractionDigits=Natural)?
        (_NL? 'recurrence' recurrence=TimeUnit)?
    _NL? '}')?;

TimeUnit:
    {infer TimeUnit__Year} 'year' |
    {infer TimeUnit__Quarter} 'quarter' |
    {infer TimeUnit__Month} 'month' |
    {infer TimeUnit__Week} 'week' |
    {infer TimeUnit__Day} 'day' |
    {infer TimeUnit__Hour} 'hour' |
    {infer TimeUnit__Minute} 'minute' |
    {infer TimeUnit__Second} 'second';

UuidType:
    _NL? Localization* _NL?
    'uuid' name=ID ('{' _NL? '}')?;

EnumeratedType:
    _NL? Localization* _NL?
    'enumerated' name=ID ('{'
        literals+=EnumeratedTypeLiteral*
    _NL? _NL? '}')?;

EnumeratedTypeLiteral:
    _NL? Localization* _NL?
    name=ID;

fragment Localization:
    _NL? '@name' '(' localizedName+=Ecore_EStringToStringMapEntry ')' |
    _NL? '@description' '(' localizedDescription+=Ecore_EStringToStringMapEntry ')';

Ecore_EStringToStringMapEntry:
    key=STRING ',' value=STRING;

Numeric returns number:
    '-'? (INT | DECIMAL);

Natural returns number:
    INT;

UnlimitedNatural returns number:
    INT | '*';

_NL returns string: '__NL__';

terminal ID: /[_a-zA-Z][\\w_]*/;
terminal STRING: /'(\\\\.|[^'])*'/;
terminal INT returns number: /\\d+/;
terminal DECIMAL returns number: /(\\d*\\.\\d+|\\d+\\.\\d*)/;

hidden terminal WS: /\\s+/;
hidden terminal SL_COMMENT: /\\/\\/[^\\n\\r]*/;
hidden terminal ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//;
`,HS={json:{version:"1.0",encoding:"utf-8"},ns:{classmodel:"https://example.com/class-model",ecore:"http://www.eclipse.org/emf/2002/Ecore"},content:[{id:"0197f429-e5e0-743b-9330-d755229cecbb",eClass:"classmodel:ClassModel",data:{localizedName:[{id:"0197f429-e5e0-743b-9330-db1f4b92def2",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"модель данных интернет-магазина"}}],name:"OnlineStore",classes:[{id:"0197f429-e5e0-743b-9330-dfccbe50ea8a",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e0-743b-9330-e355d52c727d",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"пользователь"}}],localizedDescription:[{id:"0197f429-ed3a-7275-bd07-216ec2ea7190",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"пользователь системы, который может делать заказы"}}],kind:"Regular",name:"User",properties:[{id:"0197f429-e5e1-777f-9508-9562d8686ac3",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-9940a4401452",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"имя"}},{id:"0197f429-ed3a-7275-bd07-1cb37b2a7462",eClass:"ecore:EStringToStringMapEntry",data:{key:"fr-FR",value:"prénom"}}],name:"firstName",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:0,upper:1}},{id:"0197f429-e5e1-777f-9508-9e16d8090911",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-a153db85075e",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"фамилия"}}],name:"lastName",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:0,upper:1}},{id:"0197f429-e5e1-777f-9508-a6e22e7a4ea1",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-abc83e024132",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"дата рождения"}}],name:"birthDate",dataType:"0197f429-e5e1-777f-9509-0f287fff11bb",lower:0,upper:1}},{id:"0197f429-e5e1-777f-9508-ade439a6d52c",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-b1086feb5763",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"электронная почта"}}],name:"email",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:1,upper:1}}]}},{id:"0197f429-e5e1-777f-9508-b641ee62a5f5",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-b881ccf9eb30",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"заказ"}}],kind:"Regular",name:"Order",properties:[{id:"0197f429-e5e1-777f-9508-be89e6339edf",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-c31e3d82b8f2",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"адресс доставки"}}],name:"deliveryAddress",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:1,upper:1}},{id:"0197f429-ed3a-7275-bd07-2784344924c7",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-29b065d892dc",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"пользователь"}}],kind:"Association",name:"user",target:"0197f429-e5e0-743b-9330-dfccbe50ea8a",lower:1,upper:1}},{id:"0197f429-ed3a-7275-bd07-2d300a84c220",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-32dd716a34ea",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"элементы заказа"}}],kind:"Composition",name:"items",target:"0197f429-e5e1-777f-9508-c6601dab323e",lower:0,upper:-1,opposite:"0197f429-ed3a-7275-bd07-36990b2ac16b"}}]}},{id:"0197f429-e5e1-777f-9508-c6601dab323e",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-c8c26742c987",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"элемент заказа"}}],kind:"Regular",name:"OrderItem",properties:[{id:"0197f429-ed3a-7275-bd07-36990b2ac16b",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-394578d24242",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"заказ"}}],kind:"Association",name:"order",target:"0197f429-e5e1-777f-9508-b641ee62a5f5",opposite:"0197f429-ed3a-7275-bd07-2d300a84c220",lower:1,upper:1}},{id:"0197f429-ed3a-7275-bd07-3c2dbf968c3a",eClass:"classmodel:Reference",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-434c6678bca1",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"продукт"}}],kind:"Association",name:"product",target:"0197f429-e5e1-777f-9508-cdbcf6bc3c93",lower:1,upper:1}},{id:"0197f429-ed3a-7275-bd07-45fe4f71568c",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-4b41614e5f43",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"количество"}}],name:"quantity",dataType:"0197f429-e5e1-777f-9509-044b8d535c9b",lower:1,upper:1}},{id:"0197f429-ed3a-7275-bd07-4fd93f18c234",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-ed3a-7275-bd07-52c3284aa73e",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"стоимость"}}],name:"price",dataType:"0197f429-e5e1-777f-9509-170538969a7e",lower:1,upper:1}}]}},{id:"0197f429-e5e1-777f-9508-cdbcf6bc3c93",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-d37e6445bac9",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"продукт"}}],kind:"Abstract",name:"Product",properties:[{id:"0197f429-e5e1-777f-9508-d5b1f09f9aed",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-da74b603e76a",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"название"}}],name:"name",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:1,upper:1}}]}},{id:"0197f429-e5e1-777f-9508-dc909d2b0a9e",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-e390e1caaea5",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"книга"}}],kind:"Regular",name:"Book",generals:["0197f429-e5e1-777f-9508-cdbcf6bc3c93"],properties:[{id:"0197f429-e5e1-777f-9508-e6880e451db7",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-e8ddae7426f7",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"автор"}}],name:"author",dataType:"0197f429-e5e1-777f-9508-fecb083bb4df",lower:1,upper:1}}]}},{id:"0197f429-e5e1-777f-9508-ee762760f2b6",eClass:"classmodel:Class",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-f0bcb59f6298",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"ручка"}}],kind:"Regular",name:"Pen",generals:["0197f429-e5e1-777f-9508-cdbcf6bc3c93"],properties:[{id:"0197f429-e5e1-777f-9508-f49e7a7537ae",eClass:"classmodel:Attribute",data:{localizedName:[{id:"0197f429-e5e1-777f-9508-facd13126526",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"цвет"}}],name:"color",dataType:"0197f429-e5e1-777f-9509-1e1e83eaa480",lower:1,upper:1}}]}}],dataTypes:[{id:"0197f429-e5e1-777f-9508-fecb083bb4df",eClass:"classmodel:StringType",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-0344c765ccc1",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"строка"}}],name:"String"}},{id:"0197f429-e5e1-777f-9509-044b8d535c9b",eClass:"classmodel:NumericType",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-09af76b18988",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"целое беззнаковое число"}}],name:"UnsignedInt",fractionDigits:0,minInclusive:0}},{id:"0197f429-e5e1-777f-9509-0f287fff11bb",eClass:"classmodel:TimeType",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-109fcaaaa3ae",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"дата"}}],name:"Date",instantUnits:["Year","Month","Day"]}},{id:"0197f429-e5e1-777f-9509-170538969a7e",eClass:"classmodel:NumericType",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-19cc84ddcd7a",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"денежный тип"}}],name:"Money",totalDigits:19,fractionDigits:4,minInclusive:0}},{id:"0197f429-e5e1-777f-9509-1e1e83eaa480",eClass:"classmodel:EnumeratedType",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-225460e88b81",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"цвет"}}],name:"Color",literals:[{id:"0197f429-e5e1-777f-9509-256cfd355764",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-2abbde2679ea",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"красный"}}],name:"Red"}},{id:"0197f429-e5e1-777f-9509-2cbe786bbcae",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-30789e2f39c0",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"зелёный"}}],name:"Green"}},{id:"0197f429-e5e1-777f-9509-35c10790ad73",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-3b8604d6c076",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"синий"}}],name:"Blue"}},{id:"0197f429-e5e1-777f-9509-3d33b01d8498",eClass:"classmodel:EnumeratedTypeLiteral",data:{localizedName:[{id:"0197f429-e5e1-777f-9509-417bea64384d",eClass:"ecore:EStringToStringMapEntry",data:{key:"ru-RU",value:"чёрный"}}],name:"Black"}}]}}]}}]};class dg{node;indices;constructor(n){this.node=n,this.indices=new Map}type(){return this.node.$type}get(n){const a=this.node[n];if(!Array.isArray(a))return a;const l=this.indices.get(n)??0;return this.indices.set(n,l+1),a[l]}}function LS(o,n,a){const l=n.rules.find(c=>se(c)&&c.name===o.$type);if(!l)throw new Error(`Rule not found for ${o.$type}`);const s=Tl(new dg(o),n,a??{},l.definition);return BS(s?.trim().replace(/[ ]+$/gm,"")??"")+`
`}function Tl(o,n,a,l){if(tn(l))return Gs(o,n,a,l,qS);if(nn(l))return Gs(o,n,a,l,GS);if(mt(l))return Gs(o,n,a,l,jS);if(lt(l))return l.rule.ref?.name==="_NL"?`
`:l.rule.ref?.fragment||o.type()===l.rule.ref?.name?Gs(o,n,a,l.rule.ref.definition,Tl,l.cardinality):void 0;if(ft(l))return o.type()===l.inferredType?.name?"":void 0;if(Hn(l))return l.value;throw new Error(`Unsupported ${l.$type}`)}function qS(o,n,a,l){const s=[];for(const c of l.elements){const d=Tl(o,n,a,c);if(d===void 0)return;s.push(d)}return pg(s)}function GS(o,n,a,l){for(const s of l.elements){const c=Tl(o,n,a,s);if(c!==void 0)return c}}function jS(o,n,a,l){if(lt(l.terminal)){const s=o.get(l.feature);if(s==null)return;if(se(l.terminal.rule.ref))if(l.terminal.rule.ref.dataType){if(!vS(s))throw new Error("Expected a value type");const c=a[l.terminal.rule.ref.name]?.value.print;if(c)return c(s);if(l.terminal.rule.ref.dataType==="number")return s.toString();throw new Error(`Unsupported value with type ${typeof s}`)}else{if(!Qy(s))throw new Error(`Expected AST node but got value with type ${typeof s}`);return Tl(new dg(s),n,a,l.terminal.rule.ref.definition)}if(pt(l.terminal.rule.ref)){if(typeof s=="string")return l.terminal.rule.ref.name==="STRING"?"'"+s.replace("\\","\\\\").replace("\b","\\b").replace("\f","\\f").replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t").replace("\v","\\v").replace("'","\\'")+"'":s;if(typeof s=="number")return s.toString();throw new Error(`Unsupported value with type ${typeof s}`)}throw new Error}if(Br(l.terminal)){const s=o.get(l.feature);if(s===void 0)return;if(!NT(s))throw new Error(`Expected cross-reference but got value with type ${typeof s}`);return s.$refText}throw new Error(`Unsupported terminal ${l.terminal.$type}`)}const KS=1e4;function Gs(o,n,a,l,s,c){const d=[],p=c==="*"||c==="+"||l.cardinality==="*"||l.cardinality==="+";let m=0;do{const g=s(o,n,a,l);if(g===void 0)break;if(m++>=KS)throw new Error;d.push(g)}while(p);const h=c==="?"||c==="*"||l.cardinality==="?"||l.cardinality==="*";return d.length||h?pg(d):void 0}function pg(o){let n="";for(const a of o)!n.length||n.endsWith(`
`)||n.endsWith("(")||n.endsWith("[")||n.endsWith(".")||a.startsWith(",")||a.startsWith(".")||a.startsWith("(")||a.startsWith(")")||a.startsWith("[")||a.startsWith("]")?n+=a:a&&(n+=" "+a);return n}function BS(o){let n="",a=0;for(let l=0;l<o.length;l++)n+=o[l],o[l]==="{"?a++:o[l]==="}"?a--:o[l]===`
`&&o[l+1]!==`
`&&o[l+1]!=="}"&&(n+="    ".repeat(a));return n}const FS=new K.NotificationType("dsl/ModelChange"),PS=new K.NotificationType("dsl/SetModel"),YS=me.memo(Is);function Py(o){const[n,a]=me.useState(),[l,s]=me.useState();me.useEffect(()=>{let d=!0,p;async function m(){const h=await QS(o.language,o.grammar,o.grammarExtension,o.value.ns);p=h.worker,d&&a(tf(o.uri,"",o.language,h.textmateGrammar,{$type:"WorkerDirect",worker:p}))}return m(),()=>{d=!1,setTimeout(()=>{p.terminate()},5e3)}},[o.grammar,o.grammarExtension,o.language,o.uri]),me.useEffect(()=>{l?.sendNotification(PS,{uri:o.uri,value:o.value})},[l,o.uri,o.value]);const c=me.useCallback(d=>{const p=d.getLanguageClient(o.language);if(!p)throw new Error;s(p);const m=o.onChange;m&&p.onNotification(FS,h=>{h.uri===o.uri&&m(h.model)})},[o.language,o.onChange,o.uri]);return n?Z.jsx(YS,{className:o.className,wrapperConfig:n,onLoad:c}):Z.jsx("div",{})}function QS(o,n,a,l){return new Promise((s,c)=>{const d=new Worker(new URL(""+new URL("DslModelEditorWorker-BVGquMxW.js",import.meta.url).href,import.meta.url),{type:"module"});d.onmessage=p=>{p.data.type==="started"&&s({worker:d,textmateGrammar:p.data.textmateGrammar})},d.onerror=c,d.postMessage({type:"start",language:o,grammar:n,grammarExtension:a,namespaces:l})})}const XS=Yc({});function VS(){const[o,n]=me.useState(),[a,l]=me.useState(),s=Ya(c=>{n(d=>(l(Qc(XS.diff(d,c)??{},d)),c))},500);return Z.jsxs("main",{children:[Z.jsx(Py,{uri:"file:///code",language:"classmodel",grammar:ml,grammarExtension:dr,value:HS,onChange:s}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:a??""}}),o?Z.jsx(Py,{uri:"file:///code2",language:"classmodel2",grammar:ml,grammarExtension:dr,value:o}):Z.jsx("div",{})]})}const ZS=Yc();function IS(){const[,o]=me.useState(),[n,a]=me.useState(),[l,s]=me.useState(),c=Ya(async d=>{if(o(p=>(a(Qc(ZS.diff(p,d.ast)??{},p)),d.ast)),d.ast){const{Grammar:p}=await cS({grammar:ml});s(LS(d.ast,p,TS(dr)))}},500);return Z.jsxs("main",{children:[Z.jsx(Pa,{uri:"file:///code",language:"classmodel",grammar:ml,grammarExtension:dr,value:Zs,onChange:c,excludeText:!0,includeAst:!0}),Z.jsx("div",{className:"json-diff",dangerouslySetInnerHTML:{__html:n??""}}),Z.jsx(Pa,{uri:"file:///code2",language:"classmodel2",grammar:ml,grammarExtension:dr,value:l})]})}function WS(){return Z.jsxs(k0,{children:[Z.jsx("header",{children:Z.jsx("nav",{children:Z.jsxs("ul",{children:[Z.jsx("li",{children:Z.jsx(Ha,{to:"/",children:"Editor"})}),Z.jsx("li",{children:Z.jsx(Ha,{to:"/ast",children:"AST"})}),Z.jsx("li",{children:Z.jsx(Ha,{to:"/print",children:"Print"})}),Z.jsx("li",{children:Z.jsx(Ha,{to:"/grammar",children:"Grammar"})}),Z.jsx("li",{children:Z.jsx(Ha,{to:"/extension",children:"Extension"})}),Z.jsx("li",{children:Z.jsx(Ha,{to:"/model",children:"Model"})})]})})}),Z.jsxs(x0,{children:[Z.jsx(La,{index:!0,element:Z.jsx(_S,{})}),Z.jsx(La,{path:"ast",element:Z.jsx(NS,{})}),Z.jsx(La,{path:"print",element:Z.jsx(IS,{})}),Z.jsx(La,{path:"grammar",element:Z.jsx(OS,{})}),Z.jsx(La,{path:"extension",element:Z.jsx(MS,{})}),Z.jsx(La,{path:"model",element:Z.jsx(VS,{})})]})]})}MT.createRoot(document.getElementById("root")).render(Z.jsx(WS,{}));
